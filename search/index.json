[{"content":"æ·±åº¦Qå­¦ä¹ ç®—æ³• ç†è®º æ·±åº¦Qå­¦ä¹ ç®—æ³•ï¼ˆDeep Q-Learning Algorithmï¼‰æ˜¯å°†Qè¡¨æ ¼æ›¿æ¢ä¸ºç¥ç»ç½‘ç»œçš„Qå­¦ä¹ ç®—æ³•ï¼Œç”± DeepMind çš„ Mnih et al. [1] [2] æå‡ºã€‚ Qè¡¨æ ¼æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•° $f: S\\times A \\rightarrow \\mathbb{R}$ï¼Œæˆ‘ä»¬è‡ªç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ç¥ç»ç½‘ç»œæ„é€ è¿™ä¸ªå‡½æ•°ï¼Œè®©å®ƒå¯ä»¥å¤„ç†è¿ç»­çš„çŠ¶æ€å’ŒåŠ¨ä½œã€‚æ­¤å¤–ï¼Œä½¿ç”¨ç¥ç»ç½‘ç»œè¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼šæˆ‘ä»¬å¯ä»¥å‘ç¥ç»ç½‘ç»œè¾“å…¥å®ä¾‹ä¿¡æ¯ $m\\in M$ ï¼Œä½¿ä¹‹å¯ä»¥è·¨å®ä¾‹å­¦ä¹ å‡½æ•° $f: M\\times S\\times A\\rightarrow \\mathbb{R}$ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒAgentå¯ä»¥å°†å…¶åœ¨å®ä¾‹ $m_1,~m_2,~\\ldots~m_n$ä¸Š å­¦ä¹ åˆ°çš„ç»éªŒè¿ç§»åˆ°æœªæ›¾è§è¿‡çš„å®ä¾‹ $m_{n+1}$ ä¸Šï¼Œå¢å¼ºæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ï¼Œå‡å°‘å…¶æ¢ç´¢æ–°å®ä¾‹æ‰€éœ€çš„æ—¶é—´ã€‚\nç½‘ç»œæ›´æ–°æ–¹ç¨‹çš„è®¾è®¡ ï¼ˆä»¥ Bellman æ–¹ç¨‹ ä¸ºåŸºç¡€ï¼‰ï¼š $$Q(s_t, a_t) \\leftarrow (1-\\eta) Q(s_t, a_t) + \\eta(\\gamma\\max_{j\\in A} Q(s_{t+1}, j) + r_t)$$\næ±‚æ›´æ–°å‰ä¸æ›´æ–°åçš„å·®åˆ†ï¼š $$\\Delta Q(s_t, a_t) = -\\eta Q(s_t, a_t) + \\eta(\\gamma\\max_{j\\in A} Q(s_{t+1},j) + r_t)$$\nå³ï¼š $$\\Delta Q(s_t, a_t) = \\eta(\\gamma\\max_{j\\in A} Q(s_{t+1},j) + r_t - Q(s_t, a_t))$$\nåœ¨ç†æƒ³æƒ…å†µä¸‹å……åˆ†è®­ç»ƒæ—¶ï¼Œåº”å½“æœ‰ $$\\lim_{t\\rightarrow \\infty}\\Delta Q(s_t, a_t) = 0$$\nä¹Ÿå°±æ˜¯è¯´ï¼Œè®­ç»ƒçš„ç›®æ ‡åº”å½“æ˜¯æœ€å°åŒ– $\\Delta Q(s_t, a_t)$ï¼Œå³ç›®æ ‡å‡½æ•°ä¸ºï¼š $$L(\\theta) = \\mathrm{MSE}(Q(s_t, a_t),~\\gamma\\max_{j\\in A} Q(s_{t+1},j) + r_t)$$ å…¶ä¸­çš„ $\\mathrm{MSE}$ ä¹Ÿå¯ä»¥æ›¿æ¢ä¸ºå…¶å®ƒçš„æŸå¤±å‡½æ•°ã€‚\nå®ç° ä¸‹é¢ä»¥CartPole-v1ç¯å¢ƒä¸ºä¾‹ç¼–å†™è®­ç»ƒç¨‹åºã€‚\nå¼•å…¥ç›¸å…³çš„åº“ä»¥åŠå®šä¹‰ä¸€äº›è¶…å‚æ•°ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 from random import random, randint import gymnasium as gym import torch import torch.nn as nn from tqdm import tqdm n_actions = 2 n_states = 4 lr = 3e-4 discount = 0.95 batch_size = 128 epochs = 5000 å®šä¹‰ç¥ç»ç½‘ç»œï¼Œè¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªç®€å•çš„ä¸‰å±‚ç¥ç»ç½‘ç»œï¼Œå…¶ä¸­è¾“å‡ºå±‚æ²¡æœ‰æ·»åŠ æ¿€æ´»å‡½æ•°æ˜¯å› ä¸ºæ¿€æ´»å‡½æ•°ä¼šé™åˆ¶ç½‘ç»œçš„å€¼åŸŸè‡³ $R_{act}$ ï¼Œè®¾Qå‡½æ•°çš„å€¼åŸŸæ˜¯ $R_Q$ï¼Œ$R_Q\\nsubseteq R_{act}$ æ—¶æŸå¤±å‡½æ•°éš¾ä»¥æ”¶æ•›ï¼Œå½±å“è®­ç»ƒæ•ˆæœï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 class Net(nn.Sequential): norm_vector = torch.tensor([0.5, 1.0, 0.21, 0.5]) def __init__(self, in_feats = n_states, out_feats = n_actions, hidden = 32): super().__init__( nn.Linear(in_feats, hidden), nn.SiLU(), nn.Linear(hidden, hidden), nn.SiLU(), nn.Linear(hidden, out_feats), ) def forward(self, state): x = state/self.norm_vector # å½’ä¸€åŒ– y = super().forward(x) return y å®šä¹‰ç½‘ç»œã€ä¼˜åŒ–å™¨ä¸æŸå¤±å‡½æ•°ï¼š\n1 2 3 net = Net() optimizer = torch.optim.AdamW(net.parameters(), lr=lr, amsgrad=True) criterion = nn.SmoothL1Loss() # å‘ç°L1çš„æ•ˆæœæ¯”L2è¦å¥½ è®­ç»ƒè¿‡ç¨‹ï¼ˆåŸç¯å¢ƒæä¾›çš„rewardæ’ä¸º1ï¼Œä¿¡æ¯å¤ªå°‘ï¼Œå› æ­¤è¿™é‡Œæ”¹ç”¨è‡ªå®šä¹‰çš„rewardï¼Œåœ¨å€¾è§’è¿‡å¤§æˆ–ä½ç½®è¿‡è¿œæ—¶è¿›è¡Œæƒ©ç½šï¼‰ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 env = gym.make(\u0026#34;CartPole-v1\u0026#34;) state, info = env.reset() for t in tqdm(range(epochs)): # å‰å‘ä¼ æ’­ loss = 0.0 epsilon = 1 - t / epochs # åŠ¨æ€è°ƒæ•´epsilon for _ in range(batch_size): # é€‰æ‹©action ========================= row = net(state) if random() \u0026lt; epsilon: # exploration action = randint(0, n_actions-1) else: action = row.squeeze().argmax().item() # æ‰§è¡Œaction ========================= state, reward, terminated, truncated, info = env.step(action) # ä½¿ç”¨è‡ªå®šä¹‰çš„reward reward = -20.0 if terminated else 0 if abs(state[2]) \u0026gt; 0.1: # é™åˆ¶å€¾è§’ reward += -1.0 if abs(state[0]) \u0026gt; 0.3: # é™åˆ¶ä½ç½® reward += -2.0 if reward \u0026gt;= 0: reward = 1.0 # è®¡ç®—loss ========================= with torch.no_grad(): if terminated: curr_q = torch.tensor(reward) else: curr_q = net(state).max() * discount + reward loss += criterion(row[action], curr_q) if terminated or truncated: state, info = env.reset() # åå‘ä¼ æ’­ optimizer.zero_grad() (loss/batch_size).backward() torch.nn.utils.clip_grad_value_(net.parameters(), 1) optimizer.step() env.close() # ä¿å­˜checkpoint torch.save(net.state_dict(), \u0026#34;cartpole.ckpt\u0026#34;) æ¨ç†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 env = gym.make(\u0026#34;CartPole-v1\u0026#34;, render_mode=\u0026#34;human\u0026#34;) state, info = env.reset() with torch.no_grad(): for t in range(2000): row = net(state) action = row.squeeze().argmax(0).item() print(row) state, reward, terminated, truncated, info = env.step(action) if terminated or truncated: state, info = env.reset() env.close() ä¸å‡ºæ„å¤–çš„è¯ï¼Œè¿è¡Œç¨‹åºåå¯ä»¥çœ‹åˆ°ç±»ä¼¼äºè¿™æ ·çš„åŠ¨ç”»ï¼Œè¯´æ˜è¿™ä¸ªç®—æ³•ä»¥åŠæˆ‘ä»¬ç¼–å†™çš„ç¨‹åºéƒ½æ˜¯æœ‰æ•ˆçš„ï¼š å®Œæ•´çš„ç¨‹åºè§Github Gistï¼Œæ¨¡å‹æƒé‡å¯ä»¥ä»è¿™é‡Œä¸‹è½½ï¼ˆè™½ç„¶è‡ªå·±è®­ç»ƒä¸€ä¸ªä¹Ÿä¸è´¹äº‹ï¼‰ã€‚\nç»éªŒå›æ”¾ ç†è®º ä¸Šé¢çš„è®­ç»ƒQç½‘ç»œçš„æ–¹å¼å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚\næ ·æœ¬çš„åˆ©ç”¨ç‡ä½ï¼šæ¯æ¬¡é‡‡æ ·åªå¯¹åº”ä¸€æ¬¡å‰å‘ä¼ æ’­ï¼Œé‡‡æ ·å¾—åˆ°çš„æ ·æœ¬æœªè¢«å……åˆ†åˆ©ç”¨ï¼› æ ·æœ¬çš„æ—¶åºå…³è”æ€§å¤§ï¼šæ¯æ¬¡é‡‡æ ·åœ¨æ—¶é—´ä¸Šæ˜¯é«˜åº¦ç›¸å…³çš„ï¼Œä¸Šä¸€æ¬¡é‡‡æ ·çš„æœ«çŠ¶æ€å°±æ˜¯ä¸‹ä¸€æ¬¡é‡‡æ ·çš„åˆå§‹çŠ¶æ€ï¼Œå½±å“è®­ç»ƒæ•ˆæœï¼› è®­ç»ƒé€Ÿåº¦æ…¢ï¼šæ¯æ¬¡å‰å‘ä¼ æ’­åªä¼ æ’­ä¸€ç»„æ•°æ®ï¼Œé€Ÿåº¦è¾ƒæ…¢ã€‚ ä¸ºäº†ç¼“è§£ä¸Šè¿°é—®é¢˜ï¼ŒMnih et al. åœ¨æå‡ºæ·±åº¦Qå­¦ä¹ çš„åŒæ—¶ä¹Ÿæå‡ºäº†ç»éªŒå›æ”¾ï¼ˆExperience Replayï¼‰ç­–ç•¥ [2] ã€‚ å…¶ä¸»è¦æ€æƒ³æ˜¯å°†é‡‡æ ·ä¸è®­ç»ƒåˆ†ç¦»ï¼Œé‡‡æ ·æ—¶åœ¨è®°å¿†ä¸­ä¿å­˜é‡‡æ ·çš„è®°å½•ï¼Œè®­ç»ƒæ—¶éšæœºä»è®°å¿†ä¸­é€‰å–æ ·æœ¬è¿›è¡Œå‰å‘ä¸åå‘ä¼ æ’­ï¼Œä»è€Œé™ä½æ ·æœ¬é—´çš„æ—¶åºå…³è”æ€§ä¸æé«˜æ ·æœ¬åˆ©ç”¨ç‡ã€‚\næ³¨æ„åˆ°åœ¨ç®—æ³•ä¸­ï¼Œæ¯ä¸€æ­¥è®­ç»ƒéœ€è¦å››ä¸ªå€¼ï¼šå½“å‰çŠ¶æ€ $s_t$ã€åŠ¨ä½œ $a_t$ã€å›æŠ¥ $r_t$ ä»¥åŠé‡‡å–åŠ¨ä½œåçš„çŠ¶æ€ $s_{t+1}$ï¼Œå› æ­¤æ¯ä¸€æ¬¡é‡‡æ ·ååªéœ€è¦åœ¨è®°å¿†ä¸­ä¿å­˜è¿™å››ä¸ªå€¼ï¼Œç§°ä¸ºexperienceå››å…ƒç»„ $e_t=(s_t,~a_t,~r_t,~s_{t+1})$ã€‚\nå®ç° åº“ã€è¶…å‚æ•°ã€ç½‘ç»œç»“æ„ä»¥åŠæ¨ç†éƒ¨åˆ†å‡æ²¿ç”¨ä¸Šé¢çš„ä»£ç ä»¥ä¾¿æ¯”è¾ƒï¼Œåªæ›¿æ¢è®­ç»ƒéƒ¨åˆ†ï¼Œç„¶åæ–°å¢Experienceç±»ä¸Memoryç±»ç”¨äºå­˜å‚¨å’Œç®¡ç†æ ·æœ¬ã€‚ ä»¥ä¸‹æ˜¯Experienceç±»ä¸Memoryç±»çš„ä»£ç ï¼Œè¿™é‡Œä½¿ç”¨é˜Ÿåˆ—å­˜å‚¨æœ€æ–°çš„batch_size*10æ¡è®°å½•ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 from typing import NamedTuple, Union class Experience(NamedTuple): \u0026#39;\u0026#39;\u0026#39;experienceå››å…ƒç»„\u0026#39;\u0026#39;\u0026#39; state: np.ndarray action: int reward: float next_state: np.ndarray class Memory(object): \u0026#39;\u0026#39;\u0026#39;å­˜å‚¨å›ºå®šæ•°é‡è®°å½•çš„é˜Ÿåˆ—\u0026#39;\u0026#39;\u0026#39; def __init__(self, buffer_size: int): self.buffer_size = buffer_size self.buffer: list[Union[Experience, None]] = [None for _ in range(self.buffer_size)] self.count = 0 def append(self, exp: Experience): \u0026#39;\u0026#39;\u0026#39;å¢åŠ è®°å½•ï¼Œå¦‚æœbufferå·²æ»¡åˆ™æ›¿æ¢æœ€æ—©çš„è®°å½•\u0026#39;\u0026#39;\u0026#39; self.buffer[self.count%self.buffer_size] = exp self.count += 1 def sample(self, k: int): \u0026#39;\u0026#39;\u0026#39;éšæœºé€‰å–kä¸ªexperienceï¼Œæ‰“åŒ…å¥½è¿”å›\u0026#39;\u0026#39;\u0026#39; if self.count \u0026lt; self.buffer_size: pool = self.buffer[:self.count] else: pool = self.buffer exp: list[Experience] = random.choices(pool, k=k) # type: ignore # æ‰“åŒ…æˆ Tensor states = torch.from_numpy(np.array([e.state for e in exp])) actions = torch.tensor([e.action for e in exp]) rewards = torch.tensor([e.reward for e in exp]) next_states = torch.from_numpy(np.array([e.next_state for e in exp])) return states, actions, rewards, next_states memory = Memory(batch_size*10) é‡‡æ ·çš„éƒ¨åˆ†ä¸åŸæ¥ç›¸åŒï¼Œè€Œåœ¨è®­ç»ƒçš„éƒ¨åˆ†ï¼Œå› ä¸ºè¿™é‡Œè®­ç»ƒæ—¶å‰å‘å’Œåå‘ä¼ æ’­éƒ½åªæœ‰ä¸€æ­¥ï¼Œæ‰€ä»¥åœ¨è®¡ç®—target_qæ—¶ä¸éœ€è¦åƒåŸæ–‡æ‰€è¿°å†»ç»“æƒé‡ï¼Œåªè¦åœ¨å…¶åå¢åŠ .detach()ç¡®ä¿åå‘ä¼ æ’­æ—¶target_qçš„æ¢¯åº¦ä¸è¢«ä¼ æ’­å°±è¡Œã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 env = gym.make(\u0026#34;CartPole-v1\u0026#34;) state, info = env.reset() batch_index = torch.arange(batch_size) for t in tqdm(range(epochs)): # é‡‡æ · ========================================= epsilon = 1 - t / epochs # åŠ¨æ€è°ƒæ•´epsilon for _ in range(batch_size//4 if t \u0026gt;= 1 else batch_size): if random.random() \u0026lt; epsilon: # exploration action = random.randint(0, n_actions-1) else: action = net(state).squeeze().argmax().item() org_state = state state, reward, terminated, truncated, info = env.step(action) # ä½¿ç”¨è‡ªå®šä¹‰çš„reward reward = -20.0 if terminated else 0 if abs(state[2]) \u0026gt; 0.1: # é™åˆ¶å€¾è§’ reward += -1.0 if abs(state[0]) \u0026gt; 0.3: # é™åˆ¶ä½ç½® reward += -2.0 if reward \u0026gt;= 0: reward = 1.0 # åŠ å…¥è®°å¿† memory.append(Experience(org_state, action, reward, state)) if terminated or truncated: state, info = env.reset() # è®­ç»ƒ ========================================= states, actions, rewards, next_states = memory.sample(batch_size) # å‰å‘ä¼ æ’­ pred_q = net(states)[batch_index, actions] target_q = (net(next_states).max(dim=-1).values * discount + rewards).detach() loss = criterion(pred_q, target_q) # åå‘ä¼ æ’­ optimizer.zero_grad() loss.backward() torch.nn.utils.clip_grad_value_(net.parameters(), 1) optimizer.step() env.close() # ä¿å­˜checkpoint torch.save(net.state_dict(), \u0026#34;cartpole-replay.ckpt\u0026#34;) å®Œæ•´ç¨‹åºè§Github Gistï¼Œè¿è¡Œç¨‹åºï¼Œå‘ç°ä¸¤ä¸ªç¨‹åºåœ¨batch_size=128å’Œepochs=5000çš„æƒ…å†µä¸‹ï¼ŒåŸæ¥çš„ç¨‹åºåœ¨æˆ‘çš„è½»è–„æœ¬ä¸Šéœ€è¦è®­ç»ƒ3åˆ†é’Ÿï¼Œè€Œå¾—ç›Šäºæ‰¹å¤„ç†çš„è®­ç»ƒè¿‡ç¨‹ä»¥åŠé‡‡æ ·æ•°çš„å‡å°‘ï¼Œæœ‰ç»éªŒå›æ”¾çš„è®­ç»ƒåªè¦15ç§’å°±èƒ½è¾¾åˆ°æ›´å¥½çš„æ•ˆæœã€‚\nç»§ç»­å¢åŠ batch_sizeæˆ–epochsï¼Œæ•ˆæœæ›´ä½³ã€‚ä»¥ä¸‹æ˜¯batch_size=256ã€epochs=5000çš„ç»“æœï¼Œè®­ç»ƒåªèŠ±äº†28ç§’ã€‚\nå‚è€ƒæ–‡çŒ® [1] Mnih, V., Kavukcuoglu, K., Silver, D., Graves, A., Antonoglou, I., Wierstra, D., \u0026amp; Riedmiller, M. (2013). Playing Atari with Deep Reinforcement Learning (arXiv:1312.5602). arXiv. https://doi.org/10.48550/arXiv.1312.5602 â¤¶ [2] Mnih, V., Kavukcuoglu, K., Silver, D., Rusu, A. A., Veness, J., Bellemare, M. G., Graves, A., Riedmiller, M., Fidjeland, A. K., Ostrovski, G., Petersen, S., Beattie, C., Sadik, A., Antonoglou, I., King, H., Kumaran, D., Wierstra, D., Legg, S., \u0026amp; Hassabis, D. (2015). Human-level control through deep reinforcement learning. Nature, 518(7540), Article 7540. https://doi.org/10.1038/nature14236 â¤¶ â¤¶ ","date":"2023-08-22T10:51:10+08:00","image":"https://files.furffisite.link/blogimg/20230822110113-5ef18ab6cfb63d5a730bbd8e077231e7-6ba69.jpg","permalink":"https://blog.furffisite.link/p/deep-q-learning/","title":"ã€RLå­¦ä¹ ç¬”è®°ã€‘æ·±åº¦Qå­¦ä¹ ç®—æ³•ä¸ç»éªŒå›æ”¾"},{"content":"æˆ‘å¼€å§‹æŠ˜è…¾NASçš„åŸå› å¾ˆç®€å•â€”â€”ç¬”è®°æœ¬çš„å­˜å‚¨ç©ºé—´ä¸å¤Ÿäº†ï¼Œå½“æ—¶å›ºæ€ç¡¬ç›˜çš„ä»·æ ¼è¿œæ²¡æœ‰ç°åœ¨è¿™ä¹ˆä¾¿å®œï¼Œç§»åŠ¨ç¡¬ç›˜éšèº«æºå¸¦æœ‰ç‚¹éº»çƒ¦ï¼Œæ‰€ä»¥å°±æƒ³ç»™ç¡¬ç›˜è¿ä¸Šç½‘ï¼Œè¿™æ ·åªè¦æœ‰ç½‘å°±èƒ½è®¿é—®ã€‚\nå½“æ—¶æ˜¯2021å¹´3æœˆï¼Œæˆ‘æ‰‹è¾¹æœ‰é—²ç½®çš„æ ‘è“æ´¾Raspberry Pi 3B+ï¼ˆ19å¹´èŠ±ï¿¥279ä¹°çš„ï¼‰ï¼Œäºæ˜¯ä¸€ä¸ªå¾ˆæœ´ç´ çš„æƒ³æ³•å°±å½¢æˆäº†â€”â€”ä¹°ä¸€ä¸ªSATA-USBçš„ç¡¬ç›˜ç›’è¿æ¥æœºæ¢°ç¡¬ç›˜ï¼Œå†ç»™æ ‘è“æ´¾è¿ä¸Šç½‘çº¿ï¼Œåšæˆä¸€ä¸ªç®€é™‹çš„NASï¼ˆåæ¥æ‰çŸ¥é“æœ‰NASè¿™ä¸ªåå­—ï¼‰ã€‚æˆ‘åæ¥ä¹Ÿçš„ç¡®æ˜¯è¿™ä¹ˆæ“ä½œçš„ï¼Œç¡¬ç›˜ç›’ä¹°çš„ç»¿è”çš„ï¼ŒèŠ±äº†ï¿¥99ã€‚ä½¿ç”¨åå‘ç°æ ‘è“æ´¾3B+çš„USB2.0æ¥å£å¤ªæ…¢äº†ï¼Œäºæ˜¯åŠå¹´åï¼ˆ2021.9ï¼‰åŠ é’±ä¹°äº†å¸¦USB3çš„æ ‘è“æ´¾4Bï¼ŒèŠ±äº†ï¿¥578ï¼ˆå½“æ—¶è¿™ä¸ªä»·æ ¼å·²ç»å¾ˆè´µäº†ï¼Œæƒ³ä¸é€šä¸ºä»€ä¹ˆè‡ªå·±é‚£ä¸ªæ—¶å€™å†³å®šè¦ä¹°ï¼‰ï¼Œæ‰€ä»¥è¿™ä¸€å¥—ä¸ç®—ç¡¬ç›˜çš„ä»·æ ¼æ˜¯ï¿¥677ã€‚\næˆ‘ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿæ˜¯æ ‘è“æ´¾å®˜æ–¹æä¾›çš„Raspbianï¼Œåœ¨ä¸Šé¢å®‰è£…äº†\nsambaï¼ˆæ–‡ä»¶æœåŠ¡ï¼‰ã€ è‡ªå·±å†™çš„å½•æ’­å§¬ã€ aria2ï¼ˆBTä¸‹è½½ï¼‰ã€ Corednsï¼ˆå› ä¸ºå­¦æ ¡çš„DNSæœåŠ¡å™¨æŒ‚è¿‡ä¸€æ¬¡ï¼‰ã€‚ æˆ‘è®¤ä¸ºæ ‘è“æ´¾ä½œä¸ºNASä¸»è¦çš„ä¼˜ç‚¹æ˜¯ï¼š\nç»“æ„ç®€å•ï¼Œæ’ç”µå°±èƒ½ç”¨ï¼Œä¸”æ˜“äºæºå¸¦ï¼› è€—ç”µé‡å¾ˆä½ï¼› è‡ªå¸¦GPIOæ¥å£ï¼Œå¯ä»¥å¤–æ¥ä¸€äº›LEDæˆ–LCD 1602æ˜¾ç¤ºæœåŠ¡å™¨çŠ¶æ€ç­‰ï¼Œæˆ–æ˜¯å¢åŠ ä¼ æ„Ÿå™¨ä»¥æ”¶é›†æ•°æ®ï¼Œè¿™å¯¹äºâ€œæŠ˜è…¾ç±»â€ç©å®¶åˆæ˜¯ä¸€ä¸ªå¯æŠ˜è…¾çš„ç‚¹ã€‚ ç¼ºç‚¹æ˜¯ï¼š\nç¬¬ä¸€ï¼Œå®ƒçš„cpuæ˜¯32ä½armæ¶æ„çš„ï¼Œè¿™å¯¼è‡´è®¸å¤šæ²¡æœ‰æä¾›32ä½armç‰ˆæœ¬çš„ç¨‹åºå®ƒéƒ½æ— æ³•è¿è¡Œï¼Œä¾‹å¦‚qbittorrentã€æ•°æ®åº“ã€jellyfinç­‰ï¼Œè€Œå—é™äºå…¶æ€§èƒ½ï¼Œä»æºä»£ç ç¼–è¯‘è¿™æ¡è·¯ä¹Ÿä¸ç®€å•ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨docker buildxè·¨å¹³å°ç¼–è¯‘ï¼Œä½†æ˜¯å½“æ—¶çš„æˆ‘è¿˜ä¸ä¼šæè¿™äº›ï¼‰ï¼› ç¬¬äºŒï¼Œæ€§èƒ½å¤ªå¼±ï¼› ç¬¬ä¸‰ï¼Œæ€§ä»·æ¯”ä¸é«˜ã€‚ ç›¸è¾ƒäºå…¶ä¼˜ç‚¹ï¼Œå®ƒçš„ç¼ºç‚¹è¿˜æ˜¯å¤ªçªå‡ºäº†ï¼Œäºæ˜¯æˆ‘åœ¨ä¸€å¹´åï¼ˆ2022.10ï¼‰æ¢äº†amd64æ¶æ„çš„NASã€‚\n","date":"2023-08-21T14:46:05+08:00","image":"https://files.furffisite.link/blogimg/20230821143533-8f90300e7a87f5103e8c13359c0ce9a7-a82cd.jpg","permalink":"https://blog.furffisite.link/p/nas-1/","title":"æˆ‘æŠ˜è…¾NASçš„å†ç¨‹ï¼ˆä¸€ï¼‰"},{"content":"æ—¶å€¼2022å¹´å›½åº†èŠ‚ï¼Œæˆ‘åœ¨æ·˜å®ç¿»äº†å¾ˆä¹…ï¼Œæ‰¾x86/amd64çš„NASæ–¹æ¡ˆï¼Œæœ€ç»ˆç›¸ä¸­äº†æ·˜å®æŸå®¶åº—å–çš„â€œé’æ˜¥ç‰ˆé»‘ç¾¤æ™–â€ï¼ŒCPU+ä¸»æ¿+é£æ‰‡+4GB å†…å­˜+äºšå…‹åŠ›å¤–å£³ä¸€å…±åªè¦ï¿¥285ï¼Œå¤–å¸¦é»‘ç¾¤æ™–çš„å¼•å¯¼ç›˜ã€‚è¿™ä¸ªä»·æ ¼å¾ˆå¸å¼•æˆ‘ï¼Œäºæ˜¯æˆ‘æ²¡è¿‡å¤šè€ƒè™‘å°±ä¸‹å•äº†ã€‚\nè´§åˆ°ä¹‹åå‘ç°è¿™ä¸ªä¸»æ¿ä¼¼ä¹æ˜¯å·¥æ§æœºé‡Œæ‹†å‡ºæ¥çš„ï¼ŒCPUæ˜¯12å¹´Q1å‡ºçš„Atom D2550ã€‚ä¸»æ¿ä¸Šåªæœ‰ä¸€ä¸ªSATAå£ï¼Œå…¶ä½™çš„è¢«æ‹†æ‰äº†ï¼Œäºæ˜¯å•†å®¶å¢åŠ äº†ä¸€ä¸ªSATAè½¬M.2æ¥å£çš„æ¿å­æ’åœ¨ï¼ˆç–‘ä¼¼ï¼‰M.2å£ä¸Šï¼Œè¿™æ ·å°±èƒ½æ”¯æŒåŒç¡¬ç›˜äº†ã€‚å› ä¸ºæˆ‘æƒ³è®©ç¡¬ç›˜å®Œå…¨ç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œæ‰€ä»¥æˆ‘åˆèŠ±ï¿¥56.9ä¹°äº†ä¸€ä¸ª64GBçš„å°Uç›˜ç”¨æ¥å­˜å‚¨æ“ä½œç³»ç»Ÿã€‚\næ“ä½œç³»ç»Ÿé€‰çš„æ˜¯Ubuntu Server 16.04ï¼Œç†ç”±æ˜¯ç›¸è¾ƒäºå•†å®¶æä¾›çš„é»‘ç¾¤æ™–ï¼Œæˆ‘æ›´ç†Ÿæ‚‰Ubuntuã€‚è½¯ä»¶å’ŒæœåŠ¡æ–¹é¢å®‰è£…äº†sambaã€jellyfinã€qbittorrentã€corednsç­‰ã€‚\nè¿™ä¸ªä»·æ ¼æˆ‘å¾ˆæ˜¯æ»¡æ„ï¼Œä½†æ˜¯è¿™å°NASçš„æ€§èƒ½ä¸æ¯”æ ‘è“æ´¾é«˜å¤šå°‘ï¼Œæ¯•ç«Ÿæ˜¯åå¹´å‰çš„å¤„ç†å™¨ï¼Œå¯¼è‡´å®ƒåœ¨ä¸€äº›é«˜è´Ÿè½½çš„æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚Jellyfinä½¿ç”¨ffmpegè½¬ç æ’­æ”¾è§†é¢‘ï¼‰æœ‰äº›åŠ›ä¸ä»å¿ƒï¼Œæ’­æ”¾æ—¶å¼‚å¸¸å¡é¡¿ï¼Œæ‰€ä»¥åœ¨ä»Šå¹´å…­æœˆçš„æ—¶å€™è¶è´­ç‰©èŠ‚è‡ªå·±ç»„äº†ä¸€å°ã€‚æ¢äº†æ–°çš„ä¹‹åå‘ç°ï¼Œæ€§èƒ½ä¸Šå»äº†ï¼Œèƒ½åŒæ—¶è·‘çš„æœåŠ¡å°±å¤šäº†å¾ˆå¤šï¼Œå¯ä»¥çœŸçš„æŠŠå®ƒå½“ä½œä¸€å°æœåŠ¡å™¨æ¥ç”¨äº†ã€‚\n","date":"2023-08-20T10:22:44+08:00","image":"https://files.furffisite.link/blogimg/20230821152623-0e0e9fdf80c6f1c9ffeee0f80f808e1e-60da9.jpg","permalink":"https://blog.furffisite.link/p/nas-2/","title":"æˆ‘æŠ˜è…¾NASçš„å†ç¨‹ï¼ˆäºŒï¼‰"},{"content":"ç»„è¿™å°NASå‰çš„äº‹æƒ…ï¼š\næˆ‘æŠ˜è…¾NASçš„å†ç¨‹ï¼ˆä¸€ï¼‰ æˆ‘æŠ˜è…¾NASçš„å†ç¨‹ï¼ˆäºŒï¼‰ ç†è®º è£…æœºé…ç½®å• å“ç‰Œ å‹å· å‚æ•° è´­ä¹°ä»· è´­ä¹°é“¾æ¥ CPU Intel E5-2660 v4 14æ ¸ 2.0GHz è§„æ ¼è¡¨ Â¥52ï¼ˆæ´‹åƒåœ¾ï¼‰ link å†…å­˜ Samsung M393A2G40DB0-CPB DDR4 2133MHz 16GB è§„æ ¼è¡¨ Â¥92ï¼ˆæ´‹åƒåœ¾ï¼‰ link ä¸»æ¿ åå—é‡‘ç‰Œ X99-4MF ITX DDR4x4 SATAx3 è§„æ ¼è¡¨ Â¥268 link ç³»ç»Ÿç›˜ SKHynix HFS512GDE9X084N 512GB NVME Â¥0* æ˜¾å¡ NVIDIA GeForce 605 è§„æ ¼è¡¨ Â¥16ï¼ˆäº®æœºå¡ï¼‰ link ç”µæº èˆªå˜‰ GX500 500W ATX ç™½ç‰Œ Â¥191.92 link æœºç®± invasion invasion X1 4ç›˜ä½ITX Â¥244 link CPUæ•£çƒ­å™¨ é›¶ä¸‹30åº¦ - - Â¥38.7 link æœºç®±é£æ‰‡ èˆªå˜‰ MVP120 1500RPMï¼Œæ”¯æŒPWM Â¥75.95ï¼ˆä¸‰åªè£…ï¼‰ link æ€»è®¡ Â¥978.57 *ç¬”è®°æœ¬ä¸Šæ‹†ä¸‹æ¥çš„\næ”’æœºç†å¿µ ç›®æ ‡ï¼šçœé’±ã€æ€§èƒ½è¿˜è¡Œã€ä½“ç§¯å°ã€é™éŸ³ã€ä¿ç•™ä¸€å®šçš„å¯å‡çº§æ€§ã€å°½é‡ä¸€æ‰‹ã€‚\nå…³äºCPUï¼Œæˆ‘åœ¨CPUbenchmarkä¸ŠæŒ‰ç…§è·‘åˆ†ç»“æœåœ¨E5çš„ä¸€ç³»åˆ—æ´‹åƒåœ¾å‹å·ä¸­ä»é«˜åˆ°ä½ç¿»ï¼Œæœ€åçœ‹ä¸­äº† E5-2660 v4ã€‚é€‰æ‹©å®ƒæœ‰ä»¥ä¸‹å‡ ç‚¹ç†ç”±ï¼š\nå…¶åŠŸè€—ç›¸æ¯”ä¸åŒç³»åˆ—å…¶å®ƒå‹å·è¾ƒä½ï¼› E5-2660 v4ä¸º2016 Q4æ¨å‡ºçš„ï¼Œç›¸å¯¹v3å’Œv2è¦æ–°ä¸€ç‚¹ï¼› å…¶æ€§ä»·æ¯”åœ¨åŒå‹å·ä¸­è¾ƒé«˜ï¼Œ52å…ƒ16005åˆ†ï¼Œç›¸è¾ƒäº2690 v3çš„68å…ƒ16505åˆ†æ›´å®æƒ ã€‚ CPUå®šä¸‹æ¥äº†ä¹‹åï¼Œä¸»æ¿å’Œå†…å­˜ä¹Ÿå°±ç›¸åº”çš„å†³å®šäº†ã€‚ä¹‹æ‰€ä»¥ä¸»æ¿ä¸é€‰äºŒæ‰‹æ˜¯å› ä¸ºæˆ‘æƒ³çœç‚¹äº‹ï¼Œå¯¹äºäºŒæ‰‹å¸‚åœºä¸Šå¯èƒ½é‡åˆ°çš„ä¼—å¤šé—®é¢˜æˆ‘ç›®å‰æ²¡æœ‰ä»»ä½•åº”å¯¹ç»éªŒã€‚è€Œé€‰æ‹©ITXæ˜¯ä¸ºäº†æ»¡è¶³ä½“ç§¯å°çš„è¦æ±‚ï¼Œæ¯•ç«Ÿå®¿èˆé‡Œæ”¾ä¸ä¸‹å¤ªå¤šä¸œè¥¿ã€‚\nå…³äºç³»ç»Ÿç›˜ï¼Œä¹‹å‰ç»™ç¬”è®°æœ¬å‡çº§å¤–å­˜çš„æ—¶å€™æ‹†ä¸‹æ¥çš„åŸè£…SSDå¯ä»¥ç›´æ¥ç»™å®ƒç”¨ã€‚å°±ç®—æ˜¯ä¹°ä¸€ä¸ªå…¨æ–°çš„ä¹Ÿä¸ä¼šå¤ªè´µï¼Œ256GBä¹°ä¸ªäºŒçº¿å‚çš„SSDåº”è¯¥ä¹Ÿå¤Ÿç”¨äº†ã€‚ åœ¨è£…ç³»ç»Ÿã€è¿›BIOSæ—¶æ˜¾å¡æ˜¯å¿…è¦çš„ï¼Œä½œä¸ºæœåŠ¡å™¨CPUçš„E5-2660 v4æ²¡æœ‰æ ¸å¿ƒæ˜¾å¡ï¼Œå› æ­¤è¿™é‡Œä¾ç„¶éœ€è¦ä¸€å¼ æ˜¾å¡ã€‚ä¸Šæ·˜å®ä¸€æœæœç„¶æœ‰å–äº®æœºå¡çš„ï¼Œ16å…ƒçš„ä»·æ ¼ä¹Ÿå°±ä¸ç”¨çº ç»“å€¼ä¸å€¼äº†ï¼Œèƒ½äº®å°±è¡Œã€‚ä¸ºäº†èƒ½çœ‹åˆ°è§†é¢‘è¾“å‡ºæˆ‘è¿˜ä¹°äº†ä¸€ä¸ªäºŒåå¤šçš„HDMIé‡‡é›†å¡ä»¥ä»£æ›¿æ˜¾ç¤ºå™¨ï¼Œäº‹å®è¯æ˜äºŒåå—çš„ç”»è´¨æœç„¶ä¸è¡Œã€‚ ç”µæºä¸æ•¢ä¹°äºŒæ‰‹çš„ï¼Œæ€•å‡ºé—®é¢˜ã€‚500Wçš„ç”µæºç›¸å¯¹äºç›®å‰çš„æ•´æœºåŠŸè€—æ˜æ˜¾æ˜¯è¿‡å‰©çš„ï¼Œä½†è¿™ä¹Ÿä¸ºä»¥åçš„å‡çº§ä¿ç•™äº†ä½™é‡ã€‚ æœ€åæ˜¯æœºç®±ï¼Œç»¼åˆä»¥ä¸Šè¦æ±‚ï¼Œæœºç®±åº”è¯¥æ˜¯ä½“ç§¯å°ã€è½»ä¾¿ã€ä¾¿å®œçš„å¤šç›˜ä½ITXæœºç®±ï¼Œåœ¨æ·˜å®ä¸Šç¿»äº†ä¸€å¤§åœˆåªçœ‹åˆ°è¿™ä¸€æ¬¾åŒæ—¶æ»¡è¶³è¿™å‡ ç‚¹çš„ã€‚åˆ«çš„å‹å·ï¼Œä¾‹å¦‚èœ—ç‰›æ˜Ÿé™…ã€å¾¡å¤«åº§ã€å¤©ç®­åº§ç­‰éƒ½å¤ªè´µäº†æˆ–è€…æ•£çƒ­å®¹é‡å¤ªå°ã€‚ä¸¤ç™¾å¤šçš„æœºç®±æˆ‘è§‰å¾—è¿˜æ˜¯è´µäº†ç‚¹ï¼Œå¯æ˜¯ä¹Ÿæ²¡æ‰¾åˆ°æ›´å¥½çš„é€‰æ‹©ã€‚\nå…³äºå¯å‡çº§æ€§ï¼Œè¿™å¥—é…ç½®ä¸­ï¼ŒCPUå¯ä»¥å‡çº§ä¸º24686åˆ†çš„E5-2699 v4ï¼ˆåœ¨ä»·æ ¼é™ä¸‹æ¥ä¹‹åï¼‰ï¼Œè¿˜æœ‰ä¸‰ä¸ªä½ç½®å¯ä»¥åŠ å†…å­˜æ¡ï¼Œæ˜¾å¡å¯ä»¥å‡çº§ï¼Œæœºç®±å’Œç”µæºä»¥åä¹Ÿèƒ½ç”¨äºè£…æ¸¸æˆç”µè„‘ã€‚\nå®è·µ è£…æœºè¿‡ç¨‹ è£…æœºè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜æœ‰å››ï¼š\nCPUæ•£çƒ­å™¨çš„èºä¸æ˜¯å¼¯çš„ï¼ˆå¯èƒ½æ˜¯åˆ¶é€ é—®é¢˜ï¼‰ï¼Œè¦ç”¨é’³å­æ‰³ç›´äº†æ‰èƒ½å®‰è£…ï¼› æœºç®±è‡ªå¸¦çš„ç¡¬ç›˜ç¬¼å’Œä¸»æ¿ç”µæºæ’æ§½æœ‰2mmå·¦å³çš„overlapï¼Œè£…å®Œä¹‹åç¡¬ç›˜ç¬¼æœ‰ä¸€ç‚¹ç‚¹å˜å½¢ã€‚å¾—ç›Šäºç¡¬ç›˜æ¶çš„å‡éœ‡æœºæ„ï¼Œè¿™ä¸ªå˜å½¢äº§ç”Ÿçš„å½±å“ä¸å¤§ï¼› ä¸»æ¿ä¸‹éƒ¨çš„æ’æ§½å’Œæœºç®±é£æ‰‡æœ‰å†²çªï¼Œå‰é¢æ¿USB-3çš„çº¿æ’ä¸è¿›å»ï¼Œä½†å¯¹äºNASè€Œè¨€è¿™æ ¹çº¿ä¸æ’é—®é¢˜ä¹Ÿä¸å¤§ï¼› åå—é‡‘ç‰Œçš„è¿™æ¬¾ä¸»æ¿çš„ä¸»æ¿é£æ‰‡æ’æ§½åªæœ‰3é’ˆï¼Œä¸æ”¯æŒPWMï¼Œç›´æ¥æ’MVP120çš„è¯æ»¡è½¬é€Ÿå™ªéŸ³éå¸¸å¤§ã€‚æˆ‘æœ€åç”¨ä¸€æ‹–ä¸‰çš„çº¿æŠŠæ‰€æœ‰é£æ‰‡éƒ½æ¥åˆ°äº†æ”¯æŒPWMçš„CPUé£æ‰‡æ’æ§½ä¸Šï¼Œè¿™æ ·å°±å®‰é™äº†å¾ˆå¤šï¼ˆä¹‹ååˆè¿›BIOSè°ƒæ•´äº†ä¸€ä¸‹æ¸©åº¦-è½¬é€Ÿæ›²çº¿ï¼‰ã€‚ æ“ä½œç³»ç»Ÿ å› ä¸ºæˆ‘æœ€ç†Ÿæ‚‰çš„Linuxå‘è¡Œç‰ˆæ˜¯Ubuntuï¼Œæ‰€ä»¥æˆ‘å®‰è£…äº†Ubuntu 22.04.2 LTSï¼ˆæœåŠ¡å™¨ç‰ˆï¼‰ã€‚\nç³»ç»Ÿç›˜åˆ†åŒºå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 Mountpoint Start End Sectors Size Type /boot/efi 2048 2203647 2201600 1G EFI System / 2203648 107061247 104857600 50G Linux filesystem /home 107061248 211918847 104857600 50G Linux filesystem /srv 211918848 958271487 746352640 355.9G Linux filesystem swap 958271488 1000214527 41943040 20G Linux swap æµ‹è¯• æ•´æœºå¾…æœºæ—¶CPUæ ¸å¿ƒå¹³å‡æ¸©åº¦ä¸º30Â°Cï¼Œæ»¡è½½æ—¶ä¸º55Â°Cï¼Œè¯´æ˜æ•£çƒ­è¿˜æ˜¯æœ‰å¾ˆå¤§çš„ä½™é‡çš„ã€‚æœåŠ¡æ­£å¸¸è¿è¡Œæ—¶æ’åº§ä¸Šæµ‹é‡åˆ°çš„åŠŸç‡åœ¨68Wå·¦å³ï¼ŒCPUæ»¡è½½æ—¶çº¦140Wã€‚\nä½¿ç”¨sysbenchçš„æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼Œå’Œæˆ‘ç°å½¹çš„æ¸¸æˆæœ¬ç›¸æ¯”æˆ‘è§‰å¾—è¿™ä¸ªæˆç»©è¿˜ç®—å¯ä»¥æ¥å—ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 sysbench 1.0.20 (using system LuaJIT 2.1.0-beta3) Running the test with following options: Number of threads: 28 Initializing random number generator from current time Prime numbers limit: 10000 Initializing worker threads... Threads started! CPU speed: events per second: 17251.86 General statistics: total time: 600.0017s total number of events: 10351174 Latency (ms): min: 1.22 avg: 1.62 max: 82.58 95th percentile: 1.64 sum: 16797418.36 Threads fairness: events (avg/stddev): 369684.7857/436.76 execution time (avg/stddev): 599.9078/0.00 è½¯ä»¶éƒ¨åˆ† Docker æœ€å…ˆå®‰è£…çš„æ˜¯Dockerï¼Œå› ä¸ºæœ‰äº†Dockerä¹‹ååˆ«çš„åº”ç”¨éƒ½å¯ä»¥ä½¿ç”¨Dockeré•œåƒå®‰è£…å’Œç®¡ç†ã€‚\nåœ¨Ubuntuä¸Šå®‰è£…Dockeråªéœ€ä½¿ç”¨å®˜æ–¹æä¾›çš„å®‰è£…è„šæœ¬ [1] ï¼š\n1 2 $ curl -fsSL https://get.docker.com -o get-docker.sh $ sudo sh get-docker.sh ä¿®æ”¹Dockeræ•°æ®ä½ç½® Dockerçš„æ•°æ®é»˜è®¤å‚¨å­˜åœ¨/var/lib/dockerå†…ï¼Œæˆ‘æƒ³å°†å…¶ç§»åˆ°/srvæ–‡ä»¶ç³»ç»Ÿå†…ï¼Œæ“ä½œå¦‚ä¸‹ï¼š\nå…³é—­dockeræœåŠ¡ï¼šsystemctl stop docker ç§»åŠ¨æ–‡ä»¶ï¼šsudo mv /var/lib/docker /srv/ åˆ›å»ºç¬¦å·é“¾æ¥ï¼ˆä»¥é˜²ä¸‡ä¸€ï¼‰ï¼šsudo ln -s /srv/docker /var/lib/docker ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œåœ¨/etc/docker/daemon.jsonå†…æ·»åŠ é…ç½®ï¼š{\u0026quot;data-root\u0026quot;: \u0026quot;/srv/docker\u0026quot;} å¯åŠ¨dockeræœåŠ¡ï¼šsystemctl start docker ä½¿ç”¨Dockerå›½å†…é•œåƒæº é˜¿é‡Œäº‘æä¾›äº†å…è´¹çš„Dockeré•œåƒæºçš„åŠ é€ŸæœåŠ¡ã€‚ä¸ºäº†ä½¿ç”¨è¯¥æœåŠ¡ï¼Œéœ€è¦åœ¨ https://aliyun.com ç™»å½•é˜¿é‡Œäº‘å¸å·ï¼Œç„¶ååœ¨ æ§åˆ¶å° \u0026gt; å®¹å™¨é•œåƒæœåŠ¡ \u0026gt; é•œåƒå·¥å…· \u0026gt; é•œåƒåŠ é€Ÿå™¨ å¤„å¯ä»¥è·å–åŠ é€Ÿå™¨çš„åœ°å€åŠä¿®æ”¹é•œåƒæºçš„æ–¹æ³•ã€‚\næ­¤å¤–ä¹Ÿæœ‰ä¸€äº›å¼€æ”¾çš„é•œåƒæºï¼Œåœ¨/etc/docker/daemon.jsonå†…æ·»åŠ å¦‚ä¸‹å±æ€§ [2] ï¼š\n1 2 3 4 5 6 7 8 { \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;https://hub-mirror.c.163.com\u0026#34;, \u0026#34;https://ustc-edu-cn.mirror.aliyuncs.com\u0026#34;, \u0026#34;https://ghcr.io\u0026#34;, \u0026#34;https://mirror.baidubce.com\u0026#34; ] } ä¿®æ”¹åä½¿ç”¨ systemctl restart docker é‡å¯dockeræœåŠ¡å³å¯ã€‚\næ‰‹åŠ¨ä¸‹è½½é•œåƒ å¦‚æœæ›¿æ¢äº†é•œåƒæºä¹‹åä¹Ÿæ‹‰ä¸åŠ¨é•œåƒçš„è¯ï¼Œå¯ä»¥è¯•è¯• Moby Project æä¾›çš„é•œåƒä¸‹è½½è„šæœ¬ä¸‹è½½é•œåƒï¼šlink\nä½¿ç”¨ä¾‹ï¼š\n1 2 3 4 5 6 7 8 9 $ wget https://raw.githubusercontent.com/moby/moby/master/contrib/download-frozen-image-v2.sh $ bash ./download-frozen-image-v2.sh ./alpine-linux alpine:latest Downloading \u0026#39;library/alpine:latest@latest\u0026#39; (1 layers)... -#O=-# # # ############################################## 100.0% Download of images into \u0026#39;./alpine-linux\u0026#39; complete. Use something like the following to load the result into a Docker daemon: tar -cC \u0026#39;./alpine-linux\u0026#39; . | docker load è¿™æ—¶é•œåƒå°±å·²ç»ä¿å­˜åˆ°./alpine-linuxå†…äº†ï¼Œç„¶åä½¿ç”¨\n1 2 3 $ tar -cC \u0026#39;./alpine-linux\u0026#39; . | docker load ...... Loaded image: alpine:latest å³å¯è®©dockerå¯¼å…¥é•œåƒã€‚\nsamba 1 $ sudo apt install samba å®‰è£…åä½¿ç”¨smbpasswd -a \u0026lt;username\u0026gt;ä¸ºç”¨æˆ·æ·»åŠ sambaçš„è®¿é—®å¯†ç ï¼Œå…¶ä¸­\u0026lt;username\u0026gt;å¿…é¡»ä¸ºå·²ç»åœ¨Linuxå†…æ³¨å†Œçš„ç”¨æˆ·ã€‚\né…ç½®æ–‡ä»¶ä¸º/etc/samba/smb.confï¼Œé…ç½®é¡¹å¯å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚\n1 2 3 4 5 6 [\u0026lt;share name\u0026gt;] path = /path/to/folder read only = no browsable = yes guest ok = no valid users = \u0026lt;users\u0026gt; jellyfin jellyfinæ˜¯æ•°å­—åª’ä½“ç®¡ç†ä¸ä¸²æµè½¯ä»¶ï¼Œå®ƒæ”¯æŒæµè§ˆå™¨ã€Androidã€iOSã€Android TVç­‰è®¸å¤šå®¢æˆ·ç«¯ï¼Œå¯ä»¥åœ¨è¿™äº›å®¢æˆ·ç«¯ä¸Šä¾¿æ·åœ°è§‚çœ‹æœåŠ¡ç«¯å­˜å‚¨çš„å†…å®¹ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æ”’è¿™å°NASçš„ä¸»è¦ç›®çš„ã€‚E5-2660 v4çš„æ€§èƒ½è¶³ä»¥æ”¯æŒjellyfinæµç•…ç¼–è§£ç è¶…é«˜æ¸…èµ„æºï¼ˆè½¯è§£ï¼Œä¸è¿‡ç›®å‰çœ‹æ¥ä¹Ÿæ²¡æœ‰ä¸“é—¨ä¸ºè¿™ä¸ªä¹°GPUçš„å¿…è¦äº†ï¼‰ã€‚\nå¯ä»¥ä½¿ç”¨å®˜æ–¹çš„dockeré•œåƒæˆ–è€…linuxserver.ioåˆ¶ä½œçš„é•œåƒæ¥å®‰è£…jellyfinã€‚\nä¸ºäº†ä¾¿äºæˆ‘ç®¡ç†å’Œé…ç½®ï¼Œæ‰€æœ‰çš„Dockerå®¹å™¨éƒ½å°†ä½¿ç”¨docker composeå¯åŠ¨ã€‚è¿™æ˜¯jellyfinçš„docker-compose.yamlï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 version: \u0026#34;2.1\u0026#34; services: jellyfin: image: lscr.io/linuxserver/jellyfin:latest container_name: jellyfin environment: - PUID=1000 - PGID=1000 - TZ=Asia/Shanghai volumes: - ./config:/config - /path/to/media:/data ports: - 8096:8096 - 8920:8920 #optional - 7359:7359/udp #optional - 1900:1900/udp #optional restart: unless-stopped deploy: mode: global resources: limits: cpus: \u0026#39;20\u0026#39; memory: 8G qbittorrent qbittorrentæ˜¯ç”¨äºbtä¸‹è½½çš„è½¯ä»¶ã€‚linuxserver.ioä¹Ÿæ‰“åŒ…äº†qbittorrentçš„é•œåƒï¼Œä½¿ç”¨è¿™ä¸ªé•œåƒè¿è¡Œå³å¯ã€‚æˆ‘çš„docker-compose.yamlå¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 services: qbittorrent: image: lscr.io/linuxserver/qbittorrent:latest container_name: qbittorrent environment: - PUID=1000 - PGID=1000 - TZ=Asia/Shanghai - WEBUI_PORT=4823 volumes: - ./config:/config - ./torrents:/torrents - ./cache:/cache - /path/to/downloads:/downloads ports: - 4823:4823 # WebUI - 6881:6881 # ç›‘å¬ç«¯å£ - 6881:6881/udp - 14560-14580:14560-14580 # ä¼ å‡ºç«¯å£ - 14560-14580:14560-14580/udp restart: unless-stopped deploy: mode: global resources: limits: cpus: \u0026#39;2.0\u0026#39; memory: 1G frpc å†…ç½‘ç©¿é€å·¥å…·çš„å®¢æˆ·ç«¯ï¼Œæˆ‘ç”¨çš„æ˜¯ä¸‹è½½é‡æœ€é«˜çš„é•œåƒã€‚\ncoredns DNSæœåŠ¡å™¨ï¼Œå› ä¸ºå­¦æ ¡çš„DNSä»¥å‰å´©è¿‡ï¼Œæ‰€ä»¥è£…ä¸€ä¸ªå¤‡ç”¨ã€‚å®˜æ–¹é•œåƒå³å¯ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 services: coredns: image: coredns/coredns:latest container_name: coredns volumes: - ./config:/config command: [\u0026#34;-conf\u0026#34;, \u0026#34;/config/Corefile\u0026#34;] restart: always ports: - 0.0.0.0:53:53 - 0.0.0.0:53:53/udp deploy: mode: global resources: limits: cpus: \u0026#39;0.5\u0026#39; memory: 100M 53ç«¯å£å¯èƒ½å’Œubuntuçš„systemd-resolvedæœåŠ¡å†²çªï¼Œåœ¨å¯åŠ¨å®¹å™¨å‰éœ€è¦å…ˆå…³é—­è¿™ä¸ªæœåŠ¡ï¼š\n1 2 $ sudo systemctl disable systemd-resolved $ sudo systemctl stop systemd-resolved corednsç»“åˆnginx/Apacheè½¬å‘ä¸ä¸€äº›è·¯ç”±å™¨çš„è®¾ç½®å°±å¯ä»¥å®ç°å†…ç½‘åŸŸåï¼ˆä¸ç”¨è®°ç«¯å£å·äº†ï¼‰ï¼Œä¾‹å¦‚ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 ### Corefile: ...... server.local { hosts { 192.168.0.xx jellyfin.server.local } log errors prometheus } ### nginx config: server { listen 80; server_name jellyfin.server.local; location / { proxy_pass http://127.0.0.1:8096; } } è¿™æ ·åœ¨å±€åŸŸç½‘ç›´æ¥è®¿é—® http://jellyfin.server.local å°±å¯ä»¥è¿›å…¥jellyfinçš„ç•Œé¢äº†ã€‚\næ³¨ï¼šå…³é—­systemd-resolvedæœåŠ¡ä¹‹ååœ¨ä½¿ç”¨KVMæ—¶å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ã€‚\nGrafana \u0026amp; Prometheus Grafanaå’ŒPrometheusè¿™ä¸¤ä¸ªå¼€æºè½¯ä»¶ç»„åˆåœ¨ä¸€èµ·å¯ä»¥ç”¨æ¥ç›‘æ§æœåŠ¡å™¨çŠ¶æ€ï¼ˆä¸è¿‡åœ¨è‡ªç”¨çš„NASä¸Šæè¿™ä¸ªå¯èƒ½æ„ä¹‰ä¸å¤§ï¼‰ã€‚ä¹‹å‰æ²¡äº†è§£è¿‡è¿™äº›è½¯ä»¶ï¼Œå› æ­¤è¿™éƒ¨åˆ†å®Œå…¨æ˜¯æŒ‰ç…§æ•™ç¨‹å®‰è£…çš„ï¼Œå…¶ä¸­Grafanaä¸æ¶‰åŠæ•°æ®æ”¶é›†ï¼Œå¯ä»¥åœ¨Dockerå®¹å™¨ä¸­è¿è¡Œã€‚\né™¤äº†è¿™ä¸¤ä¸ªè½¯ä»¶ï¼Œæˆ‘è¿˜å®‰è£…äº†node exporterå’Œcadvisorï¼Œåˆ†åˆ«æ”¶é›†æœåŠ¡å™¨ç³»ç»Ÿä¸Dockerå®¹å™¨çš„ç»Ÿè®¡ä¿¡æ¯ã€‚\nè£…å¥½ä¹‹åï¼Œæˆ‘ä»¥node exporterä¸ºåŸºç¡€æ”¹å‡ºäº†è¿™æ ·çš„dashboardï¼š æ•°æ®åº“ æœ‰ä¸€äº›æœåŠ¡ï¼ˆä¾‹å¦‚giteaå’Œè‡ªå·±å†™çš„çˆ¬è™«ï¼‰çš„æ•°æ®æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ï¼Œæˆ‘æ¯”è¾ƒå–œæ¬¢å°†è¿™äº›æ•°æ®æ”¾åœ¨åŒä¸€ä¸ªæ•°æ®åº“æœåŠ¡ç«¯å†…ï¼ˆè€Œéç»™æ¯ä¸ªæœ‰éœ€è¦çš„åº”ç”¨éƒ½è¿è¡Œä¸€ä¸ªæ•°æ®åº“ï¼‰ï¼Œä»¥ä¾¿äºæ•°æ®çš„ç®¡ç†ï¼ŒåŒæ—¶å‡å°‘ç³»ç»Ÿå ç”¨ã€‚\nå…³äºå…³ç³»å‹æ•°æ®åº“ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯mariadbï¼ˆMySQLçš„ä¸€ä¸ªè¡ç”Ÿç‰ˆæœ¬ï¼‰ã€‚å…³äºé•œåƒçš„ç‰ˆæœ¬ï¼Œå»ºè®®ä½¿ç”¨ä¸€ä¸ªå›ºå®šçš„ç‰ˆæœ¬å·ï¼ˆè€Œélatestï¼‰ï¼Œå› ä¸ºåœ¨ä¸åŒç‰ˆæœ¬çš„mariadbä¹‹é—´è¿ç§»æ•°æ®è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ã€‚\nå…³äºæ•°æ®åº“çš„ç®¡ç†ç«¯ï¼Œæˆ‘ä»¥å‰å¸¸ç”¨çš„æ˜¯phpmyadminï¼Œè¿™æ¬¡æƒ³è¯•è¯•åˆ«çš„ï¼Œæ‰€ä»¥ä½¿ç”¨äº†å®˜æ–¹dockeré•œåƒé¡µé‡Œæåˆ°çš„adminerã€‚å…¶åŠŸèƒ½è™½ä¸å¦‚phpmyadminä¸°å¯Œï¼Œç•Œé¢ä¹Ÿä¸å¦‚å®ƒç¾è§‚ï¼Œä½†æ˜¯æˆ‘å¹³æ—¶ä¼šç”¨åˆ°çš„åŸºç¡€æ“ä½œï¼ˆå»ºè¡¨ã€æŸ¥çœ‹æ•°æ®ã€SQLæŸ¥è¯¢ã€å¯¼å‡ºæ•°æ®ï¼‰å®ƒéƒ½æœ‰ï¼Œç¼ºå°‘çš„åŠŸèƒ½å¯ä»¥ç›´æ¥ç”¨SQLè¯­å¥å‡‘å˜›~\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 services: db: image: mariadb:10.11.4 container_name: mariadb restart: always environment: MARIADB_ROOT_PASSWORD: ... volumes: - ./mariadb:/var/lib/mysql ports: - 3306:3306 adminer: image: adminer container_name: adminer restart: always ports: - 8080:8080 å¦‚æœæœåŠ¡éœ€è¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨dockerè¿è¡Œéå…³ç³»å‹æ•°æ®åº“MongoDBå’Œredisã€‚\nMinecraftæœåŠ¡å™¨ ï¼ˆpapermcï¼‰ é€‰äº†docker hubé‡Œæœç´¢æ’åé å‰çš„ marctv/minecraft-papermc-serverã€‚\nç”¨äº†ä¹‹åæ‰å‘ç°ï¼Œpapermcæ˜¯SpigotMCçš„åˆ†æ”¯ï¼Œæ—¨åœ¨æä¾›åŸç”ŸMinecraftçš„ä½“éªŒã€‚ä¹Ÿå°±æ˜¯è¯´å®ƒä¸æ”¯æŒä»¥å‰æˆ‘åœ¨ç©Minecraftæ—¶è€³ç†Ÿèƒ½è¯¦çš„é‚£äº›Forgeç‰ˆmodï¼Œåªæ”¯æŒæœåŠ¡å™¨ç«¯çš„bukkitæ’ä»¶ï¼ˆpluginï¼‰ã€‚å¥½å¤„æ˜¯ç›¸æ¯”ä¸ForgeæœåŠ¡å™¨å ç”¨æ›´å°ï¼Œå¹¶ä¸”ä¸æŒ‘å®¢æˆ·ç«¯ï¼Œåªè¦å®¢æˆ·ç«¯Minecraftç‰ˆæœ¬å’ŒæœåŠ¡å™¨ä¸€è‡´å°±èƒ½è¿ä¸Šã€‚ é…ç½®å¥½ä¹‹åï¼Œä½¿ç”¨frpcè½¬å‘25565ç«¯å£åˆ°å…¬ç½‘ï¼Œå°±å¯ä»¥æ„‰å¿«åœ°å’Œæœ‹å‹ä»¬ä¸€èµ·ç©å•¦ã€‚\nåå°ç®¡ç† åœ¨docker-compose.yamlä¸­å¯¹åº”çš„serviceé…ç½®é‡ŒåŠ ä¸Š\n1 2 3 stdin_open: true tty: true container_name: mcserver ç„¶å\n1 $ docker compose up -d ä¹‹åä¾¿å¯ä»¥é€šè¿‡\n1 $ docker attach mcserver è¿›å…¥æœåŠ¡å™¨åå°ï¼Œä½¿ç”¨æŒ‡ä»¤ç®¡ç†æœåŠ¡å™¨ã€‚\né…ç½® papermcç›¸æ¯”äºåŸç‰ˆæœåŠ¡ç«¯ä¿®å¤äº†æ´»å¡ç›¸å…³çš„ä¸€äº›â€œç‰¹æ€§â€ï¼Œä¾‹å¦‚ä½¿ç”¨æ´»å¡å¤åˆ¶ç‰©å“ç­‰ï¼Œå¹¶åœ¨é…ç½®æ–‡ä»¶ä¸­é»˜è®¤é™åˆ¶è¿™äº›è¡Œä¸ºï¼Œå¯¼è‡´åˆ·åœ°æ¯¯æœº/ç ´åŸºå²©ç­‰åŸç‰ˆå¯è¡Œçš„æ“ä½œåœ¨papermcæœåŠ¡ç«¯å†…ä¸å¯ç”¨ã€‚å½“ç„¶è¿™æ ·å¯¹äºæœä¸»è€Œè¨€ç¡®å®å¯ä»¥é˜²æ­¢ç©å®¶åšå‡ºè¶Šç•Œçš„è¡Œä¸ºï¼Œä½†æ˜¯å¯¹äºæˆ‘è¿™ç§åªæœ‰å‡ ä¸ªæœ‹å‹åœ¨ä¸€èµ·ç©çš„æœåŠ¡å™¨ï¼Œå°±ä¸éœ€è¦é™åˆ¶è¿™äº›äº†ã€‚å…³é—­é™åˆ¶çš„æ–¹å¼å¾ˆç®€å•ï¼Œä¿®æ”¹æ•°æ®ç›®å½•ä¸‹çš„paper.ymlï¼Œå°†allow-headless-pistonsã€allow-permanent-block-break-exploitså’Œallow-piston-duplicationä¸‰é¡¹è®¾ç½®ä¸ºtrueå³å¯ã€‚\nå®‰è£…æ’ä»¶ Papermcæ”¯æŒçš„æ’ä»¶å¯ä»¥åœ¨ Hangerã€bukkitæˆ–SpigotMCä¸‹è½½ã€‚ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„jaræ–‡ä»¶æ”¾åˆ° /data/plugins æ–‡ä»¶å¤¹ä¸‹ï¼ˆæˆ–è€…ç›´æ¥ä½¿ç”¨ wget/curl ä¸‹è½½ï¼‰ï¼Œç„¶åé‡å¯æœåŠ¡å™¨ï¼Œåœ¨å¯åŠ¨æ—¶å¦‚æœæ–°å¢çš„æ’ä»¶æ²¡æœ‰æŠ¥é”™è¯¯ä¿¡æ¯ï¼Œé‚£å¤§æ¦‚ç‡æ˜¯æ²¡é—®é¢˜çš„ã€‚\nç›®å‰åŠ äº†è¿™äº›æ’ä»¶ï¼š\nMinepacksï¼šèƒŒåŒ…æ’ä»¶ï¼› TreeFellerï¼šè¿é”ç æ ‘ï¼› worldeditï¼šåˆ›ä¸–ç¥æ’ä»¶ï¼› worldguard EssentialsXï¼šæ­£å¦‚å…¶åï¼Œæä¾›ä¸€äº›æœåŠ¡å™¨çš„å¿…å¤‡åŠŸèƒ½ï¼› StackableItemsï¼šå¢åŠ ç‰©å“å †å ä¸Šé™ï¼› Multiverse-Coreï¼šå¤šä¸–ç•ŒåŸºç¡€æ’ä»¶ã€‚ Multiverse-signportalsï¼šä½¿ç”¨å‘Šç¤ºç‰Œåœ¨å¤šä¸–ç•Œé—´ä¼ é€ï¼› OpenTerrainGeneratorï¼šåˆ›å»ºä¸åŒç±»å‹ä¸–ç•Œçš„åŸºç¡€æ’ä»¶ä¹‹ä¸€ã€‚ Skylands FarFromHome ViaVersionï¼šæ”¾å®½å®¢æˆ·ç«¯ç‰ˆæœ¬é™åˆ¶ï¼› LaggRemoverï¼šå‡å°‘æœåŠ¡å™¨å¡é¡¿ï¼› BlueMap: åœ°å›¾æ’ä»¶ï¼Œæä¾›äº†ç¾è§‚çš„åœ¨çº¿3Dåœ°å›¾ï¼› UnifiedMetricsï¼šæ•°æ®æ”¶é›†æ’ä»¶ï¼Œæ”¯æŒå‰è¿°çš„Prometheusã€‚ å‚è€ƒèµ„æ–™ [1] Install Docker Engine on Ubuntu - Docker Docs | https://docs.docker.com/engine/install/ubuntu/#install-using-the-convenience-script â¤¶ [2] Docker æ¢æº - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº | https://cloud.tencent.com/developer/article/1769231 â¤¶ ","date":"2023-06-18T13:58:40+08:00","image":"https://files.furffisite.link/blogimg/20230618181015-7e414fb06bb70924b269f0ca2a5ba8f6-28296.jpg","permalink":"https://blog.furffisite.link/p/nas-3/","title":"æˆ‘æŠ˜è…¾NASçš„å†ç¨‹ï¼ˆä¸‰ï¼‰"},{"content":"ç®—æ³• Qå­¦ä¹ ç®—æ³•ï¼ˆQ-Learning Algorithmï¼‰çš„æ€è·¯æ¯”è¾ƒç®€å•ï¼šä½¿ç”¨Qå‡½æ•°è®°å½•æ¯ä¸€ä¸ªçŠ¶æ€ä¸‹æ¯ä¸€ä¸ªåŠ¨ä½œï¼ˆactionï¼‰çš„æœŸæœ›æœ€å¤§æ€»å›æŠ¥ï¼ˆrewardï¼‰ï¼Œå³Qå€¼ã€‚åœ¨æ¨ç†æ—¶è´ªå¿ƒåœ°é€‰æ‹©å½“å‰çŠ¶æ€Qå€¼æœ€å¤§çš„åŠ¨ä½œï¼Œä»è€Œè¾¾åˆ°æœ€å¤§åŒ–æœŸæœ›æ€»å›æŠ¥çš„ç›®çš„ã€‚å½“é—®é¢˜çš„çŠ¶æ€ä¸åŠ¨ä½œå‡ä¸ºç¦»æ•£æ—¶ï¼ŒQå‡½æ•°å¯ä»¥ä½¿ç”¨è¡¨æ ¼è®°å½•ï¼Œè¿™ä¸ªè¡¨æ ¼ä¹Ÿç§°ä¸ºQè¡¨æ ¼ï¼ˆQ-Tableï¼‰ã€‚\nè®¾ï¼š\né—®é¢˜çš„çŠ¶æ€ç©ºé—´ä¸º $S = {1,~2,~\\ldots, m}$ï¼› é—®é¢˜çš„åŠ¨ä½œç©ºé—´ä¸º $A = {1,~2,~\\ldots, n}$ï¼› æ¢ç´¢é˜ˆå€¼ä¸º $\\epsilon\\in [0,1]$ï¼ˆæ¨ç†æ—¶ $\\epsilon = 0$ï¼‰ï¼› å­¦ä¹ ç‡ $\\eta\\in [0,1]$ï¼› å›æŠ¥è¡°å‡ç‡ $\\gamma\\in [0,1]$ã€‚ åˆ™Qå­¦ä¹ ç®—æ³•çš„æµç¨‹å¦‚ä¸‹ï¼š\nåˆå§‹åŒ–Qè¡¨æ ¼ä¸ºé›¶çŸ©é˜µ $Q=O_{m\\times n}$ï¼› è®¾åˆå§‹æ—¶é—´ $t = 0$ï¼ŒçŠ¶æ€ä¸º $s_t = s_0$ï¼› é€‰æ‹©åŠ¨ä½œ $a_t$ï¼šå–éšæœºæ•° $r\\in[0,1]$ï¼Œè‹¥ $r\u0026lt;\\epsilon$ï¼Œåˆ™å½“å‰ä¸ºæ¢ç´¢é˜¶æ®µï¼Œä» $A$ éšæœºé€‰å–ä¸€ä¸ªåŠ¨ä½œï¼›å¦åˆ™ $a_t = \\argmax_{j\\in A} Q_{s_t, j}$ï¼› ä¸ç¯å¢ƒäº¤äº’ï¼Œæ‰§è¡ŒåŠ¨ä½œ $a_t$ï¼Œå¹¶è·å¾—çŠ¶æ€ $s_{t+1}$ã€å›æŠ¥ $r_t$ï¼› æŒ‰ç…§ Bellman æ–¹ç¨‹ æ›´æ–°Qè¡¨æ ¼ï¼š $$Q_{s_t, a_t} \\leftarrow (1-\\eta) Q_{s_t, a_t} + \\eta(\\gamma\\max_{j\\in A} Q_{s_{t+1},j} + r_t),$$ å…¶ä¸­ $\\max Q_{s_{t+1},j}$ ä¸º è½¬ç§»åçš„çŠ¶æ€ $s_{t+1}$ ä¸‹æœ€å¤§çš„Qå€¼ï¼ŒåŠ ä¸Š $r_t$ï¼Œç»„æˆè½¬ç§»å‰çŠ¶æ€ $s_t$ ä¸‹ $a_t$ æ“ä½œçš„Qå€¼ã€‚å°†å…¶ä¸åŸæ¥çš„ $Q_{s_t, a_t}$ åŠ æƒå¹³å‡å°±å¾—åˆ°äº†æ›´æ–°åçš„Qå€¼ã€‚ æ—¶é—´ $t\\leftarrow t+1$ï¼Œå›åˆ°ç¬¬ 3 æ­¥ã€‚ å®ç° Frozen Lake ä»¥ Gym çš„ Frozen Lake ç¯å¢ƒä¸ºä¾‹ï¼Œå…¶çŠ¶æ€ç©ºé—´ä¸åŠ¨ä½œç©ºé—´éƒ½æ˜¯ç¦»æ•£çš„ï¼Œå› æ­¤é€‚åˆä½¿ç”¨Qè¡¨æ ¼ã€‚è¿™ä¸ªç¯å¢ƒå…±æœ‰ $4^2=16$ ç§çŠ¶æ€ï¼Œ4ç§åŠ¨ä½œï¼Œåˆ†åˆ«å¯¹åº”ä¸Šä¸‹å·¦å³å››ä¸ªç§»åŠ¨æ–¹å‘ã€‚ç¯å¢ƒä¸­slipperyå¼•å…¥çš„ä¸ç¡®å®šæ€§å¤ªå¤§ï¼ˆæ¯æ¬¡è¡ŒåŠ¨åªæœ‰$1/3$çš„æ¦‚ç‡èƒ½çœŸæ­£å‰å¾€æŒ‡å®šçš„æ–¹å‘ï¼‰ï¼Œå› æ­¤è¿™é‡Œåˆ›å»ºç¯å¢ƒæ—¶is_slipperyä¸€é¡¹è®¾ä¸ºFalseã€‚\nå®ç°å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 import gymnasium as gym import numpy as np from random import random env = gym.make(\u0026#39;FrozenLake-v1\u0026#39;, map_name=\u0026#34;4x4\u0026#34;, is_slippery = False) n_actions, n_states = env.action_space.n, env.observation_space.n lr, gamma = 0.2, 0.6 total = 1000 Q_table = np.zeros((n_states, n_actions)) state, info = env.reset() for t in range(total): # é€‰æ‹©åŠ¨ä½œ epsilon = 1 - t / total if random() \u0026lt; epsilon: # æ¢ç´¢ action = env.action_space.sample() else: action = Q_table[state].argmax(0) org_state = state state, reward, terminated, truncated, info = env.step(action) if state == n_states-1: # æŠµè¾¾ç»ˆç‚¹ï¼Œè·å¾—å¥–åŠ± reward = 20 elif terminated: # æ‰è¿›æ´é‡Œï¼Œç»™äºˆæƒ©ç½š reward = -5 else: # è®©agentå°½å¿«æŠµè¾¾ç»ˆç‚¹ reward = -1 # æ›´æ–°Qå€¼ Q_table[org_state, action] = ((1 - lr) * Q_table[org_state, action] + lr * (reward + gamma * Q_table[state].max())) if terminated or truncated: state, info = env.reset() åŸç¯å¢ƒæä¾›çš„å›æŠ¥å‡½æ•°æ‰€å«çš„ä¿¡æ¯è¾ƒå°‘ï¼ˆä»…åœ¨æŠµè¾¾ç»ˆç‚¹æ—¶ä¸º1ï¼Œå…¶ä½™æƒ…å†µå‡ä¸º0ï¼‰ï¼Œä¸åˆ©äºç®—æ³•çš„æ”¶æ•›ï¼Œå› æ­¤æˆ‘åœ¨å®ç°ä¸­é‡æ–°è®¾è®¡äº†å›æŠ¥å‡½æ•°ã€‚ æ­¤å¤–ï¼Œè®­ç»ƒæ—¶é‡‡ç”¨çº¿æ€§è¡°å‡çš„æ¢ç´¢é˜ˆå€¼ $\\epsilon$ ï¼Œå³è®­ç»ƒåˆæœŸå€¾å‘äºæ¢ç´¢ï¼ˆexplorationï¼‰ï¼ŒåæœŸå€¾å‘äºå¼€å‘ï¼ˆexploitationï¼‰ã€‚\nè®­ç»ƒæ—¶æ¯è½®çš„tä¸è¯¥è½®è·å¾—çš„æ€»rewardçš„æŠ˜çº¿å›¾å¦‚ä¸‹ï¼š\næ¨ç†æ—¶ç®—æ³•é€‰æ‹©çš„è·¯çº¿å¦‚ä¸‹å›¾ï¼Œç¡®å®æ˜¯æœ€ä¼˜è·¯çº¿ä¹‹ä¸€ã€‚\né™¤äº† Frozen Lakeï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥æ±‚è§£ Gym æä¾›çš„ Cliff Walkingã€Taxi ä¸ Blackjackã€‚ä½†æ˜¯ï¼Œéšç€é—®é¢˜è§„æ¨¡çš„å¢å¤§ï¼Œè®­ç»ƒæ­¥æ•°ä¹Ÿéœ€è¦ç›¸åº”åœ°å¢åŠ ã€‚\nCliff Walking è¿™ä¸ªç¯å¢ƒæœ‰48ç§çŠ¶æ€å’Œ4ç§åŠ¨ä½œï¼Œå› æ­¤Qè¡¨æ ¼å†…å…±æœ‰192é¡¹ã€‚ä»¥ä¸‹æ˜¯è®­ç»ƒäº† 10,000 æ­¥çš„ç»“æœï¼ˆå¹³å‡æ¯é¡¹52æ­¥ï¼‰ï¼š\nTaxi è¿™ä¸ªç¯å¢ƒæœ‰500ç§çŠ¶æ€å’Œ6ç§åŠ¨ä½œï¼Œå¯¹åº”Qè¡¨æ ¼çš„3000é¡¹ã€‚ä»¥ä¸‹æ˜¯è®­ç»ƒäº† 200,000 æ­¥çš„ç»“æœï¼ˆå¹³å‡æ¯é¡¹67æ­¥ï¼‰ï¼š\nBlackjack Blackjack æœ‰ $32\\times 11\\times 2=704$ ç§çŠ¶æ€å’Œ $2$ ç§åŠ¨ä½œï¼Œåœ¨å¤„ç†æ—¶éœ€è¦å°†ç¦»æ•£çš„çŠ¶æ€å‘é‡æ˜ å°„åˆ°éè´Ÿæ•´æ•°åŸŸå†…ã€‚ è¿™ä¸ªæ¸¸æˆçš„çŠ¶æ€è½¬ç§»å­˜åœ¨ä¸ç¡®å®šæ€§ï¼Œå³ä½¿æ˜¯å……åˆ†è®­ç»ƒï¼ˆ$5\\times 10^6$ æ­¥ï¼‰çš„Qè¡¨æ ¼ä¹Ÿåªèƒ½å°†èƒœç‡ä»å®Œå…¨éšæœºæ—¶çš„ 28.2% æå‡åˆ° 39.3%ã€‚\nåˆ†æ ä¼˜ç‚¹ ç®—æ³•ç®€å•ï¼Œæ˜“äºç†è§£å’Œå®ç°ã€‚ å±€é™æ€§ åŸºäºQè¡¨æ ¼çš„Qå­¦ä¹ ç®—æ³•åªèƒ½å¤„ç†è¾“å…¥è¾“å‡ºéƒ½æ˜¯ç¦»æ•£çš„é—®é¢˜ï¼› åŸºäºQè¡¨æ ¼çš„Qå­¦ä¹ ç®—æ³•ä¸èƒ½è·¨å®ä¾‹å­¦ä¹ ï¼Œå³åœ¨é‡åˆ°æ–°çš„é—®é¢˜å®ä¾‹æ—¶ï¼Œéœ€è¦ä»0å¼€å§‹é‡æ–°æ¢ç´¢ï¼› åŸºäºQè¡¨æ ¼çš„Qå­¦ä¹ ç®—æ³•éš¾ä»¥å¤„ç†è®­ç»ƒè¿‡ç¨‹ä¸­æ²¡æœ‰è§è¿‡çš„çŠ¶æ€ï¼› å½“çŠ¶æ€ç©ºé—´æˆ–åŠ¨ä½œç©ºé—´å¾ˆå¤§æ—¶ï¼ŒQè¡¨æ ¼çš„è§„æ¨¡ä¹Ÿä¼šå¾ˆå¤§ï¼Œä»è€Œéœ€è¦æ›´é•¿çš„å­¦ä¹ æ—¶é—´ã€‚ ä¸Šè¿°é—®é¢˜å¯ä»¥é€šè¿‡å¼•å…¥ç¥ç»ç½‘ç»œç¼“è§£ï¼Œå³æ·±åº¦Qå­¦ä¹ ç®—æ³•ï¼ˆDeep Q-Learning Algorithmï¼‰ã€‚\n","date":"2023-05-18T15:05:05+08:00","image":"https://files.furffisite.link/blogimg/20230518191643-b6c8849bfb006d40abef7203bb5e15a0-18b9a.jpg","permalink":"https://blog.furffisite.link/p/q-learning/","title":"ã€RLå­¦ä¹ ç¬”è®°ã€‘Qå­¦ä¹ ç®—æ³•"},{"content":"å› ä¸ºLinuxç«¯çš„Zoteroï¼ˆAURï¼‰ä¸­æœ‰ä¸€éƒ¨åˆ†å…ƒç´ çš„æ ·å¼æ˜¯ç”±GTKæ§åˆ¶çš„ï¼Œå› æ­¤å½“ç³»ç»Ÿçš„GTKä¸»é¢˜ä¸ºæ·±è‰²ä¸»é¢˜æ—¶ï¼ŒZoteroçš„ç•Œé¢ä¼šå‘ˆç°ä¸ºè¿™ä¸ªæ ·å­ï¼š è¿™ä¸æ˜¯å¾ˆå¥½çœ‹ï¼Œå¹¶ä¸”éƒ¨åˆ†åŒºåŸŸå†…æ–‡å­—å’ŒèƒŒæ™¯è‰²çš„å¯¹æ¯”åº¦å¾ˆä½ï¼Œå¯¼è‡´æ–‡å­—éš¾ä»¥é˜…è¯»ã€‚\næ ¹æ®è¿™ä¸ªå¸–å­ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡ç¯å¢ƒå˜é‡åœ¨ç¨‹åºå¯åŠ¨æ—¶æŒ‡å®šå…¶ä½¿ç”¨çš„GTKä¸»é¢˜ï¼Œä¹Ÿå°±æ˜¯ï¼š\n1 $ GTK_THEME=Pop-light zotero åæ˜ åˆ°Desktopæ–‡ä»¶ä¸Šï¼ˆé€šå¸¸ä½äº/usr/share/applications/å’Œ~/.local/share/applications/ï¼‰ï¼Œå°±æ˜¯åœ¨å¯åŠ¨æŒ‡ä»¤ï¼ˆExecé¡¹ï¼‰å‰åŠ å…¥env GTK_THEME=Pop-lightã€‚\n1 2 3 4 5 [Desktop Entry] Type=Application Name=Zotero Exec=env GTK_THEME=Pop-light /usr/bin/zotero -url %U ... è¿™æ ·æ“ä½œåï¼Œé€šè¿‡åº”ç”¨å¯åŠ¨å™¨æ‰“å¼€çš„Zoteroå°±ä¸ä¼šæœ‰é—®é¢˜äº†ã€‚\n","date":"2023-05-13T13:12:27+08:00","permalink":"https://blog.furffisite.link/p/linux-darkmode-zotero-gui-issue/","title":"è§£å†³Linuxç³»ç»Ÿæ·±è‰²æ¨¡å¼ä¸‹çš„Zoteroæ˜¾ç¤ºé—®é¢˜"},{"content":"é—®é¢˜èƒŒæ™¯ åœ¨ä½¿ç”¨Pythonçš„Flaskæ¡†æ¶å¼€å‘Webåº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªåŸºæœ¬çš„æœåŠ¡ç«¯ç¨‹åºç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 from flask import Flask app = Flask(__name__) @app.route(\u0026#39;/handler1\u0026#39;) def handler1(): ... @app.route(\u0026#39;/handler2\u0026#39;) def handler2(): ... @app.route(\u0026#39;/handler3\u0026#39;) def handler3(): ... å¯ä»¥æŒ‰ç…§è¿™ç§æ¨¡å¼æ— é™æ·»åŠ å¤„ç†è§†å›¾ï¼ˆhandlerï¼‰ï¼Œä½†æ˜¯éšç€é¡¹ç›®å¢å¤§ï¼Œè¿™ç§å°†æ‰€æœ‰ handler éƒ½æ”¾åœ¨ä¸€ä¸ªpyæ–‡ä»¶é‡Œçš„æ¨¡å¼æ˜¾ç„¶æ˜¯ä¸åˆé€‚çš„ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ blueprint å°†æ¯ä¸ªhandlerï¼ˆæˆ–ä¸€ç»„handlerï¼‰æ”¾åœ¨äº’ç›¸ç‹¬ç«‹çš„æ–‡ä»¶é‡Œã€‚\né¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 . â”œâ”€â”€ app.py â””â”€â”€ services â”œâ”€â”€ __init__.py â”œâ”€â”€ login.py â”œâ”€â”€ register.py ... ä»£ç å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 \u0026#34;\u0026#34;\u0026#34; === app.py === \u0026#34;\u0026#34;\u0026#34; from flask import Flask from services import blueprint app = Flask(__name__) app.register_blueprint(blueprint) \u0026#34;\u0026#34;\u0026#34; === services/__init__.py === \u0026#34;\u0026#34;\u0026#34; from flask import Blueprint blueprint = Blueprint(\u0026#39;api\u0026#39;, __name__) # ä¸ºäº†åœ¨ç¨‹åºå¯åŠ¨è¿‡ç¨‹ä¸­èƒ½è¿è¡Œä¸¤ä¸ªhandleræ–‡ä»¶ï¼Œéœ€è¦åœ¨è¿™é‡Œimportå®ƒä»¬ from . import login from . import register \u0026#34;\u0026#34;\u0026#34; === services/login.py === \u0026#34;\u0026#34;\u0026#34; from . import blueprint @blueprint.route(\u0026#34;/login\u0026#34;) def handle_login(): # å¤„ç†ç™»å½•é€»è¾‘ ... \u0026#34;\u0026#34;\u0026#34; === services/register.py === \u0026#34;\u0026#34;\u0026#34; from . import blueprint @blueprint.route(\u0026#34;/register\u0026#34;, methods=[\u0026#34;POST\u0026#34;]) def handle_register(): # å¤„ç†æ³¨å†Œé€»è¾‘ ... è¿™æ ·åšå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š\næ¯æ¬¡æ–°å¢ä¸€ä¸ªæ–‡ä»¶éƒ½éœ€è¦åœ¨__init__.pyä¸­æ·»åŠ ç›¸åº”çš„ import è¯­å¥ï¼Œè¾ƒä¸ºéº»çƒ¦ï¼› PEP-8 ä¸­è¦æ±‚å°† import è¯­å¥æ”¾åœ¨æ–‡ä»¶çš„é¡¶éƒ¨ï¼Œ__init__.pyæ˜¾ç„¶ä¸ç¬¦åˆï¼ˆä½†å¿…é¡»å¦‚æ­¤ï¼‰ï¼Œå› è€Œé™æ€æ£€æŸ¥å™¨æœ‰å¯èƒ½åœ¨æ­¤å¤„æŠ¥é”™ï¼ˆE402ï¼‰ã€‚ äºæ˜¯å°±è‡ªç„¶è€Œç„¶åœ°æƒ³åˆ°äº†ï¼šå¦‚ä½•åœ¨æ¨¡å—åˆå§‹åŒ–æ—¶è‡ªåŠ¨å¯¼å…¥å½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰å­æ¨¡å—å‘¢ï¼Ÿ\nè§£å†³æ–¹æ³• å°†services/__init__.pyæ”¹ä¸ºè¿™æ ·ï¼š\n1 2 3 4 5 6 7 8 import pkgutil import importlib from flask import Blueprint blueprint = Blueprint(\u0026#39;api\u0026#39;, __name__) for spec in pkgutil.iter_modules(path=__path__, prefix=\u0026#39;\u0026#39;): importlib.import_module(\u0026#34;.\u0026#34;+spec.name, __name__) åŸç†æ¢ç©¶ å¯ä»¥é€šè¿‡pdbæˆ– print è·å¾—è¿™æ®µç¨‹åºæ‰€æ¶‰åŠå˜é‡çš„å€¼ï¼š\n1 2 3 4 __name__ = \u0026#39;services\u0026#39; __path__ = [\u0026#39;/tmp/test/services\u0026#39;] spec = ModuleInfo(module_finder=FileFinder(\u0026#39;/tmp/test/services\u0026#39;), name=\u0026#39;login\u0026#39;, ispkg=False) spec = ModuleInfo(module_finder=FileFinder(\u0026#39;/tmp/test/services\u0026#39;), name=\u0026#39;register\u0026#39;, ispkg=False) å…¶ä¸­__name__ä¸ºå½“å‰åŒ…çš„åå­—ï¼Œ__path__ä¸ºæ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚ pkgutilæ¨¡å—çš„iter_moduleså‡½æ•°ä¼šæ‰¾åˆ°æä¾›çš„pathä¸‹çš„æ‰€æœ‰å­æ¨¡å—ï¼Œåœ¨è¿™é‡Œå°±æ˜¯loginä¸registerï¼Œå¹¶è¿”å›å®ƒä»¬çš„ ModuleInfoã€‚\nåœ¨forå¾ªç¯å†…æå–ModuleInfoçš„nameï¼Œå¾—åˆ°æ¨¡å—çš„åå­—ï¼ŒåŠ ä¸Šå‰ç¼€.ï¼Œå³å½“å‰ç›®å½•ä¸‹çš„å¯¹åº”å­æ¨¡å—ã€‚æœ€åä½¿ç”¨importlibçš„import_moduleå‡½æ•°å¯¼å…¥å­æ¨¡å—ï¼ˆå³è¿è¡Œå­æ¨¡å—çš„ä»£ç ï¼Œå°†handleræ³¨å†Œåˆ°routerä¸Šï¼‰ã€‚è¿™æ ·æ— è®ºå¢åŠ å¤šå°‘handleræ–‡ä»¶ï¼Œ__init__.pyéƒ½å¯ä»¥æ‰¾åˆ°å¹¶åŠ è½½å®ƒä»¬ã€‚\n","date":"2023-05-11T12:22:54+08:00","image":"https://files.furffisite.link/blogimg/20230511163144-c5d0b19ce502665b1891ef8c78c5b839-32aa3.jpg","permalink":"https://blog.furffisite.link/p/python-import-directory-modules/","title":"åœ¨Pythonä¸­å¯¼å…¥å½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ¨¡å—"},{"content":"starship æ˜¯ä½¿ç”¨Rustç¼–å†™çš„è½»é‡ä¸”è¿…é€Ÿçš„ç»ˆç«¯æç¤ºç¬¦ç¨‹åºï¼Œå…¶åŠŸèƒ½å’Œä½œç”¨ä¸Oh My Zsh ç›¸ä¼¼ï¼Œä½†æ˜¯ç›¸æ¯”äºOh My Zshï¼Œstarshipå…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š\nstarshipæ˜¯è·¨å¹³å°è·¨ç»ˆç«¯çš„ï¼Œå…¶æ”¯æŒBashã€Zshã€Fishç­‰åå‡ ç§ç»ˆç«¯ï¼Œç”šè‡³åŒ…æ‹¬Windowsçš„PowerShellä¸cmdï¼› ä½¿ç”¨ç¼–è¯‘å‹è¯­è¨€Rustç¼–å†™çš„starshipåœ¨è¿è¡Œé€Ÿåº¦ä¸Šä¼˜äºåŸºäºshell scriptçš„Oh My Zshï¼› starshipçš„è‡ªå®šä¹‰é…ç½®æ–¹æ³•æ¯”Oh My Zshç®€å•ã€‚ å…ˆä¸Šå›¾ï¼Œä»¥ä¸‹æ˜¯æˆ‘æ‰€ä¹ æƒ¯çš„é…ç½®çš„æ•ˆæœå›¾ã€‚é™¤å½“å‰ç”¨æˆ·ã€hostnameå’Œå½“å‰å·¥ä½œè·¯å¾„å¤–ï¼Œstarshipè¿˜æ˜¾ç¤ºäº†gitçŠ¶æ€ã€ç›¸å…³è½¯ä»¶çš„ç‰ˆæœ¬ã€è¿›ç¨‹çš„è¿”å›ç ã€è¿è¡Œæ—¶é—´ã€å·²ç”¨å†…å­˜/è™šæ‹Ÿå†…å­˜å’Œå½“å‰æ—¶é—´ç­‰ä¿¡æ¯ã€‚starfishæ˜¯é€šè¿‡å½“å‰å·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶ååˆ¤æ–­åº”å½“å±•ç¤ºå“ªäº›æ¨¡ç»„çš„ï¼Œæ‰€ä»¥å½“æˆ‘åˆ›å»ºæ–‡ä»¶ä¹‹åæç¤ºç¬¦ä¸Šä¹Ÿå°±å¤šå‡ºäº†ç›¸å…³è½¯ä»¶çš„ä¿¡æ¯ã€‚\nä¸‹æ–‡å°†ç®€è¿°starshipçš„å®‰è£…æ–¹æ³•ï¼Œå¹¶ç»™å‡ºæˆ‘çš„é…ç½®æ–‡ä»¶ã€‚\nå®‰è£… æœ¬æ–‡ä»…é€‚ç”¨äºåœ¨Linuxä¸‹çš„bashå’Œzshç»ˆç«¯å®‰è£…starshipï¼Œåœ¨å…¶å®ƒç»ˆç«¯çš„å®‰è£…æ–¹æ³•è¯·å‚è§starshipçš„å®˜æ–¹æ–‡æ¡£ã€‚\né¦–å…ˆä½¿ç”¨å®˜æ–¹è„šæœ¬åœ¨Linuxç³»ç»Ÿå†…å®‰è£…starshipç¨‹åºï¼š\n1 $ curl -sS https://starship.rs/install.sh | sh è¿™æ—¶å¦‚æœåœ¨ç»ˆç«¯è¾“å…¥starship -Vèƒ½çœ‹åˆ°starshipçš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå°±è¯´æ˜ç¨‹åºå®‰è£…æˆåŠŸäº†ã€‚\nç„¶åéœ€è¦é…ç½®ç»ˆç«¯ç¨‹åºï¼Œä½¿å…¶èƒ½ä½¿ç”¨starshipä½œä¸ºæç¤ºç¬¦ã€‚åœ¨~/.bashrcï¼ˆbashç»ˆç«¯ï¼‰æˆ–~/.zshrcï¼ˆzshç»ˆç«¯ï¼‰å†…åŠ å…¥è¿™ä¸€è¡Œå³å¯ï¼š\n1 eval \u0026#34;$(starship init bash)\u0026#34; é…ç½® starshipçš„é…ç½®æ–‡ä»¶æ˜¯~/.config/starship.tomlï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡STARSHIP_CONFIGæ”¹å˜æ­¤æ–‡ä»¶çš„ä½ç½®ã€‚åœ¨ç»ˆç«¯è¾“å…¥starship configå¯ä»¥ç›´æ¥æ‰“å¼€è¯¥æ–‡ä»¶ã€‚\nç”±åç¼€åå¯çŸ¥ï¼Œstarshipçš„é…ç½®æ–‡ä»¶ä¸ºTOMLæ–‡ä»¶ï¼Œéµå®ˆTOMLè¯­æ³•ï¼Œå…³äºTOMLè¯­æ³•æœ¬æ–‡å°±ä¸èµ˜è¿°äº†ï¼Œè‹¥éœ€è¦äº†è§£è¯¦æƒ…è¯·ç§»æ­¥TOMLå®˜ç½‘ã€‚\nstarshipæ˜¯åˆ†æ¨¡å—çš„ç»“æ„ï¼Œstarshipç”Ÿæˆçš„æç¤ºç¬¦ä¸­çš„æ¯ä¸€ä¸ªéƒ¨åˆ†éƒ½å¯¹åº”starshipçš„ä¸€ä¸ªæ¨¡å—ï¼Œä½ å¯ä»¥ä½¿ç”¨starship explainæŒ‡ä»¤æŸ¥çœ‹å„æ¨¡å—çš„è¯´æ˜åŠå…¶è¿è¡Œæ—¶é—´ï¼Œä¾‹å¦‚ä»¥æˆ‘å½“å‰çš„é…ç½®è¾“å…¥è¯¥å‘½ä»¤åæ•ˆæœå¦‚ä¸‹ï¼š\nå…³äºå¦‚ä½•è‡ªå®šä¹‰é…ç½®ï¼Œstarshipçš„å®˜æ–¹æ–‡æ¡£å·²ç»å†™çš„å¾ˆå®Œå–„äº†ï¼Œå‚è§ https://starship.rs/zh-CN/config/ã€‚\nstarshipåœ¨å®˜æ–¹æ–‡æ¡£é‡Œå·²ç»ç»™å‡ºäº†ä¸€äº›é¢„è®¾ï¼Œä½ å¯ä»¥ä»¥ä½ å–œæ¬¢çš„é¢„è®¾ä¸ºåŸºç¡€è¿›è¡Œå®šåˆ¶ï¼Œä¾‹å¦‚æˆ‘çš„é…ç½®å°±æ˜¯åœ¨Bracketed Segmentså’ŒNerd Font Symbolsé¢„è®¾ä¹‹ä¸ŠæŒ‰ç…§è‡ªå·±çš„ä¹ æƒ¯æ‰€åšçš„æ›´æ”¹ã€‚æˆ‘çš„starship.tomlå¦‚ä¸‹ï¼š\nå¦å¤–ï¼Œä½¿ç”¨Nerd Font Symbolséœ€è¦Nerd Fontï¼Œè¯·å‰å¾€ https://www.nerdfonts.com/font-downloads ä¸‹è½½ä½ ä¹ æƒ¯çš„å­—ä½“å¯¹åº”çš„å›¾æ ‡å­—ä½“ï¼Œå¹¶åœ¨è™šæ‹Ÿç»ˆç«¯ä¸­å°†å…¶è®¾ä¸ºé»˜è®¤å­—ä½“ã€‚\nç›¸å…³é—®é¢˜ åœ¨ä½¿ç”¨Anacondaç®¡ç†Pythonçš„è™šæ‹Ÿç¯å¢ƒæ—¶ï¼ŒAnacondaä¼šè‡ªåŠ¨åœ¨æç¤ºç¬¦å‰åŠ ä¸Šå½“å‰è™šæ‹Ÿç¯å¢ƒçš„åç§°ï¼Œå¦‚(base)ï¼Œè¿™ä¸starshipå†²çªäº†ï¼ˆä¸”starshipçš„condaæ¨¡å—æä¾›äº†ç›¸åŒçš„åŠŸèƒ½ï¼‰ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ç¦ç”¨Anacondaçš„è¿™ä¸ªåŠŸèƒ½ã€‚\n1 $ conda config --set changeps1 False ","date":"2023-01-06T16:24:31+08:00","image":"https://files.furffisite.link/blogimg/20230109230402-9ec5accbc75f863015a4dca68f9f9870-cc3be.jpg","permalink":"https://blog.furffisite.link/p/use-starship/","title":"ä½¿ç”¨starshipå®šåˆ¶ç»ˆç«¯æç¤ºç¬¦"},{"content":" ä»Šå¤©åœ¨QQçœ‹åˆ°ä¸€å¼ å›¾ï¼Œè¿™å¼ å›¾åœ¨é¢„è§ˆä¸‹çœ‹åˆ°çš„å’ŒæŸ¥çœ‹å›¾ç‰‡æ—¶çœ‹åˆ°çš„å†…å®¹ä¸ä¸€æ ·ã€‚è™½ç„¶ä¸æ˜¯ç¬¬ä¸€æ¬¡è§è¿™ç§å›¾äº†ï¼Œä½†æ˜¯ä»Šå¤©åœ¨æ‘¸é±¼çš„æ—¶å€™æ— äº‹å¯åšï¼Œå°±ç ”ç©¶äº†ä¸€ä¸‹å®ƒçš„åŸç†ã€‚\nè¿™å¼ å›¾æ˜¯è¿™æ ·çš„ï¼šå·¦å›¾ä¸ºå®ƒåœ¨èŠå¤©ç•Œé¢çš„æ ·å­ï¼Œå…¸å‹çš„åƒğŸ‘åœºæ™¯ï¼Œç‚¹å¼€å¤§å›¾ä¹‹åçœ‹åˆ°çš„å´æ˜¯å³å›¾çš„æ ·å­ï¼ˆç¬‘ï¼‰ã€‚ ä¸­é—´çš„å›¾ç‰‡ä¸ºåµŒå…¥çš„åŸå›¾ï¼Œå¦‚æœæ‚¨å¼€å¯äº†æš—è‰²æ¨¡å¼ï¼ˆæ¡Œé¢ç«¯å¯ä»¥åœ¨é¡µé¢å³ä¸‹è§’åˆ‡æ¢ï¼‰ï¼Œæ‚¨çœ‹åˆ°ä¸­å›¾çš„åº”è¯¥å’Œå³å›¾ä¸€æ ·ï¼Œåä¹‹åˆ™å’Œå·¦å›¾ä¸€æ ·ã€‚ åŸå›¾å¯ä»¥åœ¨è¿™é‡Œè·å–ã€‚\nåŸç† è¿™ç§å›¾çš„åŸç†å¹¶ä¸éš¾çŒœï¼Œè‚¯å®šåˆ©ç”¨äº†pngå›¾ç‰‡çš„é€æ˜åº¦é€šé“ï¼Œä½¿å…¶åœ¨ä¸åŒèƒŒæ™¯è‰²ä¸‹èƒ½å‘ˆç°å‡ºä¸åŒçš„æ•ˆæœã€‚ä¸‹é¢æ±‚è§£ä¸€ä¸‹å®ƒæ˜¯æ€ä¹ˆåˆ¶ä½œå‡ºæ¥çš„ï¼š ï¼ˆå› ä¸ºè¿™é‡Œåªæ¶‰åŠå›¾åƒçš„åƒç´ å˜æ¢ï¼Œä¸ºç®€åŒ–è¡¨ç¤ºï¼Œä»¥ä¸‹çš„æ¯ä¸ªå˜é‡éƒ½è¡¨ç¤ºå•ä¸ªåƒç´ å•ä¸ªé€šé“çš„å€¼ï¼Œä¸”å®šä¹‰åŸŸä¸º$[0,1]$.ï¼‰\nè®¾åœ¨èŠå¤©ç•Œé¢çœ‹åˆ°çš„å›¾åƒï¼ˆè¡¨å›¾ï¼‰ç°åº¦ä¸º$c$ï¼Œç‚¹å¼€å¤§å›¾åçœ‹åˆ°çš„å›¾åƒï¼ˆé‡Œå›¾ï¼‰ä¸º$h$ï¼Œå¾…æ±‚é‡ä¸ºç”Ÿæˆçš„å›¾åƒçš„ç°åº¦$g$ä¸é€æ˜åº¦$a$ã€‚\nåœ¨èŠå¤©ç•Œé¢çš„å›¾åƒæ˜¯ç›®æ ‡å›¾åƒå’Œç™½è‰²èƒŒæ™¯çš„æ··åˆï¼Œä¹Ÿå°±æ˜¯$$(1-a) + g\\cdot a = c.$$ ç‚¹å¼€å¤§å›¾åæ˜¯ç›®æ ‡å›¾åƒå’Œé»‘è‰²èƒŒæ™¯çš„æ··åˆï¼Œå³$$0+g\\cdot a = h.$$\nè§£å‡ºæ¥å°±æ˜¯$$a=1+h-c,~g=h/a.$$\nåˆå› ä¸ºè§£éœ€è¦æ»¡è¶³$a,g\\in(0,1]$ï¼Œæ‰€ä»¥$c$å’Œ$h$éœ€è¦æ»¡è¶³ä¸ç­‰å¼$$h\\le c\u0026lt;1+h$$ å³ä¾§å½“ä¸”ä»…å½“$c=1,~h=0$æ—¶ä¸æˆç«‹ã€‚\nå®ç° è¿™ä¸ªç¨‹åºå®ç°èµ·æ¥æ²¡æœ‰ä»€ä¹ˆéš¾åº¦ï¼Œpythonä»£ç å¦‚ä¸‹ï¼ˆéœ€è¦Pillowä¸numpyï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸ºäº†æ»¡è¶³ä¸Šé¢çš„ä¸ç­‰å¼ï¼Œåœ¨ç¨‹åºä¸­éœ€è¦é‡æ–°åˆ†é…ä¸¤å¼ åŸå›¾çš„ç°åº¦çš„èŒƒå›´ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 import numpy as np from PIL import Image # è¯»å–å›¾ç‰‡+è½¬ç°åº¦ cover = Image.open(\u0026#34;./cover.png\u0026#34;).convert(\u0026#34;L\u0026#34;) hidden = Image.open(\u0026#34;./hidden.png\u0026#34;).convert(\u0026#34;L\u0026#34;) assert cover.size == hidden.size cover = np.asarray(cover) hidden = np.asarray(hidden) # æŒ‰ç…§çº¦æŸæ¡ä»¶è°ƒæ•´åƒç´ èŒƒå›´ cover_min, cover_max = cover.min(), cover.max() hidden_min, hidden_max = hidden.min(), hidden.max() cd = cover_max - cover_min hd = hidden_max - hidden_min divide_portion = hd/(hd*1.0+cd) cover_f = (cover-cover_min)*1.0/cd * (1-divide_portion-1/255) + divide_portion hidden_f = (hidden-hidden_min)*1.0/hd * divide_portion # è®¡ç®— alpha = 1-cover_f+hidden_f gray = hidden_f/alpha alpha = (alpha*255).astype(np.uint8) gray = (gray*255).astype(np.uint8) result = np.stack([gray,gray,gray,alpha], axis=-1) # ä¿å­˜ç»“æœ img = Image.fromarray(result) img.save(\u0026#34;./output.png\u0026#34;) è¿™æ˜¯éšæ‰‹æŠ“çš„ä¸¤å¼ é»‘ç™½è¡¨æƒ…åŒ…åšå‡ºæ¥çš„æ•ˆæœï¼Œé¡ºåºå’Œä¸Šé¢çš„å±•ç¤ºä¸€æ ·ï¼Œæ‚¨å¯ä»¥é€šè¿‡åˆ‡æ¢æš—è‰²æ¨¡å¼æŸ¥çœ‹æ•ˆæœï¼š\næ³¨ï¼šåœ¨QQå‘é€æ­¤ç±»å›¾ç‰‡æ—¶ï¼Œä¸€å®šè¦é€‰æ‹©å‘é€åŸå›¾ï¼Œå¦åˆ™QQå¯èƒ½ä¼šåœ¨å‹ç¼©è¿‡ç¨‹ä¸­å»æ‰é€æ˜åº¦é€šé“ï¼Œå¯¼è‡´å…¶å¤±æ•ˆã€‚\n","date":"2023-01-03T23:51:54+08:00","image":"https://files.furffisite.link/blogimg/20230104022542-b692e6e89157626a929575a0b97e5583-3e819.jpg","permalink":"https://blog.furffisite.link/p/qq-duplicity-image/","title":"åˆ©ç”¨é€æ˜åº¦é€šé“åˆ¶ä½œQQå†…è¡¨é‡Œä¸ä¸€çš„å›¾ç‰‡"},{"content":"å¦‚ä½•åœ¨$\\LaTeX$ä¸­å°†è¶…å‡ºæ–‡æœ¬å®½åº¦çš„æµ®åŠ¨ä½“ï¼ˆè¡¨æ ¼/å›¾ç‰‡ï¼‰å±…ä¸­ï¼Ÿè¿™ä¸ªé—®é¢˜æˆ‘æ›¾å¤šæ¬¡é‡åˆ°è¿‡ï¼Œä½†æ˜¯æ²¡æœ‰ä¸€æ¬¡è®°å¾—æ€ä¹ˆè§£å†³ï¼Œæ¯æ¬¡éƒ½éœ€è¦è°·æ­Œã€‚ä»Šå¤©ä¹Ÿç¢°åˆ°äº†è¿™ä¸ªæƒ…å†µï¼Œå› æ­¤å°†è§£å†³æ–¹æ¡ˆè®°å½•å¤‡å¿˜ã€‚\næˆ‘çœ‹åˆ°çš„æœ€ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆå‡ºè‡ª$\\TeX$çš„StackExchangeä¸­çš„è¿™ç¯‡å›ç­”ã€‚åªè¦åœ¨æµ®åŠ¨ä½“å†…å‡å°‘å·¦å³è¾¹è·å³å¯ï¼Œä¹Ÿå°±æ˜¯ä¸‹åˆ—ç¤ºä¾‹çš„ç¬¬3-4è¡Œï¼š\n1 2 3 4 5 6 7 \\begin{figure}[t] \\centering \\addtolength{\\leftskip}{-2cm} % increase (absolute) value if needed \\addtolength{\\rightskip}{-2cm} \\includegraphics[width=1.2\\textwidth]{image} \\caption{example}\\label{fig:example} \\end{figure} æ•ˆæœå¦‚ä¸‹å›¾ï¼š\n","date":"2022-12-24T12:38:21+08:00","image":"https://files.furffisite.link/blogimg/20230511163659-9e52e93f3d72fae5e3a97613e49e921f-97fa4.jpg","permalink":"https://blog.furffisite.link/p/latex-widefloat-centering/","title":"å¦‚ä½•å°†LaTeXå†…è¶…å‡ºæ–‡æœ¬å®½åº¦çš„æµ®åŠ¨ä½“å±…ä¸­"},{"content":"å‰è¨€ ä»Šå¤©æƒ³ç»™æˆ‘è¿™ä¸ªåšå®¢åŠ ä¸€å¼ å›¾ç‰‡ï¼Œä½†æ˜¯æŠŠå›¾ç‰‡æ–‡ä»¶å’Œåšå®¢çš„æ–‡ç« æ”¾åœ¨ä¸€èµ·ï¼Œå†…å®¹ç®¡ç†æ¯”è¾ƒéº»çƒ¦ï¼Œå¹¶ä¸”ä¼šå¢å¤§gitä»“åº“çš„ä½“ç§¯ã€‚å› æ­¤æˆ‘å°±æƒ³åˆ°äº†ä½¿ç”¨å›¾åºŠåˆ†æµåšå®¢ä¸­çš„å›¾ç‰‡ã€‚\nåœ¨ç½‘ä¸Šæœç´¢äº†ä¸€äº›å›¾åºŠæœåŠ¡ï¼Œå‘ç°å›½å†…å…è´¹çš„å›¾åºŠæœåŠ¡è¦ä¹ˆè®¿é—®æ…¢ï¼ˆå› ä¸ºæºæœåŠ¡å™¨åœ¨æµ·å¤–ï¼‰ï¼Œè¦ä¹ˆä¸ç¨³å®šï¼ˆå­˜åœ¨å…³ç«™/è¢«å¢™æˆ–è€…è½¬ä¸ºä»˜è´¹çš„å¯èƒ½ï¼‰ï¼Œè€Œå›½å¤–è‘—åçš„å›¾åºŠimguråœ¨å›½å†…ä¹Ÿå¤„äºåŠå¢™çš„çŠ¶æ€ã€‚äºæ˜¯å°±æƒ³åˆ°äº†ä½¿ç”¨äº‘è®¡ç®—å‚å•†æä¾›çš„OSSå¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œè™½ç„¶æ”¶è´¹ä½†æ˜¯å¯¹äºæˆ‘è¿™ç§æœ‰è®¡åˆ’é•¿æ—¶é—´è¿è¥ä¸‹å»çš„åšå®¢è€Œè¨€ï¼Œå›¾åºŠçš„å¯é æ€§æ˜¯æœ€é‡è¦çš„ã€‚æˆ‘å¯ä¸æƒ³å› ä¸ºå›¾ç«™æŒ‚æ‰å¯¼è‡´æˆ‘åœ¨æœªæ¥çš„æŸä¸€å¤©è¦é‡æ–°æ‰¾åˆ°å†ä¸Šä¼ è¿™äº›å›¾ç‰‡ã€‚\nåœ¨çœ‹äº†é˜¿é‡Œäº‘ã€è…¾è®¯äº‘å’Œåä¸ºäº‘ä¸‰å®¶ä¹‹åæˆ‘é€‰æ‹©äº†é˜¿é‡Œäº‘ï¼Œå› ä¸ºé˜¿é‡Œäº‘æœ‰æ¯æœˆ5GBå­˜å‚¨å’Œå¤–ç½‘æµé‡çš„çš„å…è´¹é¢åº¦ï¼Œè¯·æ±‚è´¹ç”¨ä¹Ÿå°±æ¯ä¸‡æ¬¡ä¸€æ¯›é’±ï¼Œå¯¹äºæˆ‘è¿™ç§åˆšå¼€çš„å°ç«™è€Œè¨€ï¼Œå­˜å‚¨ã€æµé‡å’Œè¯·æ±‚éƒ½ä¸ä¼šå¾ˆå¤§ï¼ˆå¦‚æœè¢«æ”»å‡»é‚£å°±æ˜¯å¦ä¸€å›äº‹äº†ï¼Œè¿˜æœ›æ‚¨æ‰‹ä¸‹ç•™æƒ…ï¼‰ã€‚å…³äºé˜¿é‡Œäº‘çš„å®šä»·è¯¦æƒ…å¯ä»¥æŸ¥çœ‹é˜¿é‡Œäº‘çš„ä»·æ ¼è®¡ç®—å™¨ã€‚\nç„¶åæˆ‘å°±æŒ‰ç…§è¿™ç¯‡åšæ–‡çš„æ­¥éª¤æ­å»ºäº†å›¾åºŠï¼Œé€”ä¸­é‡åˆ°äº†åŸæ–‡æ²¡æœ‰æåŠçš„è®¸å¤šé—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹å®Œæ•´çš„æ­¥éª¤ã€æˆ‘é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆã€‚\nä¸»è¦æ“ä½œæµç¨‹ åˆ›å»ºBucketï¼šå¼€é€šOSSå¹¶åˆ›å»ºBucketã€‚åˆ›å»ºBucketæ—¶é€‰æ‹©æµ·å¤–çš„åœ°åŸŸï¼ˆå¦‚æœåœ¨åˆ«çš„åœ°åŸŸæ²¡æœ‰æœåŠ¡å™¨çš„è¯ï¼Œå»ºè®®ä½¿ç”¨é¦™æ¸¯ï¼‰ï¼Œå­˜å‚¨ç±»å‹é€‰æ‹©æ ‡å‡†å­˜å‚¨å³å¯ï¼Œè¯»å†™æƒé™ä¸€å®šè¦é€‰æ‹©ç§æœ‰ï¼Œå…¶ä½™çš„é™„åŠ æœåŠ¡æŒ‰éœ€å¯ç”¨ï¼ˆæœ‰çš„å¾—åŠ é’±ï¼‰ã€‚åˆ›å»ºå®Œæˆåå¯ä»¥å‘Bucketä¸­ä¸Šä¼ ä¸€å¼ å›¾ç‰‡ä½œä¸ºæµ‹è¯•å›¾ã€‚\né…ç½®è®¿é—®æƒé™ï¼šè¿›å…¥æƒé™æ§åˆ¶ -\u0026gt; Bucketæˆæƒç­–ç•¥é¢æ¿ï¼Œæ·»åŠ æˆæƒï¼Œé…ç½®å¦‚ä¸‹å›¾ã€‚\nIPå­—æ®µå¡«å†™çš„æ˜¯CloudFlareçš„èŠ‚ç‚¹IPï¼Œåˆ—è¡¨å¦‚ä¸‹ï¼ˆæ¥è‡ªçŸ¥ä¹ä¸“æ ï¼‰ï¼š\n173.245.48.0/20,103.21.244.0/22,103.22.200.0/22,103.31.4.0/22, 141.101.64.0/18,108.162.192.0/18,190.93.240.0/20,188.114.96.0/20, 197.234.240.0/22,198.41.128.0/17,162.158.0.0/15,104.16.0.0/12, 172.64.0.0/13,131.0.72.0/22,103.21.244.0/22,103.22.200.0/22, 103.31.4.0/22,104.16.0.0/12,108.162.192.0/18,131.0.72.0/22, 141.101.64.0/18,162.158.0.0/15,172.64.0.0/13,173.245.48.0/20, 188.114.96.0/20,190.93.240.0/20,197.234.240.0/22,198.41.128.0/17 é…ç½®CDNï¼šåœ¨CloudFlareçš„DNSç®¡ç†é¢æ¿æ·»åŠ CNAMEè®°å½•ï¼Œç›®æ ‡è®¾ä¸ºBucketçš„åŸŸåï¼ˆå¯ä»¥åœ¨Bucketçš„æ¦‚è§ˆç•Œé¢æ‰¾åˆ°ï¼‰ï¼Œä»£ç†çŠ¶æ€è®¾ä¸ºå·²ä»£ç†ï¼Œå¦åˆ™CDNä¸èµ·ä½œç”¨ã€‚ ç»‘å®šåŸŸåï¼šåœ¨é˜¿é‡Œäº‘çš„Bucketé…ç½®-\u0026gt;åŸŸåç®¡ç†ç•Œé¢ç»‘å®šä½ åˆšè®¾ç½®çš„åŸŸåï¼Œè¿™æ—¶é˜¿é‡Œäº‘éœ€è¦éªŒè¯åŸŸåçš„æ‰€æœ‰æƒï¼ŒæŒ‰ç…§å…¶æ‰€è¯´çš„åœ¨CloudFlareçš„DNSç®¡ç†å¤„æ·»åŠ æŒ‡å®šTXTè®°å½•å³å¯ã€‚\nåˆ›å»ºå¹¶æ·»åŠ è¯ä¹¦ï¼šåœ¨CloudFlareçš„é…ç½®é¢æ¿çš„SSL/TLS-\u0026gt;æºæœåŠ¡å™¨å¤„ï¼Œé€‰æ‹©åˆ›å»ºè¯ä¹¦ã€‚åˆ›å»ºä¹‹åä¼šå‘Šè¯‰ä½ æºè¯ä¹¦ä¸ç§é’¥ï¼Œè¿™ä¸ªç•Œé¢æš‚æ—¶ä¸è¦åŠ¨ã€‚æ‰“å¼€åˆšæ‰åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°ç»‘å®šè¯ä¹¦çš„ç•Œé¢ï¼Œé€‰æ‹©è¯ä¹¦æ‰˜ç®¡ï¼Œå¹¶ä¸Šä¼ SSLè¯ä¹¦ï¼Œè¿™æ—¶ä¼šæ‰“å¼€SSLè¯ä¹¦çš„ç•Œé¢ï¼Œé€‰æ‹©ä¸Šä¼ è¯ä¹¦ï¼Œå¹¶å°†CloudFlareç»™å‡ºçš„æºè¯ä¹¦å’Œå¯†é’¥å¤åˆ¶åˆ°ä¸Šä¼ è¯ä¹¦çš„å¯¹åº”å­—æ®µå¤„ï¼ˆè¯ä¹¦åå­—éšä¾¿è®¾ï¼‰ï¼Œç„¶åç¡®å®šã€‚è¿™æ—¶åˆ‡æ¢å›ä¸Šä¼ SSLè¯ä¹¦ï¼Œåº”è¯¥å°±èƒ½åœ¨è¯ä¹¦åç§°å¤„çœ‹åˆ°åˆšåˆšè®¾ç½®çš„è¯ä¹¦åå­—äº†ï¼ˆçœ‹ä¸åˆ°çš„è¯é‡å¼€ä¸€ä¸‹è¿™ä¸ªç•Œé¢è¯•è¯•ï¼‰ï¼Œé€‰ä¸­ï¼Œç„¶åç‚¹ä¸‹æ–¹çš„ä¸Šä¼ å³å¯ã€‚\nè¿™æ—¶å°±å·²ç»å¯ä»¥é€šè¿‡ä½ è®¾ç½®çš„åŸŸåè®¿é—®åˆšæ‰ä¸Šä¼ çš„æµ‹è¯•å›¾ç‰‡äº†ã€‚å‡å¦‚æµ‹è¯•å›¾ç‰‡filename.jpgå­˜å‚¨åœ¨OSSçš„folderæ–‡ä»¶å¤¹ä¸‹ï¼Œä½ è®¾ç½®çš„åŸŸåä¸ºimage.example.orgï¼Œåˆ™è®¿é—®è·¯å¾„ä¸ºhttps://image.example.org/folder/filename.jpgã€‚\nå®‰å…¨æ€§é…ç½® è·¨åŸŸè®¾ç½®ï¼šåœ¨é˜¿é‡Œäº‘OSSçš„æ•°æ®å®‰å…¨-\u0026gt;è·¨åŸŸè®¾ç½®ä¸­åˆ›å»ºè·¨åŸŸè§„åˆ™ï¼Œæ¥æºè®¾ç½®ä¸ºä½ çš„ç½‘ç«™çš„åœ°å€ã€‚ä¸ºäº†èƒ½è®©ç½‘ç«™åœ¨æœ¬åœ°æµ‹è¯•æ—¶ä¹Ÿèƒ½æ­£å¸¸å±•ç¤ºå›¾ç‰‡ï¼Œå»ºè®®åŒæ—¶æ·»åŠ localhost:*ä¸127.0.0.1:*ã€‚ é˜²ç›—é“¾è®¾ç½®ï¼šå’Œè·¨åŸŸè®¾ç½®ç±»ä¼¼ã€‚ä¸åŒä¹‹å¤„åœ¨äºRefereræ˜¯åŒ…å«è¯·æ±‚åè®®çš„ï¼Œæ‰€ä»¥ç±»ä¼¼äºexample.orgæˆ–localhost:*ç­‰ä¸åŒ…æ‹¬åè®®çš„é…ç½®æ˜¯æ— æ•ˆçš„ï¼Œéœ€è¦æ”¹ä¸ºhttps://example.comæˆ–*://localhost:*ï¼›éœ€è¦æ³¨æ„çš„æ˜¯*.example.orgè™½ç„¶æ˜¯æœ‰æ•ˆçš„ï¼Œä½†æ˜¯æ²¡æœ‰æŒ‡å®šhttpsåè®®ï¼Œå®‰å…¨èµ·è§æœ€å¥½æ”¹ä¸ºhttps://*.example.orgã€‚ PicGo é…ç½® PicGoæ˜¯ä¸€æ¬¾å¿«é€Ÿä¸Šä¼ å›¾ç‰‡åˆ°å›¾åºŠï¼Œå¹¶è‡ªåŠ¨å¤åˆ¶å›¾ç‰‡URLåˆ°å‰ªè´´æ¿çš„å·¥å…·ï¼Œä½ å¯ä»¥åœ¨Githubçš„releaseé¡µè·å–è¯¥ç¨‹åºã€‚\næƒé™è®¾ç½®ï¼šåœ¨é˜¿é‡Œäº‘çš„æƒé™æ§åˆ¶ -\u0026gt; Bucketæˆæƒç­–ç•¥é¢æ¿æ–°å¢æˆæƒï¼Œé…ç½®å¦‚ä¸‹ï¼š å¦‚æœå½“å‰æ²¡æœ‰RAMå­å¸å·ï¼Œè¯·ç‚¹å‡»å³ä¸Šè§’å¤´åƒ-\u0026gt;è®¿é—®æ§åˆ¶ï¼Œç„¶ååœ¨å·¦ä¾§çš„èº«ä»½ç®¡ç†-\u0026gt;ç”¨æˆ·å¤„åˆ›å»ºä¸€ä¸ªå­å¸å·ã€‚åˆ›å»ºå®Œæˆååœ¨å­å¸å·çš„è¯¦æƒ…é¡µåˆ›å»ºAccessKeyï¼Œå¾—åˆ°AccessKeyçš„KeyIDä¸KeySecretï¼Œä¿ç•™å¤‡ç”¨ã€‚\nä¸Šä¼ é…ç½®ï¼šæ‰“å¼€PicGoä¸»ç•Œé¢ï¼Œåœ¨å›¾åºŠè®¾ç½®-\u0026gt;é˜¿é‡Œäº‘OSSå†…å¡«å†™å¯¹åº”çš„è¡¨å•é¡¹ã€‚â€œKeyIDâ€ä¸â€œKeySecretâ€å³åˆšæ‰è·å–çš„å­å¸å·AccessKeyçš„KeyIDä¸KeySecretï¼Œâ€œè®¾å®šBucketâ€ä¸ºBucketçš„åç§°ï¼Œâ€œå­˜å‚¨åŒºåŸŸâ€ä¸ºBucketæ‰€åœ¨åŒºåŸŸï¼ˆä¸BucketåŸŸåå†…çš„å€¼ç»Ÿä¸€ï¼Œä¾‹å¦‚oss-cn-hongkongï¼‰ï¼Œè‡ªå®šä¹‰åŸŸåå¡«å†™ä½ è®¾ç½®çš„åŸŸåï¼Œå…¶ä½™ä¸¤é¡¹æŒ‰éœ€å¡«å†™å³å¯ã€‚é…ç½®å®Œæˆåç‚¹å‡»ç¡®å®šå¹¶è®¾ä¸ºé»˜è®¤å›¾åºŠã€‚\næ³¨ï¼šå¦‚æœä½ ä½¿ç”¨çš„æ¡Œé¢ç¯å¢ƒæ˜¯KDE Plasmaï¼Œå¯èƒ½éœ€è¦åœ¨PicGoè®¾ç½®å†…æ‰“å¼€â€œä½¿ç”¨å†…ç½®å‰ªè´´æ¿ä¸Šä¼ â€ä¸€é¡¹ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸ä»å‰ªè´´æ¿ç›´æ¥ä¸Šä¼ å›¾ç‰‡ã€‚æˆ‘ä½¿ç”¨çš„Linuxå‘è¡Œç‰ˆæ˜¯KDE Neonï¼Œå…¶å®ƒå‘è¡Œç‰ˆ/æ¡Œé¢ç¯å¢ƒ/æ“ä½œç³»ç»Ÿå°šæœªæµ‹è¯•ã€‚\n","date":"2022-12-20T01:48:09+08:00","image":"https://files.furffisite.link/blogimg/202212251307965.jpg","permalink":"https://blog.furffisite.link/p/imagebed-oss-conf/","title":"ä½¿ç”¨é˜¿é‡Œäº‘OSSå­˜å‚¨æœåŠ¡+CloudFlareé…ç½®å›¾åºŠ"}]