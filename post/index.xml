<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on Furffiblog</title><link>https://blog.furffisite.link/post/</link><description>Recent content in Posts on Furffiblog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 20 Oct 2024 17:05:46 +0800</lastBuildDate><atom:link href="https://blog.furffisite.link/post/index.xml" rel="self" type="application/rss+xml"/><item><title>ç”¨ Python å†™ä¸€ä¸ªç®€å•çš„å•é¡µé¢é™æ€ç½‘ç«™ç”Ÿæˆå™¨</title><link>https://blog.furffisite.link/p/liveserver/</link><pubDate>Sun, 20 Oct 2024 17:05:46 +0800</pubDate><guid>https://blog.furffisite.link/p/liveserver/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20241020234336-67f7ee39e8f8df0b.jpg" alt="Featured image of post ç”¨ Python å†™ä¸€ä¸ªç®€å•çš„å•é¡µé¢é™æ€ç½‘ç«™ç”Ÿæˆå™¨" />&lt;p>æˆ‘æœ€åˆçš„ä»»åŠ¡æ˜¯åŸºäºå·²æœ‰çš„æ¨¡æ¿ç»™æˆ‘ä¹‹å‰å‚ä¸çš„è®ºæ–‡åšä¸€ä¸ª project pageï¼Œé€‰ç”¨çš„æ¨¡æ¿æ˜¯ &lt;a class="link" href="https://github.com/eliahuhorwitz/Academic-project-page-template" target="_blank" rel="noopener"
>eliahuhorwitz/Academic-project-page-template&lt;/a>ã€‚ç„¶è€Œï¼Œè¿™ä¸ªæ¨¡æ¿æ˜¯çº¯ HTML çš„ï¼Œåœ¨æ¶‰åŠåˆ°åˆ—è¡¨ï¼ˆä¾‹å¦‚ä½œè€…åˆ—è¡¨ï¼‰æ—¶éœ€è¦æ‰‹åŠ¨å¤åˆ¶ç²˜è´´å¹¶é€ä¸€ä¿®æ”¹å†…å®¹ï¼Œè¿™ä¸ä»…ç¹çï¼Œä¹Ÿä¸ä¾¿äºåç»­çš„ä¿®æ”¹ï¼ˆä¾‹å¦‚æ”¹å±•ç¤ºæ ¼å¼ï¼Œæˆ–æ˜¯è¿ç§»åˆ°åˆ«çš„é¡¹ç›®ï¼‰ã€‚æˆ‘å·æ‡’çš„å¤©æ€§ä¸å…è®¸æˆ‘è¿™æ ·åšï¼ˆå¥½éº»çƒ¦å•ŠğŸ˜«ï¼‰ï¼Œäºæ˜¯æˆ‘èŒç”Ÿäº†ä¸€ä¸ªè‡ªç„¶çš„æƒ³æ³•ï¼šå°†HTMLä¿®æ”¹ä¸ºæ¨¡æ¿ï¼Œä½¿ç”¨ç¨‹åºæ¸²æŸ“æ¨¡æ¿å¾—åˆ°æœ€ç»ˆçš„é™æ€é¡µé¢ã€‚&lt;/p>
&lt;h2 id="ç¬¬ä¸€ç‰ˆåŸºç¡€åŠŸèƒ½">ç¬¬ä¸€ç‰ˆï¼šåŸºç¡€åŠŸèƒ½
&lt;/h2>&lt;p>è¿™æ—¶ï¼Œæˆ‘çš„æƒ³æ³•æ¯”è¾ƒç®€å•ï¼šä½¿ç”¨ Python æ ‡å‡†åº“é‡Œçš„ &lt;a class="link" href="https://docs.python.org/3/library/tomllib.html" target="_blank" rel="noopener"
>&lt;code>tomllib (python&amp;gt;=3.11)&lt;/code>&lt;/a> è¯»å– toml æ–‡ä»¶ä½œä¸º contextï¼Œå¹¶ä½¿ç”¨ &lt;a class="link" href="https://jinja.palletsprojects.com/en/3.0.x/" target="_blank" rel="noopener"
>jinja&lt;/a> è¯»å–æ¨¡æ¿è¿›è¡Œæ¸²æŸ“ï¼Œæœ€åå°†æ¸²æŸ“ç»“æœè¾“å‡ºåˆ° html æ–‡ä»¶é‡Œã€‚ä»£ç å®ç°ä¹Ÿéå¸¸ç®€æ´ï¼Œä»…åŒ…å«å‡ è¡Œä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">jinja2&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Environment&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">FileSystemLoader&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">target_folder&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;./dist&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">env&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Environment&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">loader&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">FileSystemLoader&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;./template&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="n">autoescape&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;./config.toml&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;rb&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">config_file&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">config&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">tomllib&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">config_file&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">page&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">get_template&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;index.html&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">render&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">config&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">target_folder&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;index.html&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="s1">&amp;#39;w&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">page&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½œä¸ºè¾“å…¥çš„tomlæ–‡ä»¶ç±»ä¼¼äºè¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-toml" data-lang="toml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="nx">paper&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">title&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">conference&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">abstract&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">[[&lt;/span>&lt;span class="nx">paper&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">authors&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">name&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nx">symbols&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="s2">&amp;#34;1&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">......&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡ç»“åˆ TOML é…ç½®æ–‡ä»¶ä¸ Jinja æ¨¡æ¿ä¸­çš„å¾ªç¯å’Œåˆ¤æ–­è¯­å¥ï¼Œæˆ‘ä»¬å¯ä»¥å°†ç¼–è¾‘ HTML çš„å·¥ä½œè½¬æ¢ä¸ºç¼–è¾‘é…ç½®æ–‡ä»¶ã€‚ç›¸è¾ƒäºç›´æ¥ç¼–è¾‘ HTMLï¼Œåè€…æ˜¾ç„¶æ›´ä¸ºç®€ä¾¿ã€‚&lt;/p>
&lt;p>ç»™ä»¥ä¸Šçš„ä»£ç åŠ ä¸Šä¸€äº›å¤„ç†é™æ€æ–‡ä»¶çš„é€»è¾‘ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;ol>
&lt;li>æ„å»ºå‰æ¸…é™¤ç›®æ ‡æ–‡ä»¶å¤¹&lt;/li>
&lt;li>æ„å»ºæ—¶ä»æŒ‡å®šæ–‡ä»¶å¤¹å¤åˆ¶æ–‡ä»¶åˆ°ç›®æ ‡æ–‡ä»¶å¤¹&lt;/li>
&lt;/ol>
&lt;p>é‚£æ€ä¹ˆé¢„è§ˆæ„å»ºç»“æœå‘¢ï¼Ÿæˆ‘å½“æ—¶çš„åšæ³•æ˜¯åœ¨ &lt;code>./dist&lt;/code> ä¸­ä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤å¯åŠ¨ä¸€ä¸ª Python çš„ç®€æ˜“æ–‡ä»¶æœåŠ¡å™¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ python3 -m http.server
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶åï¼Œå†ç¼–å†™&lt;a class="link" href="https://github.com/ai4co/reevo/blob/7fcf3878943629c08a38983bbab1b1822f5a924b/docs/publish.sh" target="_blank" rel="noopener"
>ä¸€ç‚¹ bash è„šæœ¬&lt;/a>å®ç°ä¸€é”®éƒ¨ç½²åˆ° GitHub Pagesï¼Œå³å¯å½¢æˆä¸€ä¸ªç®€æ˜“çš„å•é¡µé¢é™æ€ç½‘ç«™ç”Ÿæˆå™¨ï¼Œè¿™ä¾¿æ˜¯&lt;a class="link" href="https://github.com/ai4co/reevo/blob/27f4bcd57034bdf82dff76f91b2cf4c1575f4c6f/docs/build.py" target="_blank" rel="noopener"
>ç¬¬ä¸€ç‰ˆ&lt;/a>ã€‚&lt;/p>
&lt;h2 id="ç¬¬äºŒç‰ˆç›‘æµ‹æ–‡ä»¶æ›´æ”¹å¹¶è‡ªåŠ¨æ„å»º">ç¬¬äºŒç‰ˆï¼šç›‘æµ‹æ–‡ä»¶æ›´æ”¹å¹¶è‡ªåŠ¨æ„å»º
&lt;/h2>&lt;p>åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘å¾ˆå¿«å‘ç°ç¬¬ä¸€ç‰ˆå­˜åœ¨ä¸€ä¸ªæ˜¾è‘—é—®é¢˜ï¼šæ¯æ¬¡ä¿®æ”¹æ¨¡æ¿æˆ–é…ç½®åï¼Œéƒ½éœ€è¦æ‰‹åŠ¨æ‰§è¡Œæ„å»ºå‘½ä»¤å¹¶åˆ·æ–°é¡µé¢ã€‚
æˆ‘é’ˆå¯¹å‰è€…çš„è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ &lt;code>watch&lt;/code> æŒ‡ä»¤æ¯éš”ä¸€ç§’æ‰§è¡Œä¸€æ¬¡æ„å»ºè„šæœ¬ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ watch -d -n1 python3 build.py
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä½†æ˜¯ï¼Œæˆ‘è®¤ä¸ºè¿™æ ·çš„è§£å†³æ–¹æ³•ä¸æ˜¯å¾ˆä¼˜é›…ï¼Œäºæ˜¯å°±æƒ³ç€ï¼Œèƒ½ä¸èƒ½ç”±æ„å»ºè„šæœ¬æŒç»­ç›‘æµ‹æ–‡ä»¶æ›´æ”¹ï¼Œå¹¶åœ¨æœ‰éœ€è¦çš„æ—¶å€™è‡ªåŠ¨æ„å»ºå‘¢ï¼Ÿç­”æ¡ˆå½“ç„¶æ˜¯å¯ä»¥çš„ã€‚äº’è”ç½‘å¯¹æ­¤ç»™å‡ºäº†å››ç§æ–¹æ¡ˆï¼š&lt;/p>
&lt;ol>
&lt;li>ä½¿ç”¨ &lt;a class="link" href="https://python-watchdog.readthedocs.io/en/stable/index.html" target="_blank" rel="noopener"
>watchdog åº“&lt;/a>&lt;/li>
&lt;li>ä½¿ç”¨ &lt;a class="link" href="https://pypi.org/project/inotify/" target="_blank" rel="noopener"
>inotify åº“&lt;/a> ï¼ˆä»…é™ Linuxï¼‰&lt;/li>
&lt;li>è®¡ç®—æ–‡ä»¶æ•£åˆ—å€¼ï¼Œåˆ¤æ–­æ˜¯å¦ä¿®æ”¹&lt;/li>
&lt;li>ä½¿ç”¨ os åº“è·å–æ–‡ä»¶ä¿®æ”¹æ—¶é—´ï¼Œåˆ¤æ–­æ˜¯å¦ä¿®æ”¹&lt;/li>
&lt;/ol>
&lt;p>å‰ä¸¤ç§æ–¹æ³•æœ€ä¸ºä¾¿æ·ï¼Œå¯ä»¥ç›´æ¥åˆ©ç”¨å·²æœ‰çš„åº“ï¼›ç¬¬ä¸‰ç§æ–¹æ³•é€šè¿‡è®¡ç®—æ–‡ä»¶æ•£åˆ—å€¼æ¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¿®æ”¹ï¼Œè™½ç„¶ï¼Œèƒ½å‡†ç¡®è·çŸ¥æ–‡ä»¶å†…å®¹æ˜¯å¦å˜åŒ–ï¼ˆå…¶ä½™ä¸‰ç§åªæ˜¯ç›‘æµ‹æ›´æ”¹æ–‡ä»¶çš„æ“ä½œï¼‰ï¼Œä½†æ˜¯ï¼Œèµ„æºæ¶ˆè€—è¾ƒå¤§ï¼›ç¬¬å››ç§æ–¹æ³•é€šè¿‡è·å–æ–‡ä»¶ä¿®æ”¹æ—¶é—´æ¥åˆ¤æ–­æ–‡ä»¶æ˜¯å¦ä¿®æ”¹ï¼Œæ˜“äºç†è§£ä¸”å®ç°ç®€å•ã€‚æœ€ç»ˆï¼Œæˆ‘é€‰æ‹©äº†ç¬¬å››ç§æ–¹æ³•ï¼š&lt;/p>
&lt;p>é¦–å…ˆï¼Œå®šä¹‰ &lt;code>all_filepaths&lt;/code> å‡½æ•°ï¼ˆgeneratorï¼‰è·å–ç»™å®šæ‰€æœ‰ç›®å½•ä¸‹çš„æ‰€æœ‰è·¯å¾„ï¼Œè¿™é‡Œéœ€è¦è¿”å›æ–‡ä»¶å¤¹æ˜¯å› ä¸ºæ–‡ä»¶å¤¹çš„æœ€åä¿®æ”¹æ—¶é—´å¯ä»¥åæ˜ è¯¥æ–‡ä»¶å¤¹å†…æ˜¯å¦æœ‰æ–‡ä»¶è¢«ç§»åŠ¨æˆ–åˆ é™¤ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">all_filepaths&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">paths&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="c1"># è·å–æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰è·¯å¾„ï¼ŒåŒ…æ‹¬æ–‡ä»¶å’Œæ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">path&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">paths&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exists&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="c1"># å¦‚æœè·¯å¾„ä¸å­˜åœ¨ï¼Œè·³è¿‡&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">pass&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">isfile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="c1"># å¦‚æœæ˜¯æ–‡ä»¶ï¼Œç›´æ¥è¿”å›æ–‡ä»¶è·¯å¾„&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="n">path&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># å¦‚æœæ˜¯æ–‡ä»¶å¤¹ï¼Œéå†æ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰æ–‡ä»¶å’Œå­æ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">root&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">_&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">files&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">walk&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield&lt;/span> &lt;span class="n">root&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">yield from&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">join&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">file&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">file&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">files&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥ä¸‹æ¥ï¼Œå®šä¹‰ä¸€ä¸ªå‡½æ•° &lt;code>build_on_change&lt;/code>ï¼Œå¾ªç¯è·å–æ–‡ä»¶çš„æœ€åæ›´æ”¹æ—¶é—´ï¼Œå¹¶åˆ¤æ–­æ–‡ä»¶æ˜¯å¦è¢«æ›´æ”¹ã€‚å¦‚æœæ£€æµ‹åˆ°æ–‡ä»¶åœ¨ä¸Šæ¬¡æ„å»ºä¹‹åæœ‰æ›´æ”¹ï¼Œåˆ™æ‰§è¡Œ &lt;code>build&lt;/code> å‡½æ•°é‡æ–°æ„å»ºé¡µé¢ã€‚æ­¤å¤„å°† &lt;code>last_update&lt;/code> åˆå€¼è®¾ä¸ºé›¶,å¯ä»¥ç¡®ä¿ç¨‹åºå¯åŠ¨åä¼šç«‹åˆ»è§¦å‘ä¸€æ¬¡æ„å»ºã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">build_on_change&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">paths&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="o">**&lt;/span>&lt;span class="n">build_kwargs&lt;/span>&lt;span class="p">):&lt;/span> &lt;span class="c1"># ç›‘å¬æ–‡ä»¶æ›´æ”¹å¹¶è‡ªåŠ¨æ„å»ºé¡µé¢&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">last_update&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.0&lt;/span> &lt;span class="c1"># åˆå§‹åŒ–æœ€åæ›´æ–°æ—¶é—´ä¸º0ï¼Œç¡®ä¿ç¨‹åºå¯åŠ¨åç«‹å³è§¦å‘ä¸€æ¬¡æ„å»º&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">while&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">filepath&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">all_filepaths&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">paths&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">last_modified_at&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stat&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filepath&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">st_mtime&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">last_modified_at&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="n">last_update&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">build&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="n">build_kwargs&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">last_update&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">break&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sleep&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># æ¯éš”1ç§’æ£€æŸ¥ä¸€æ¬¡æ–‡ä»¶æ›´æ”¹&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é€šè¿‡ä»¥ä¸Šä»£ç ï¼Œä»…éœ€ 20 è¡Œå³å¯å®ç° Python åŸç”Ÿçš„è‡ªåŠ¨ç›‘æµ‹æ–‡ä»¶æ›´æ”¹çš„åŠŸèƒ½ï¼ˆå½“ç„¶ï¼Œè°ƒåº“æ›´å¿«ï¼Œä½†æ˜¯éœ€è¦å®‰è£…ä¾èµ–ï¼‰ã€‚
æœ€åï¼Œåªéœ€å†ç¼–å†™å°‘é‡ä»£ç ï¼Œåˆ©ç”¨ &lt;code>sys.argv&lt;/code> è·å–å‘½ä»¤è¡Œå‚æ•°ï¼Œå¹¶åœ¨ç¨‹åºå…¥å£å¤„åŒºåˆ†&lt;strong>å•æ¬¡æ„å»º&lt;/strong>å’Œ&lt;strong>è‡ªåŠ¨æ›´æ–°&lt;/strong>ï¼ˆé¢„è§ˆï¼‰ä¸¤ç§æ¨¡å¼ï¼Œè¿™ä¾¿æ˜¯ç¬¬äºŒç‰ˆã€‚&lt;/p>
&lt;h2 id="ç¬¬ä¸‰ç‰ˆé›†æˆé™æ€æ–‡ä»¶æœåŠ¡å™¨è‡ªåŠ¨åˆ·æ–°é¡µé¢">ç¬¬ä¸‰ç‰ˆï¼šé›†æˆé™æ€æ–‡ä»¶æœåŠ¡å™¨+è‡ªåŠ¨åˆ·æ–°é¡µé¢
&lt;/h2>&lt;p>å°½ç®¡ç¬¬äºŒç‰ˆè§£å†³äº†â€œæ‰‹åŠ¨æ‰§è¡Œæ„å»ºå‘½ä»¤å¹¶åˆ·æ–°é¡µé¢â€çš„éƒ¨åˆ†é—®é¢˜ï¼Œä½†ä¿å­˜åä»éœ€æ‰‹åŠ¨åˆ·æ–°é¡µé¢ï¼Œè¿™ä¸€ç—›ç‚¹ä¾ç„¶å­˜åœ¨ã€‚ç¬¬ä¸‰ç‰ˆçš„ç›®æ ‡ä¾¿æ˜¯å½»åº•è§£å†³è¿™ä¸€é—®é¢˜ã€‚&lt;/p>
&lt;p>å…ˆæŠŠæ¯æ¬¡éœ€è¦æ‰‹åŠ¨å¯åŠ¨çš„ &lt;code>http.server&lt;/code> é›†æˆåˆ°è„šæœ¬é‡Œæ¥ï¼šç›´æ¥ä¿®æ”¹&lt;a class="link" href="https://docs.python.org/3/library/http.server.html#http.server.SimpleHTTPRequestHandler.do_GET" target="_blank" rel="noopener"
>&lt;code>http.server&lt;/code> å®˜æ–¹æ–‡æ¡£é‡Œçš„ç¤ºä¾‹ä»£ç &lt;/a>ï¼Œç„¶ååŠ ä¸Š &lt;a class="link" href="https://docs.python.org/3/library/threading.html#threading.Thread" target="_blank" rel="noopener"
>Threading æ ‡å‡†åº“&lt;/a>ä½¿å…¶ä»¥å®ˆæŠ¤çº¿ç¨‹çš„æ–¹å¼è¿è¡Œï¼ˆä¸»ç¨‹åºé€€å‡ºæ—¶è‡ªåŠ¨ç»“æŸï¼Œæ— éœ€æ‰‹åŠ¨ç»ˆæ­¢ï¼‰ã€‚è¿™ä»…éœ€ 10 è¡Œä»£ç ï¼ˆä¸åŒ…æ‹¬ç©ºè¡Œï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">start_server_daemon&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ip&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;127.0.0.1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">port&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">8123&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">directory&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;./dist&amp;#34;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">from&lt;/span> &lt;span class="nn">threading&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Thread&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kn">import&lt;/span> &lt;span class="nn">http.server&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nn">socketserver&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">start_server&lt;/span>&lt;span class="p">():&lt;/span> &lt;span class="c1"># åˆ›å»ºä¸€ä¸ªç®€å•çš„HTTPæœåŠ¡å™¨ï¼Œç»‘å®šåˆ°æŒ‡å®šçš„IPå’Œç«¯å£&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="n">socketserver&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">TCPServer&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">ip&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">port&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">http&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">server&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">SimpleHTTPRequestHandler&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">httpd&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;Serving live preview at http://&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">ip&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">:&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">port&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">/&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">httpd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">serve_forever&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># å¯åŠ¨æœåŠ¡å™¨å¹¶ä¿æŒè¿è¡Œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># åˆ›å»ºä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹ï¼Œå½“ä¸»çº¿ç¨‹é€€å‡ºæ—¶ï¼Œå®ˆæŠ¤çº¿ç¨‹ä¹Ÿä¼šè‡ªåŠ¨é€€å‡º&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">t&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Thread&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">target&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">start_server&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">daemon&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">t&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">start&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¢è®¨å¦‚ä½•å®ç°é¡µé¢çš„è‡ªåŠ¨åˆ·æ–°åŠŸèƒ½ã€‚æ¢è¨€ä¹‹ï¼ŒæœåŠ¡å™¨å¦‚ä½•é€šçŸ¥æµè§ˆå™¨å†…å®¹å·²æ›´æ–°å‘¢ï¼Ÿ
&lt;a class="link" href="https://docs.python.org/3/library/http.server.html#http.server.SimpleHTTPRequestHandler.do_GET" target="_blank" rel="noopener"
>&lt;code>http.server&lt;/code> çš„å®˜æ–¹æ–‡æ¡£&lt;/a>å†…åŒæ ·æä¾›äº†ç­”æ¡ˆï¼šåœ¨å…¶æä¾›æ–‡ä»¶æ—¶ï¼Œä¼šåœ¨ response header ä¸­åŠ å…¥&lt;a class="link" href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Last-Modified" target="_blank" rel="noopener"
>&lt;code>Last-Modified&lt;/code> header&lt;/a>ï¼Œè¿™ä¸ªheaderçš„æ—¶é—´æˆ³æ¥æºäºæ–‡ä»¶ç³»ç»Ÿè®°å½•çš„æœ€åæ›´æ”¹æ—¶é—´ã€‚ç”±äºæˆ‘çš„ç¨‹åºåªä¼šå…¨é‡æ„å»ºï¼Œæ‰€ä»¥ &lt;code>dist&lt;/code> ç›®å½•å†…çš„æ‰€æœ‰æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´å¿…å®šä¸æœ€åä¸€æ¬¡æ„å»ºçš„æ—¶é—´ç›¸åŒã€‚&lt;/p>
&lt;p>åŸºäºæ­¤ï¼Œæˆ‘ä»¬åªéœ€åœ¨æµè§ˆå™¨ä¸­ç”¨ JavaScript è½®è¯¢æœåŠ¡å™¨ä¸Šçš„æŸä¸ªæ–‡ä»¶ï¼ˆæˆ‘è¿™é‡Œæ˜¯åœ¨è‡ªåŠ¨æ›´æ–°æ¨¡å¼ä¸‹é¢å¤–åˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶ï¼‰ï¼Œè·å–å…¶ header å†…çš„ &lt;code>Last-Modified&lt;/code>ï¼Œåˆ¤æ–­é¡µé¢æ˜¯å¦æ›´æ–°ï¼Œå¦‚æœæ›´æ–°äº†å°±è°ƒç”¨ &lt;code>window.location.reload()&lt;/code> åˆ·æ–°é¡µé¢å³å¯ã€‚&lt;/p>
&lt;p>Python éƒ¨åˆ†åªéœ€è¦åˆ›å»ºä¸Šè¿°çš„ç©ºæ–‡ä»¶ï¼Œä»¥åŠåœ¨æ¨¡æ¿çš„ context ä¸­åŠ å…¥æ˜¯å¦å¯ç”¨è‡ªåŠ¨åˆ·æ–°çš„å‚æ•°å³å¯ã€‚æ¨¡æ¿å†…éœ€è¦åŠ å…¥å¦‚ä¸‹ javascript ä»£ç ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-javascript" data-lang="javascript">&lt;span class="line">&lt;span class="cl">&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span> &lt;span class="c1">// é˜²æ­¢å‘½åå†²çª
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kd">let&lt;/span> &lt;span class="nx">last_updated&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">();&lt;/span> &lt;span class="c1">// åˆå§‹åŒ–ä¸ºå½“å‰æ—¶é—´
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">dummy_file_path&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s2">&amp;#34;/{{preview_mode.dummy_file_path}}&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="c1">// æ¨¡æ¿æ¸²æŸ“æ—¶å¡«å……ç©ºæ–‡ä»¶åç§°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="kr">const&lt;/span> &lt;span class="nx">refresh_on_change&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span> &lt;span class="c1">// å®šä¹‰å‡½æ•°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span> &lt;span class="nx">fetch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">dummy_file_path&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">then&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span> &lt;span class="p">=&amp;gt;&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="kr">const&lt;/span> &lt;span class="nx">last_modified&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">res&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">headers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">get&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Last-Modified&amp;#34;&lt;/span>&lt;span class="p">));&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">last_updated&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="nx">last_modified&lt;/span>&lt;span class="p">){&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">location&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">reload&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">})&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nx">setInterval&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">refresh_on_change&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">);&lt;/span> &lt;span class="c1">// æ¯ä¸€ç§’æ£€æŸ¥ä¸€æ¬¡æ˜¯å¦æ›´æ–°
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">&lt;/span>&lt;span class="p">})();&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å½“ç„¶ï¼Œè¿™æ®µ JavaScript ä»£ç éœ€è¦æ”¾åœ¨ &lt;code>&amp;lt;script&amp;gt;&lt;/code> æ ‡ç­¾å†…ï¼ŒåŒæ—¶åœ¨æ¨¡æ¿ä¸­ç¡®ä¿åªæœ‰è‡ªåŠ¨æ›´æ–°å¯ç”¨æ—¶æ‰ä¼šæ¸²æŸ“è¿™ä¸ªæ ‡ç­¾ã€‚è¿™ä¾¿æ˜¯ç¬¬ä¸‰ç‰ˆã€‚&lt;/p>
&lt;h2 id="ç¬¬å››ç‰ˆæœ€å°åŒ–ç”Ÿæˆçš„æ–‡ä»¶">ç¬¬å››ç‰ˆï¼šæœ€å°åŒ–ç”Ÿæˆçš„æ–‡ä»¶
&lt;/h2>&lt;p>é€šè¿‡æ¨¡æ¿å¼•æ“æ¸²æŸ“ç”Ÿæˆçš„ html æ–‡ä»¶ï¼Œå¸¸å¸¸ä¼šåŒ…å«å¤§é‡çš„ç©ºç™½å­—ç¬¦ã€å¼•å·å’Œæ³¨é‡Šç­‰å†—ä½™å…ƒç´ ã€‚è¿™äº›å…ƒç´ è™½ç„¶åœ¨å¼€å‘é˜¶æ®µæœ‰åŠ©äºæå‡ä»£ç çš„å¯è¯»æ€§ä¸ç»´æŠ¤æ€§ï¼Œä½†åœ¨å®é™…ç½‘é¡µåŠ è½½è¿‡ç¨‹ä¸­ï¼Œå®ƒä»¬å´æ˜¾è‘—å¢åŠ äº†æ–‡ä»¶çš„ä½“ç§¯ï¼Œè¿›è€Œæ‹–æ…¢äº†ç½‘é¡µçš„åŠ è½½é€Ÿåº¦ã€‚ä¸ºäº†ä¼˜åŒ–é¡µé¢åŠ è½½æ€§èƒ½ï¼Œæˆ‘ä»¬æœ‰å¿…è¦åœ¨æ„å»ºå®Œæˆåï¼Œå¯¹è¿™äº›å†—ä½™å­—ç¬¦è¿›è¡Œç²¾ç®€å¤„ç†ï¼Œä»¥ç¼©å‡æ–‡ä»¶å¤§å°ã€‚&lt;/p>
&lt;p>è¿™ä¸€ä¼˜åŒ–ç­–ç•¥åŒæ ·é€‚ç”¨äº css æ–‡ä»¶ï¼Œä¸åŒçš„æ˜¯ï¼Œcss æ–‡ä»¶ä¸­çš„å†—ä½™å­—ç¬¦å¾€å¾€éµå¾ªç‰¹å®šçš„æ¨¡å¼ï¼Œå¯ä»¥ç›´æ¥è¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¿›è¡ŒåŒ¹é…ä¸å»é™¤ï¼Œæˆ‘çš„ä»£ç å¦‚ä¸‹ï¼ˆè¿™æ®µä»£ç å¹¶ä¸å…¨é¢ï¼Œä½†æ˜¯å®ƒå·²ç»èƒ½æ˜¾è‘—ç¼©å°æ–‡ä»¶çš„ä½“ç§¯ï¼Œäºæˆ‘è€Œè¨€ï¼Œè¿™æ ·å°±å¤Ÿäº†ï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">re&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">minify_css&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filepath&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filepath&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;r&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">minimized&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">re&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sub&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">r&lt;/span>&lt;span class="s1">&amp;#39; *\n *|/\*.*?\*/&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">content&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">minimized&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">re&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sub&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">r&lt;/span>&lt;span class="s1">&amp;#39;; *(?=})|(?&amp;lt;=:) +| +(?={)&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">minimized&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filepath&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;w&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">minimized&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filepath&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;reduced from &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1"> Bytes to &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">minimized&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1"> Bytes&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è€Œ html çš„è§„åˆ™å¤æ‚ï¼Œæœ‰çš„ç©ºæ ¼å’Œæ¢è¡Œç¬¦çš„ç§»é™¤ä¼šå½±å“é¡µé¢çš„å‘ˆç°æ•ˆæœï¼ˆä¾‹å¦‚ &lt;code>&amp;lt;pre&amp;gt;&lt;/code> æ ‡ç­¾çš„å†…å®¹ï¼‰ã€‚å› æ­¤ï¼Œåœ¨å¤„ç† html æ–‡ä»¶æ—¶ï¼Œç›¸æ¯”äºè‡ªå·±å®ç°ï¼Œæˆ‘å†³å®šä½¿ç”¨ &lt;a class="link" href="https://htmlmin.readthedocs.io/en/latest/" target="_blank" rel="noopener"
>htmlmin åº“&lt;/a>çš„å®ç°ã€‚ä»£ç å¦‚ä¸‹ï¼Œæ³¨æ„å…¶ä¸­çš„ &lt;code>remove_all_empty_space=True&lt;/code> ä¹Ÿä¼šåœ¨ä¸€å®šæƒ…å†µä¸‹å½±å“é¡µé¢çš„å‘ˆç°ï¼Œä¾‹å¦‚ï¼Œä¸¤ä¸ª &lt;code>&amp;lt;span&amp;gt;&lt;/code> æ ‡ç­¾ä¹‹é—´çš„ç©ºæ ¼ä¹Ÿä¼šè¢«ç§»é™¤ï¼Œå¯¹äºè¿™ç§æƒ…å†µéœ€è¦å»æ‰è¿™ä¸ªå‚æ•°ï¼Œæˆ–æ˜¯åœ¨ css æˆ– &lt;code>style&lt;/code> å±æ€§ä¸­åŠ å…¥ &lt;a class="link" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/margin" target="_blank" rel="noopener"
>&lt;code>margin-right&lt;/code>&lt;/a> åˆ›é€ ç©ºéš™ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">htmlmin.main&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">minify&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">minify_html&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filepath&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">content&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filepath&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;r&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">minimized&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">minify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">remove_comments&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">remove_all_empty_space&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filepath&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;w&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">f&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">minimized&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filepath&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="sa">f&lt;/span>&lt;span class="s1">&amp;#39;reduced from &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">content&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1"> Bytes to &lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">minimized&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s1"> Bytes&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è‡³äº JavaScript æ–‡ä»¶ï¼Œç”±äºåœ¨è¿™ä¸ªé¡¹ç›®ä¸­æˆ‘è‡ªå·±å†™çš„ js ä»£ç å¾ˆå°‘ï¼Œä¸”éƒ½å·²ç»åµŒå…¥ html æ–‡ä»¶ï¼Œè€Œå¤–éƒ¨åº“éƒ½æ˜¯é€šè¿‡ CDN å¼•å…¥çš„ï¼ŒåŠ è½½çš„å¤§å¤šæ˜¯ä¼˜åŒ–è¿‡çš„æ–‡ä»¶ï¼Œå› æ­¤æˆ‘å¹¶æ²¡æœ‰è€ƒè™‘å¯¹ js æ–‡ä»¶åšæœ€å°åŒ–ã€‚&lt;/p>
&lt;p>æœ€åï¼Œåœ¨æ„å»ºååˆ©ç”¨ä¹‹å‰å†™çš„ &lt;code>all_filepaths&lt;/code> å‡½æ•°éå† &lt;code>dist&lt;/code> æ–‡ä»¶å¤¹å†…çš„æ‰€æœ‰æ–‡ä»¶ï¼Œæ ¹æ®æ‰©å±•ååˆ¤æ–­å¯¹åº”çš„æœ€å°åŒ–æ–¹æ³•ï¼Œç„¶åè°ƒç”¨ç›¸åº”çš„å‡½æ•°æœ€å°åŒ–å³å¯ã€‚å› ä¸ºè¿™é‡Œçš„æœ€å°åŒ–æ˜¯ä¸ºäº†éƒ¨ç½²æœåŠ¡çš„ï¼Œæ‰€ä»¥åœ¨é¢„è§ˆæ¨¡å¼ä¸‹ä¸ä¼šæ‰§è¡Œè¿™æ®µä»£ç ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">path&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">all_filepaths&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">target_folder&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="ow">not&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">isfile&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">continue&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">extension&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">os&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">basename&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rsplit&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">lower&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># è·å–æ–‡ä»¶æ‰©å±•å&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">extension&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="s2">&amp;#34;css&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">minify_css&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="n">extension&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;html&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;svg&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;xml&amp;#39;&lt;/span>&lt;span class="p">}:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">minify_html&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç»¼åˆä¸Šè¿°æ‰€æœ‰åŠŸèƒ½ï¼Œä¾¿å¾—åˆ°äº†ç¬¬å››ç‰ˆï¼Œä¹Ÿæ˜¯&lt;a class="link" href="https://github.com/ai4co/reevo/blob/30e87a43e05bce6a8ccb42b9d453a89f6d4a1740/docs/build.py" target="_blank" rel="noopener"
>ç›®å‰çš„æœ€ç»ˆç‰ˆ&lt;/a>ã€‚&lt;/p>
&lt;h2 id="æ€»ç»“">æ€»ç»“
&lt;/h2>&lt;p>å›é¡¾è¿™ä¸ªæµç¨‹ï¼Œæœ€åˆæˆ‘åªæ˜¯æƒ³å·ä¸ªæ‡’ï¼Œæ²¡æƒ³åˆ°æœ€ç»ˆä»˜å‡ºçš„æ—¶é—´æ¯”åŸæœ¬ä¸å·æ‡’è¿˜è¦å¤šã€‚ç„¶è€Œï¼Œè€ƒè™‘åˆ°åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘çš„æ”¶è·ï¼Œæˆ‘è§‰å¾—è¿™ä¸ªæ—¶é—´èŠ±çš„è¿˜æ˜¯å¾ˆå€¼å¾—çš„ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä¹‹å‰åœ¨ç”¨ç°æˆçš„ live server æ—¶ï¼Œä»æœªæƒ³è¿‡è¿™ä¸ªåŠŸèƒ½çš„å®ç°å¯ä»¥å¦‚æ­¤ç®€å•ï¼ˆå½“ç„¶æˆ‘çš„å®ç°ä¹Ÿæ¯”è¾ƒç³™å°±æ˜¯äº†ï¼‰ã€‚åŒæ—¶ï¼Œè¿™æ¬¡çš„ç»éªŒã€ç¼–å†™çš„è„šæœ¬å’Œæ¨¡æ¿ï¼Œåˆ°ä»¥ååšå•é¡µé¢é™æ€ç½‘ç«™æˆ–è€…æ–°çš„è®ºæ–‡çš„ project page æ—¶ä¹Ÿéƒ½å¯ä»¥æ´¾ä¸Šç”¨åœºã€‚&lt;/p>
&lt;p>å½“ç„¶ï¼Œæˆ‘ä¹ŸçŸ¥é“å¸‚é¢ä¸Šæœ‰å¾ˆå¤šç°æˆçš„é™æ€ç½‘ç«™ç”Ÿæˆå·¥å…·ï¼Œä¾‹å¦‚åŸºäº Python çš„ &lt;a class="link" href="https://docs.getpelican.com/en/latest/" target="_blank" rel="noopener"
>Pelican&lt;/a>ï¼ŒåŸºäº Ruby çš„ &lt;a class="link" href="https://jekyllrb.com/" target="_blank" rel="noopener"
>Jekyll&lt;/a> å’Œæˆ‘æ„å»ºè¿™ä¸ªåšå®¢æ‰€ä½¿ç”¨çš„åŸºäº Golang çš„ &lt;a class="link" href="https://gohugo.io/" target="_blank" rel="noopener"
>hugo&lt;/a>ï¼Œé—®é¢˜æ˜¯å®ƒä»¬éƒ½æ˜¯é’ˆå¯¹å¤šé¡µé¢çš„å†…å®¹å‘ç½‘ç«™ï¼Œå®ƒä»¬çš„é¡¹ç›®ç»“æ„ä¹Ÿæ¯”è¾ƒå¤æ‚ï¼Œå¯¹äºæˆ‘çš„å•é¡µé¢ã€ä»…æœ‰ä¸¤å¼ å›¾ç‰‡çš„ project page è€Œè¨€ï¼Œç¡®å®æ˜¾å¾—æœ‰äº›å¤§æå°ç”¨ã€‚å› æ­¤ï¼Œæˆ‘é€‰æ‹©äº†è‡ªåŠ›æ›´ç”Ÿï¼Œè¿‡ç¨‹è™½ç„¶æ›²æŠ˜ï¼Œä½†æ”¶è·é¢‡ä¸°ã€‚&lt;/p></description></item><item><title>ã€è¯»è®ºæ–‡ã€‘An End-to-End Submodular Framework for Data-Efficient In-Context Learning</title><link>https://blog.furffisite.link/p/read-papers/div-s3/</link><pubDate>Mon, 08 Jul 2024 12:33:03 +0800</pubDate><guid>https://blog.furffisite.link/p/read-papers/div-s3/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20240709193826-409d3c5c4adf797af0b0d55992852fce-5194f.jpg" alt="Featured image of post ã€è¯»è®ºæ–‡ã€‘An End-to-End Submodular Framework for Data-Efficient In-Context Learning" />&lt;p>This blog post is completely written in English, just for practicing my English writing skills. Please let me know if there is any suggestions.&lt;/p>
&lt;hr>
&lt;h2 id="basic-information">Basic Information
&lt;/h2>&lt;ul>
&lt;li>Titleï¼š &lt;strong>An End-to-End Submodular Framework for Data-Efficient In-Context Learning&lt;/strong> &lt;sup>&lt;a id='ref-cite1-1' href='#cite1'>[1]&lt;/a>&lt;/sup>&lt;/li>
&lt;li>Authorsï¼š Lilly Kumari, Shengjie Wang, Arnav Das, Tianyi Zhou, Jeff Bilmes&lt;/li>
&lt;li>Conferenceï¼š &lt;a class="link" href="https://2024.naacl.org/" target="_blank" rel="noopener"
>NAACL 2024&lt;/a>&lt;/li>
&lt;li>Open Accessï¼š &lt;a class="link" href="https://aclanthology.org/2024.findings-naacl.209" target="_blank" rel="noopener"
>https://aclanthology.org/2024.findings-naacl.209&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="the-problem-to-solve">The Problem to Solve
&lt;/h2>&lt;p>&lt;strong>The problem of annotating, selecting and ordering in-context exemplars for Large Language Models (LLMs).&lt;/strong>&lt;/p>
&lt;p>The In-Context Learning (ICL) performance of LLMs is largely affected by the selection and ordering of in-context exemplars, which makes it necessary to develop a methodology to select the in-context exemplars according to the query.&lt;/p>
&lt;h2 id="the-proposed-algorithm">The Proposed Algorithm
&lt;/h2>&lt;p>In reality, the most of the data we have are unannotated data, &lt;em>i.e.&lt;/em> queries without answers, some recent methods &lt;sup>&lt;a id='ref-cite2-1' href='#cite2'>[2]&lt;/a>&lt;/sup> suggest to select and annotate a subset from an unannotated huge dataset
$\mathcal X_\mathrm{unlabeled}$ to form a small annotated dataset $\mathcal X_\mathrm{labeled}$, and to choose the in-context exemplars from this subset during evaluation. This passage followed this paradigm, and proposed &lt;strong>Div-S3&lt;/strong>, a two-stage data-efficient learning-free framework for exemplar selection.&lt;/p>
&lt;ul>
&lt;li>The first stage (&lt;strong>Div&lt;/strong>): Exemplar Annotation, from $\mathcal X_\mathrm{unlabeled}$ to $\mathcal X_\mathrm{labeled}$.&lt;/li>
&lt;li>The second stage (&lt;strong>S3&lt;/strong>): Exemplar Retrieval, from $\mathcal X_\mathrm{labeled}$ and query set $Q$ to get in-context exemplars $\mathcal D_\mathrm{context}$.&lt;/li>
&lt;/ul>
&lt;h3 id="exemplar-annotation">Exemplar Annotation
&lt;/h3>&lt;p>&lt;strong>Problem Definition.&lt;/strong>
The first stage of &lt;em>Div-S3&lt;/em>, as mentioned above, selects from unannotated data $\mathcal X_\mathrm{unlabeled}$ and let &lt;em>homo sapiens&lt;/em> do the annotations to make an informative and diverse subset $\mathcal X_\mathrm{labeled}$, with the constraint of $|\mathcal X_\mathrm{labeled}| \ll |\mathcal X_\mathrm{unlabeled}|$. This is a process similar to one iteration of pool-based active learning. With the objective of diversity and reducing redundancy, this can also be formulated as a set optimization problem &lt;sup>&lt;a id='ref-cite3-1' href='#cite3'>[3]&lt;/a>&lt;/sup> as follows:
$$\max_{A\subset \mathcal X_\mathrm{unlabeled},|A|\le k} f(A),$$
where $k$ is a hyperparameter representing the annotation budget, $f:~2^{\mathcal X_\mathrm{unlabeled}}\rightarrow\mathbb R$ is a submodular function mapping all subsets of $\mathcal X_\mathrm{unlabeled}$ to the respective score of each subset. The higher the score, the better the subset is.&lt;/p>
&lt;blockquote>
&lt;p>The submodular function must satisfy the properties of monotone and decreasing marginal profit, &lt;em>i.e.&lt;/em>, respectively,
$$\begin{aligned}\forall A\subseteq T, \quad&amp;amp;f(A) \le f(T), \\ \forall A\subset T,~ \forall x\not\in T, \quad&amp;amp;f(\{x\}|A) \ge f(\{x\}|T), \end{aligned}$$
where $f(\{x\}|T) = f(\{x\}\cup T) - f(T)$ is the marginal profit of adding $\{x\}$ to $T$.&lt;/p>
&lt;/blockquote>
&lt;p>The authors set the submodular function to be &lt;em>facility location&lt;/em>, which is defined as
$$f(A) = \sum_{s_i\in\mathcal X_\mathrm{unlabeled}}\max_{s_j\in A}\mathrm{sim}(s_i,s_j),$$
where $\mathrm{sim}(\cdot,\cdot)$ denotes the cosine similarity of two queries&amp;rsquo; embeddings, generated by sentence-BERT &lt;sup>&lt;a id='ref-cite4-1' href='#cite4'>[4]&lt;/a>&lt;/sup>.&lt;/p>
&lt;p>&lt;strong>Intuitive Interpretation.&lt;/strong>
This problem can be intuitively and geometrically interpreted as minimizing the sum of all distances between each node and its nearest selected nodes, which is a k-medoids problem and is pretty similar to k-means clustering.&lt;/p>
&lt;p>&lt;strong>Solution.&lt;/strong>
The authors of this paper use a greedy algorithm proposed by Nemhauser &lt;em>et al.&lt;/em> &lt;sup>&lt;a id='ref-cite5-1' href='#cite5'>[5]&lt;/a>&lt;/sup>, called Greedy Submodular Maximization (GSM). Its fundamental idea is to greedily select the item with the maximum marginal profit for $k$ iterations, &lt;em>i.e.&lt;/em>
$$A\leftarrow A\cup \{\argmax_{v\in V, v\not\in A} f(A\cup \{v\}) - f(A) \}.$$
Considering the time spent in calculating $f$, this is an algorithm with the time complexity of $O((nk)^2)$. The paper says it&amp;rsquo;s $O(n^2+nk)$ but I beg to differ as it seems to have ignored the time complexity of calculating $f$, which is $\Theta(nm)$ with pre-calculated similarity matrix, where $m=0,1,\ldots,k-1$ in the iterations. But I agree with the authors that the algorithm can be accelerated by techniques like caching and priority queues, &lt;em>etc.&lt;/em>&lt;/p>
&lt;h3 id="exemplar-retrieval">Exemplar Retrieval
&lt;/h3>&lt;p>Exemplar retrieval is intended to find the best in-context exemplars $\mathcal D_\mathrm{context}$ for the given query set $Q$ from $\mathcal X_\mathrm{labeled}$. Previous similarity-based methods usually yield in-context exemplars with redundant information. To reduce such redundancy, the authors formalize exemplar retrieval as a conditional submodular subset selection problem. The purpose of this stage is to &amp;ldquo;obtain a set of exemplars that are not only relevant to the test query but also encompass diverse aspects crucial for aiding the LLM in the target task&amp;rdquo; &lt;sup>&lt;a id='ref-cite1-2' href='#cite1'>[1]&lt;/a>&lt;/sup>. They come up with a two-phase method called Submodular Span Summarization (S3), which was published prior to this paper &lt;sup>&lt;a id='ref-cite6-1' href='#cite6'>[6]&lt;/a>&lt;/sup>.&lt;/p>
&lt;h4 id="phase-1-of-s3">Phase 1 of S3
&lt;/h4>&lt;p>&lt;strong>Problem Definition.&lt;/strong>
This phase targets to select a relatively large subset relevant to the query set $Q$, but might be redundant.
The original problem might be difficult to solve, so the paper considered solving the dual problem of it:
$$\min_{A\subseteq V - Q,|A|\ge k_1}f(A|Q),$$
which is a cardinality-constrained submodular minimization problem. The authors use $m_Q(A) = \sum_{a\in A}f(a|Q)$ to approximate $f(A|Q)$, which is an upper bound of $f(A|Q)$.&lt;/p>
&lt;p>&lt;strong>Solution.&lt;/strong>
Although the paper doesn&amp;rsquo;t state it clearly, I think the algorithm to solve this problem, given the approximation, is to select $k_1$ exemplars with minimal values of $f(a|Q)$ from $A$. And this algorithm matches the time complexity $O(k+k\log k_1)$ stated in Appendix B, if ignoring the time for calculating $f$.&lt;/p>
&lt;h4 id="phase-2-of-s3">Phase 2 of S3
&lt;/h4>&lt;p>This stage is intended to select the most representative exemplars from the result of phase 1, and is mathematically the same as &lt;a class="link" href="#exemplar-annotation" >Exemplar Annotation&lt;/a>:
$$\max_{A\subset A_Q,|A|\le k_2} f(A),$$
where $A_Q$ is the set of selected exemplars from phase 1.
Optionally, we can apply a knapsack constraint on the problem, and solve it with a modified version of GSM.&lt;/p>
&lt;h2 id="comments">Comments
&lt;/h2>&lt;p>The authors proposed a learning-free framework named &lt;strong>Div-S3&lt;/strong> to select in-context exemplars from unlabeled datasets, and evaluated its effectiveness with ablation experiments across 7 Natural Language Processing (NLP) tasks and 5 LLMs. Although the algorithm doesn&amp;rsquo;t take ordering into consideration, the paper proves its insensitiveness to the order of exemplars.&lt;/p>
&lt;p>However, from my perspective, I still have some problems related to the paper:&lt;/p>
&lt;ul>
&lt;li>In Exemplar Retrieval stage, what&amp;rsquo;s the meaning of computing $f(Q)$ against all unlabeled data $\mathcal X_\mathrm{unlabeled}$. Given that $\mathcal X_\mathrm{labeled}$ is a representative subset of $\mathcal X_\mathrm{unlabeled}$, would it be computationally better to calculate $f(Q)$ and $f(a|Q)$ only against $\mathcal X_\mathrm{labeled}\cup Q$?&lt;/li>
&lt;li>What&amp;rsquo;s the purpose of dealing with the queries as a whole (query set $Q$), instead of retrieving the best exemplars for each query $q$?&lt;/li>
&lt;li>The experiments didn&amp;rsquo;t cover the comparison of Div-S3 with some recent algorithms, especially the learning-based ones.&lt;/li>
&lt;li>Will the algorithm averagely perform better if we handcraft a rule to arrange the selected exemplars? Also, in Figure 3, the variances do not seem to be small.&lt;/li>
&lt;/ul>
&lt;h2 id="references">References
&lt;/h2>&lt;style>
.bibliography { display: table; font-size: medium; line-height: normal; }
.bib-item { display: table-row; }
.bib-item > :first-child { display: table-cell; padding-right: .5em; font-weight: bold; text-align: right; }
.bib-item > :last-child { display: table-cell; padding-bottom: .5ex; }
&lt;/style>
&lt;div class="bibliography">&lt;div id="cite1" class="bib-item">
&lt;span>[1]&lt;/span>
&lt;span>L. Kumari, S. Wang, A. Das, T. Zhou, and J. Bilmes, â€œAn End-to-End Submodular Framework for Data-Efficient In-Context Learning,â€ in Findings of the Association for Computational Linguistics: NAACL 2024, K. Duh, H. Gomez, and S. Bethard, Eds., Mexico City, Mexico: Association for Computational Linguistics, Jun. 2024, pp. 3293â€“3308. Accessed: Jul. 02, 2024. [Online]. Available: &lt;a class="link" href="https://aclanthology.org/2024.findings-naacl.209" target="_blank" rel="noopener"
>https://aclanthology.org/2024.findings-naacl.209&lt;/a>&lt;a href="#ref-cite1-1">â¤¶&lt;/a>&lt;a href="#ref-cite1-2">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite2" class="bib-item">
&lt;span>[2]&lt;/span>
&lt;span>H. Su et al., â€œSelective Annotation Makes Language Models Better Few-Shot Learners,â€ presented at the The Eleventh International Conference on Learning Representations, Sep. 2022. Accessed: May 30, 2024. [Online]. Available: &lt;a class="link" href="https://openreview.net/forum?id=qY1hlv7gwg" target="_blank" rel="noopener"
>https://openreview.net/forum?id=qY1hlv7gwg&lt;/a>&lt;a href="#ref-cite2-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite3" class="bib-item">
&lt;span>[3]&lt;/span>
&lt;span>S. C. H. Hoi, R. Jin, J. Zhu, and M. R. Lyu, â€œBatch mode active learning and its application to medical image classification,â€ in Proceedings of the 23rd international conference on Machine learning, in ICML â€™06. New York, NY, USA: Association for Computing Machinery, Jun. 2006, pp. 417â€“424. doi: 10.1145/1143844.1143897.&lt;a href="#ref-cite3-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite4" class="bib-item">
&lt;span>[4]&lt;/span>
&lt;span>N. Reimers and I. Gurevych, â€œSentence-BERT: Sentence Embeddings using Siamese BERT-Networks.â€ arXiv, Aug. 27, 2019. Accessed: Jul. 08, 2024. [Online]. Available: &lt;a class="link" href="http://arxiv.org/abs/1908.10084" target="_blank" rel="noopener"
>http://arxiv.org/abs/1908.10084&lt;/a>&lt;a href="#ref-cite4-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite5" class="bib-item">
&lt;span>[5]&lt;/span>
&lt;span>G. L. Nemhauser, L. A. Wolsey, and M. L. Fisher, â€œAn analysis of approximations for maximizing submodular set functionsâ€”I,â€ Mathematical programming, vol. 14, pp. 265â€“294, 1978.&lt;a href="#ref-cite5-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite6" class="bib-item">
&lt;span>[6]&lt;/span>
&lt;span>L. Kumari and J. Bilmes, â€œSubmodular Span, with Applications to Conditional Data Summarization,â€ Proceedings of the AAAI Conference on Artificial Intelligence, vol. 35, no. 14, Art. no. 14, May 2021, doi: 10.1609/aaai.v35i14.17465.&lt;a href="#ref-cite6-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;/div>
&lt;!--
{{#- And it is formulated as a submodular span optimization problem:
$$\begin{aligned}&amp;\max_{A\subseteq V - Q} |A| \\\\ \mathrm{s.t.}\quad&amp;f(A\cup Q) - f(Q)\le\epsilon\end{aligned},$$
where $\epsilon>0$ is a hyperparameter controlling the relevance level.
This can be interpreted as maximizing the marginal -#}}
--></description></item><item><title>ä¸ªäººå¸¸ç”¨çš„æ–° Windows 11 ç³»ç»Ÿçš„é…ç½®è¿‡ç¨‹</title><link>https://blog.furffisite.link/p/windows-setup/</link><pubDate>Fri, 05 Jul 2024 10:57:02 +0800</pubDate><guid>https://blog.furffisite.link/p/windows-setup/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20240707215654-5c276c9ae1c98340521bf56811f4b765-87c36.jpg" alt="Featured image of post ä¸ªäººå¸¸ç”¨çš„æ–° Windows 11 ç³»ç»Ÿçš„é…ç½®è¿‡ç¨‹" />&lt;h2 id="éªŒæœº">éªŒæœº
&lt;/h2>&lt;p>åœ¨å®Œæˆ Windows åˆå§‹é…ç½®ï¼Œè¿›å…¥æ¡Œé¢åçš„ç¬¬ä¸€ä»¶äº‹æ˜¯éªŒæœºï¼Œå³ç¡®ä¿ç¬”è®°æœ¬çš„é…ç½®ç¬¦åˆå‚å®¶çš„å®£ä¼ ã€ç¡®ä¿ç¬”è®°æœ¬æ²¡æœ‰æš—ç—…ç­‰ã€‚&lt;/p>
&lt;p>åœ¨å¤–è§‚ä¸Šçš„éªŒæœºæ­¥éª¤åœ¨å¼€æœºå‰åº”å½“å·²ç»å®Œæˆäº†ï¼Œä¾‹å¦‚åŒ…è£…æ­£å¸¸ã€å¤–è§‚æ— åˆ’ç—•ã€é¦–æ¬¡å¼€æœºå¿…é¡»æ¥å…¥ç”µæºç­‰ã€‚
ä½†æ˜¯ï¼Œæˆ‘ä»¬å¹¶ä¸èƒ½ä»å¤–è§‚çœ‹å‡ºç¬”è®°æœ¬çš„é…ç½®ä¿¡æ¯ï¼Œå› æ­¤ï¼Œéœ€è¦åœ¨è¿›å…¥ç³»ç»Ÿåä½¿ç”¨ç›¸å…³è½¯ä»¶æ£€æµ‹ç¬”è®°æœ¬çš„ç¡¬ä»¶é…ç½®ã€‚è¿™äº›å·¥å…·ä¾‹å¦‚ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://www.cpuid.com/softwares/cpu-z.html" target="_blank" rel="noopener"
>CPU-Z&lt;/a>ï¼šæ£€æµ‹ä¸»è¦ç¡¬ä»¶ä¿¡æ¯ï¼ˆCPU/ä¸»æ¿/å†…å­˜æ˜¾å¡ï¼‰ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://www.aida64.com/downloads" target="_blank" rel="noopener"
>AIDA-64&lt;/a>ï¼šæ£€æµ‹æ‰€æœ‰ç¡¬ä»¶ä¿¡æ¯ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://crystalmark.info/en/software/crystaldiskinfo/" target="_blank" rel="noopener"
>CrystalDiskInfo&lt;/a>: æŸ¥çœ‹ç¡¬ç›˜ä¿¡æ¯å’ŒçŠ¶æ€ï¼›&lt;/li>
&lt;li>â€¦â€¦&lt;/li>
&lt;/ul>
&lt;p>è¿™ç±»å·¥å…·è½¯ä»¶éƒ½å·²ç»è¢«DIYçˆ±å¥½è€…ä¸­è‘—åçš„&lt;a class="link" href="https://www.tbtool.cn/" target="_blank" rel="noopener"
>å›¾å§å·¥å…·ç®±&lt;/a>å’Œ&lt;a class="link" href="http://www.kbtool.cn/" target="_blank" rel="noopener"
>å¡ç¡¬å·¥å…·ç®±&lt;/a>æ”¶å½•ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç›´æ¥ä¸‹è½½ä½¿ç”¨è¿™äº›å·¥å…·ç®±ç”¨äºæ£€æµ‹ç¡¬ä»¶ã€‚
å¯¹äºåŠå…¬ç”¨çš„ç¬”è®°æœ¬è€Œè¨€è¿™äº›éªŒæœºè½¯ä»¶æ˜¯æ— ç”¨çš„ï¼Œå› æ­¤è¾ƒä¸ºæ¨èçš„åšæ³•æ˜¯å°†å…¶ç¨‹åºæ”¾åœ¨ U ç›˜é‡Œï¼ŒéªŒæ–°æœºçš„æ—¶å€™åªéœ€æ’å…¥è¿™ä¸ª U ç›˜ï¼Œè¿è¡Œè¿™äº›ç¨‹åºå³å¯ã€‚&lt;/p>
&lt;h2 id="æ¸…ç†">æ¸…ç†
&lt;/h2>&lt;p>å¯¹äºæ–°ç³»ç»Ÿè€Œè¨€ï¼Œéœ€è¦æ¸…ç†çš„åªæœ‰é¢„è£…è½¯ä»¶å’Œå¼€æœºå¯åŠ¨é¡¹&lt;/p>
&lt;ul>
&lt;li>æ¸…ç†é¢„è£…è½¯ä»¶ï¼šå³é”® Windows å¾½æ ‡ -&amp;gt; â€œå®‰è£…çš„åº”ç”¨â€ -&amp;gt; éå†åˆ—è¡¨å¹¶å¸è½½ç”¨ä¸ä¸Šçš„é¢„è£…åº”ç”¨ï¼›&lt;/li>
&lt;li>æ¸…ç†å¼€æœºå¯åŠ¨é¡¹ï¼šå³é”® Windows å¾½æ ‡ -&amp;gt; â€œä»»åŠ¡ç®¡ç†å™¨â€ -&amp;gt; å¯åŠ¨åº”ç”¨ -&amp;gt; éå†åˆ—è¡¨å¹¶å¸è½½ç”¨ä¸ä¸Šçš„é¢„è£…åº”ç”¨ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="è®¾ç½®-windows">è®¾ç½® Windows
&lt;/h2>&lt;h3 id="ç¡¬ç›˜åˆ†åŒº">ç¡¬ç›˜åˆ†åŒº
&lt;/h3>&lt;p>å› ä¸ºæœ‰äº›å“ç‰Œçš„ç¬”è®°æœ¬å‡ºå‚æ˜¯è‡ªå¸¦ &lt;a class="link" href="https://learn.microsoft.com/zh-cn/windows/security/operating-system-security/data-protection/bitlocker/" target="_blank" rel="noopener"
>BitLocker&lt;/a> åˆ†åŒºåŠ å¯†çš„ï¼Œè€Œå¸¸ç”¨çš„ &lt;a class="link" href="https://www.diskgenius.cn/" target="_blank" rel="noopener"
>DiskGenius&lt;/a> ç­‰ç¬¬ä¸‰æ–¹çš„åˆ†åŒºåŠ©æ‰‹ä¼¼ä¹å¹¶ä¸æ”¯æŒ BitLocker åŠ å¯†çš„åˆ†åŒºï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œä½¿ç”¨ Windows è‡ªå¸¦çš„ç¡¬ç›˜ç®¡ç†åŠŸèƒ½ç®¡ç†ç¡¬ç›˜åˆ†åŒºã€‚
Windows çš„ç¡¬ç›˜ç®¡ç†åŠŸèƒ½å¯ä»¥ç›´æ¥é€šè¿‡ Windows å¾½æ ‡çš„å³é”®èœå•æ‰“å¼€ã€‚&lt;/p>
&lt;p>åœ¨â€œç£ç›˜ç®¡ç†â€ä¸­ï¼Œä½¿ç”¨ å³é”® -&amp;gt; åˆ é™¤å· åˆ é™¤å‡ºå‚é¢„åˆ†é…çš„å¸¦ç›˜ç¬¦çš„åˆ†åŒºï¼ˆä¸å¸¦ç›˜ç¬¦çš„æ¢å¤åˆ†åŒºæœ€å¥½åˆ«åˆ ï¼‰ï¼Œç„¶åä½¿ç”¨å³é”® Windows åˆ†åŒº -&amp;gt; æ‰©å±•å·æˆ–è€…å‹ç¼©å·ï¼Œä»¥è°ƒæ•´ Windows åˆ†åŒºçš„å¤§å°ã€‚æˆ‘è®¢è´­çš„ç¬”è®°æœ¬å†…ç½®äº†ä¸€å— 1 TB çš„å›ºæ€ç¡¬ç›˜ï¼Œæˆ‘çš„ç©ºé—´åˆ†é…æ–¹æ¡ˆå¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>Windows åˆ†åŒºï¼ˆ300 GiBï¼‰ï¼Œç”¨äºå­˜æ”¾ Windows ç³»ç»Ÿã€åº”ç”¨ç¨‹åºå’Œå¼€å‘ç¯å¢ƒï¼›&lt;/li>
&lt;li>Data åˆ†åŒºï¼ˆ200 GiBï¼‰ï¼Œç”¨äºå­˜æ”¾å­¦ä¹ èµ„æ–™ã€ä»£ç å’Œç…§ç‰‡ç­‰æ•°æ®ï¼›&lt;/li>
&lt;li>Extra åˆ†åŒºï¼ˆå‰©ä½™çš„ 451 GiBï¼‰ï¼Œç”¨äºå­˜æ”¾å¯ä»¥ä»äº’è”ç½‘é‡å¤ä¸‹è½½çš„èµ„æºï¼Œä¾‹å¦‚ Steam æ¸¸æˆåº“ã€é¢„è®­ç»ƒæ¨¡å‹æƒé‡å’Œæ•°æ®é›†ç­‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>è¿™é‡Œæ²¡æœ‰ç»™ Linux ç³»ç»Ÿç•™ç©ºé—´æ˜¯å› ä¸ºæ–°çš„ç¬”è®°æœ¬å†…æœ‰ä¸€ä¸ªç©ºçš„ &lt;a class="link" href="https://zh.wikipedia.org/zh-cn/M.2" target="_blank" rel="noopener"
>M.2&lt;/a> NVME ç¡¬ç›˜ä½ï¼Œæˆ‘å‡†å¤‡æŠŠæ—§ç¬”è®°æœ¬å†…çš„å›ºæ€ç¡¬ç›˜æ‹†äº†æ”¾åœ¨è¿™é‡Œä½œä¸º Linux ç³»ç»Ÿçš„ç³»ç»Ÿç›˜ã€‚&lt;/p>
&lt;h3 id="å¼€å§‹èœå•">å¼€å§‹èœå•
&lt;/h3>&lt;ul>
&lt;li>æ¸…ç†å¼€å§‹èœå•ï¼šç‚¹å‡» Windows å¾½æ ‡æ‰“å¼€å¼€å§‹èœå• -&amp;gt; åˆ é™¤å¼€å§‹èœå•å†…ä¸éœ€è¦çš„åº”ç”¨å›¾æ ‡&lt;/li>
&lt;li>å±•ç¤ºæ›´å¤šé¡¹ç›®ï¼šè¿›å…¥è®¾ç½® -&amp;gt; â€œä¸ªæ€§åŒ–â€ -&amp;gt; â€œå¼€å§‹â€ -&amp;gt; é€‰æ‹©â€œæ›´å¤šå›ºå®šé¡¹â€&lt;/li>
&lt;li>ç®¡ç†ç”µæºæŒ‰é’®å·¦ä¾§çš„å›¾æ ‡ï¼šè¿›å…¥è®¾ç½® -&amp;gt; â€œä¸ªæ€§åŒ–â€ -&amp;gt; â€œå¼€å§‹â€ -&amp;gt; â€œæ–‡ä»¶å¤¹â€ -&amp;gt; å¼€å¯éœ€è¦æ˜¾ç¤ºåœ¨ç”µæºæŒ‰é’®å·¦ä¾§çš„å›¾æ ‡ï¼ˆæˆ‘é€‰æ‹©äº†è®¾ç½®ã€æ–‡ä»¶èµ„æºç®¡ç†å™¨ã€ä¸‹è½½å’Œä¸ªäººæ–‡ä»¶å¤¹ï¼‰&lt;/li>
&lt;/ul>
&lt;h3 id="ä»»åŠ¡æ ">ä»»åŠ¡æ 
&lt;/h3>&lt;ul>
&lt;li>ä»»åŠ¡æ å±…å·¦ï¼šè¿›å…¥è®¾ç½® -&amp;gt; â€œä¸ªæ€§åŒ–â€ -&amp;gt; â€œä»»åŠ¡æ â€ -&amp;gt; â€œä»»åŠ¡æ è¡Œä¸ºâ€ -&amp;gt; â€œä»»åŠ¡æ å¯¹é½æ–¹å¼â€ -&amp;gt; â€œé å·¦â€&lt;/li>
&lt;li>æœç´¢æ¡†æ”¹ä¸ºæœç´¢å›¾æ ‡ï¼š&amp;hellip; -&amp;gt; â€œä»»åŠ¡æ â€ -&amp;gt; â€œä»»åŠ¡æ é¡¹â€ -&amp;gt; â€œæœç´¢â€ -&amp;gt; â€œä»…æœç´¢å›¾æ ‡â€&lt;/li>
&lt;li>å…³é—­å°ç»„ä»¶ï¼š&amp;hellip; -&amp;gt; â€œä»»åŠ¡æ é¡¹â€ -&amp;gt; â€œå°ç»„ä»¶â€ -&amp;gt; è®¾ä¸ºå…³é—­&lt;/li>
&lt;/ul>
&lt;h3 id="é¼ æ ‡æŒ‡é’ˆæ ·å¼">é¼ æ ‡æŒ‡é’ˆæ ·å¼
&lt;/h3>&lt;p>ä¸ªäººè®¤ä¸ºé»˜è®¤çš„ç™½è‰²æŒ‡é’ˆä¸å¥½çœ‹ï¼Œå¹¶ä¸”åœ¨ç™½åº•é»‘å­—ã€æ–‡å­—å’ŒæŒ‡é’ˆå¤§å°ç›¸è¿‘çš„æƒ…å†µä¸‹ï¼Œæœ‰æ—¶ä¼šæ··è¿›æ–‡å­—é‡Œéš¾ä»¥åˆ†è¾¨ã€‚&lt;/p>
&lt;ul>
&lt;li>æ›´æ”¹é¼ æ ‡æŒ‡é’ˆæ ·å¼ï¼šè¿›å…¥è®¾ç½® -&amp;gt; â€œè¾…åŠ©åŠŸèƒ½â€ -&amp;gt; â€œé¼ æ ‡æŒ‡é’ˆä¸è§¦æ§â€ -&amp;gt; â€œé¼ æ ‡æŒ‡é’ˆæ ·å¼â€ -&amp;gt; æˆ‘ä¸ªäººæ›´å–œæ¬¢ç¬¬å››é¡¹ â€œè‡ªå®šä¹‰â€ -&amp;gt; ä»ç»™å‡ºçš„é¢œè‰²ä¸­é€‰ä¸€ä¸ªï¼ˆä¸æ»¡æ„çš„è¯ä¹Ÿå¯ä»¥é€‰æ‹©å…¶å®ƒé¢œè‰²ï¼‰&lt;/li>
&lt;/ul>
&lt;h3 id="è¯­è¨€">è¯­è¨€
&lt;/h3>&lt;ul>
&lt;li>æ·»åŠ è‹±æ–‡è¾“å…¥æ³•ï¼ˆä¾¿äºå†™ä»£ç ï¼‰ï¼šè¿›å…¥è®¾ç½® -&amp;gt; â€œæ—¶é—´å’Œè¯­è¨€â€ -&amp;gt; â€œè¯­è¨€å’ŒåŒºåŸŸâ€ -&amp;gt; â€œæ·»åŠ è¯­è¨€â€ -&amp;gt; æœç´¢å¹¶é€‰æ‹©â€œè‹±è¯­ï¼ˆç¾å›½ï¼‰â€&lt;/li>
&lt;li>æ·»åŠ æ—¥æ–‡è¾“å…¥æ³•ï¼ˆæœ‰æ—¶ä¼šç”¨åˆ°ï¼‰ï¼š&amp;hellip; -&amp;gt; â€œæ·»åŠ è¯­è¨€â€ -&amp;gt; æœç´¢å¹¶é€‰æ‹©â€œæ—¥è¯­â€&lt;/li>
&lt;/ul>
&lt;h3 id="ä¸ªäººæ•°æ®å­˜å‚¨ä½ç½®">ä¸ªäººæ•°æ®å­˜å‚¨ä½ç½®
&lt;/h3>&lt;p>è¿™ä¸€æ­¥çš„ç›®çš„æ˜¯å°†ä¸€éƒ¨åˆ†ä¸ªäººæ•°æ®çš„ä¿å­˜ä½ç½®ä»ç³»ç»Ÿç›˜æ›´æ”¹è‡³ D ç›˜ã€‚ä¸è¿‡è¿™ä¸ªæ“ä½œåªèƒ½è¿ç§»ä¸€éƒ¨åˆ†æ•°æ®ï¼Œå¯¹äº AppData å†…çš„æ–‡ä»¶åˆ™æ— èƒ½ä¸ºåŠ›ã€‚&lt;/p>
&lt;ul>
&lt;li>è¿›å…¥ä¸ªäººæ–‡ä»¶å¤¹ -&amp;gt; å³é”®â€œæ–‡æ¡£/éŸ³ä¹/å›¾ç‰‡/è§†é¢‘/ä¸‹è½½â€ -&amp;gt; â€œå±æ€§â€ -&amp;gt; â€œä½ç½®â€æ ‡ç­¾é¡µ -&amp;gt; ç‚¹å‡»â€œç§»åŠ¨â€ -&amp;gt; é€‰æ‹© D ç›˜å†…çš„ç›®æ ‡æ–‡ä»¶å¤¹ -&amp;gt; â€œç¡®å®šâ€&lt;/li>
&lt;li>è¿›å…¥è®¾ç½® -&amp;gt; â€œç³»ç»Ÿâ€ -&amp;gt; â€œå­˜å‚¨â€ -&amp;gt; â€œä¿å­˜æ–°å†…å®¹çš„åœ°æ–¹â€ -&amp;gt; å°†ä¸­é—´å››é¡¹çš„å­˜å‚¨ä½ç½®ä» C ç›˜æ›´æ”¹ä¸º D ç›˜&lt;/li>
&lt;/ul>
&lt;h2 id="å®‰è£…è½¯ä»¶">å®‰è£…è½¯ä»¶
&lt;/h2>&lt;h3 id="å·¥å…·">å·¥å…·
&lt;/h3>&lt;p>ç›®å‰åªå®‰è£…äº†è¿™äº›ï¼Œæˆ‘åœ¨ä¹‹åå‘ç°çš„å’Œç”¨åˆ°çš„å¥½ç”¨å°å·¥å…·ä¹Ÿä¼šæ›´æ–°åˆ°è¿™ä¸ªåˆ—è¡¨é‡Œã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://github.com/microsoft/PowerToys" target="_blank" rel="noopener"
>PowerToys&lt;/a> (&lt;a class="link" href="https://apps.microsoft.com/detail/xp89dcgq3k6vld" target="_blank" rel="noopener"
>Microsoft Store&lt;/a>)ï¼šå¼€æºçš„ Windows å°å·¥å…·åˆé›†ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://zh.snipaste.com/" target="_blank" rel="noopener"
>Snipaste&lt;/a> (&lt;a class="link" href="https://apps.microsoft.com/detail/9p1wxpkb68kx" target="_blank" rel="noopener"
>Microsoft Store&lt;/a>)ï¼šæˆªå›¾/è´´å›¾å·¥å…·ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/0x7c13/Notepads" target="_blank" rel="noopener"
>Notepads App&lt;/a> (&lt;a class="link" href="https://apps.microsoft.com/detail/9nhl4nsc67wm" target="_blank" rel="noopener"
>Microsoft Store&lt;/a>)ï¼šæ›´ç¾è§‚çš„è®°äº‹æœ¬å¹³æ›¿ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://potplayer.daum.net/" target="_blank" rel="noopener"
>PotPlayer&lt;/a> (&lt;a class="link" href="https://apps.microsoft.com/detail/xp8bsbgqw2dks0" target="_blank" rel="noopener"
>Microsoft Store&lt;/a>)ï¼šåª’ä½“æ’­æ”¾å™¨ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bandisoft.com/bandizip/" target="_blank" rel="noopener"
>Bandizip&lt;/a> (&lt;a class="link" href="https://apps.microsoft.com/detail/9p2w3w81sppb" target="_blank" rel="noopener"
>Microsoft Store&lt;/a>)ï¼šå¥½ç”¨çš„å‹ç¼©è½¯ä»¶ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://www.sumatrapdfreader.org/free-pdf-reader" target="_blank" rel="noopener"
>Sumatra PDF&lt;/a> (&lt;a class="link" href="https://www.sumatrapdfreader.org/download-free-pdf-viewer" target="_blank" rel="noopener"
>Download&lt;/a>)ï¼šè½»é‡çº§ PDF é˜…è¯»å™¨ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://www.zotero.org/" target="_blank" rel="noopener"
>Zotero&lt;/a> (&lt;a class="link" href="https://www.zotero.org/download/" target="_blank" rel="noopener"
>Download&lt;/a>)ï¼šæ–‡çŒ®ç®¡ç†/é˜…è¯»å·¥å…·ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://www.mactype.net/" target="_blank" rel="noopener"
>MacType&lt;/a>ï¼šWindows å­—ä½“æ¸²æŸ“ä¼˜åŒ–ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å¼€å‘ç¯å¢ƒ">å¼€å‘ç¯å¢ƒ
&lt;/h3>&lt;p>åç»­æˆ‘ä¸»è¦çš„å¼€å‘å·¥ä½œè¿˜æ˜¯ä¼šåœ¨ Linux ç³»ç»Ÿä¸­è¿›è¡Œï¼Œå› æ­¤åœ¨ Windows ç³»ç»Ÿé‡Œåªè£…è¿™äº›åº”è¯¥å°±å¤Ÿäº†ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://code.visualstudio.com/" target="_blank" rel="noopener"
>Visual Studio Code&lt;/a>ï¼šä»£ç ç¼–è¾‘å™¨ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://www.python.org/downloads/" target="_blank" rel="noopener"
>Python&lt;/a>ï¼šPython è§£é‡Šå™¨ï¼›
&lt;ul>
&lt;li>Pip æ¢æºï¼š
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">pip config &lt;span class="nb">set&lt;/span> global.index-url https://pypi.tuna.tsinghua.edu.cn/simple
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>&lt;a class="link" href="https://scoop.sh/" target="_blank" rel="noopener"
>Scoop&lt;/a>ï¼šWindows çš„ç¬¬ä¸‰æ–¹åŒ…ç®¡ç†å·¥å…·ï¼›
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Set-ExecutionPolicy&lt;/span> &lt;span class="n">-ExecutionPolicy&lt;/span> &lt;span class="n">RemoteSigned&lt;/span> &lt;span class="n">-Scope&lt;/span> &lt;span class="n">CurrentUser&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">Invoke-RestMethod&lt;/span> &lt;span class="n">-Uri&lt;/span> &lt;span class="n">https&lt;/span>&lt;span class="err">:&lt;/span>&lt;span class="p">//&lt;/span>&lt;span class="n">get&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">scoop&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="py">sh&lt;/span> &lt;span class="p">|&lt;/span> &lt;span class="nb">Invoke-Expression&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>&lt;a class="link" href="https://git-scm.com/" target="_blank" rel="noopener"
>Git&lt;/a> + &lt;a class="link" href="https://gohugo.io/" target="_blank" rel="noopener"
>hugo&lt;/a>ï¼šç‰ˆæœ¬ç®¡ç† + å†™åšå®¢ç”¨çš„ã€‚
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="line">&lt;span class="cl">&lt;span class="n">scoop&lt;/span> &lt;span class="n">install&lt;/span> &lt;span class="n">git&lt;/span> &lt;span class="n">go&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;/ul></description></item><item><title>Apple Music æ›²åº“è¿ç§»</title><link>https://blog.furffisite.link/p/applemusic-transfer/</link><pubDate>Thu, 23 May 2024 16:01:12 +0800</pubDate><guid>https://blog.furffisite.link/p/applemusic-transfer/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20240523203808-9f4a7d937672d53fbc1a7174037c6f64-581fc.jpg" alt="Featured image of post Apple Music æ›²åº“è¿ç§»" />&lt;h2 id="èƒŒæ™¯">èƒŒæ™¯
&lt;/h2>&lt;p>åˆšä¸Šå¤§å­¦çš„æ—¶å€™ï¼Œæˆ‘è€ƒè™‘åˆ°æ—¥åŒºçš„ Apple Music ç‰ˆæœ¬å¯é€‰çš„æ­Œæ›²æ›´å¤šï¼Œè€Œä¸”å„ç§æœåŠ¡ä¹Ÿæ›´ç»™åŠ›&lt;sup>&lt;a id='ref-cite1-1' href='#cite1'>[1]&lt;/a>&lt;/sup>ã€‚
äºæ˜¯æˆ‘å°±å¼€é€šäº†æ—¥åŒºçš„ä¼šå‘˜ï¼Œå› ä¸ºæœ‰å­¦ç”Ÿä¼˜æƒ ï¼Œæ¯æœˆä¹Ÿå°±èŠ± 580 &lt;strong>æ—¥å…ƒ&lt;/strong>ï¼ˆçº¦ 25 äººæ°‘å¸ï¼‰ã€‚
ä½†ç°åœ¨æ¯•ä¸šåœ¨å³ï¼Œæˆ‘å¼€å§‹æ€€ç–‘æˆ‘åˆ°ç ”ç©¶ç”Ÿé˜¶æ®µè¿˜èƒ½ä¸èƒ½ç»§ç»­äº«å—è¿™ä¸ªä¼˜æƒ ã€‚è€Œæ—¥åŒºä¼šå‘˜åŸä»·è¦æ¯æœˆ 1080 æ—¥å…ƒï¼ˆçº¦ 50 äººæ°‘å¸ï¼‰ï¼Œè¿™è¶…å‡ºæˆ‘çš„å¯æ¥å—èŒƒå›´äº†ã€‚
æ­¤å¤–ï¼Œæœ€è¿‘æ·˜å®ä¸Šè‹¹æœæ—¥åŒº App Store çš„å……å€¼å¡ä¸æ˜¯å¾ˆå¥½æ‰¾ï¼Œè€Œæˆ‘æ—¥åŒºè´¦æˆ·çš„ä½™é¢ä¹Ÿè¦è§åº•äº†ã€‚
æ‰€ä»¥ï¼Œæ˜¯æ—¶å€™æ¢ä¸ªå¹³å°äº†ã€‚&lt;/p>
&lt;p>ç„¶è€Œï¼Œå›½å†…çš„éŸ³ä¹å¹³å°çš„ç¤¾äº¤å±æ€§å¤ªå¼ºï¼Œæˆ‘ä¸ªäººä¸å¤ªå–œæ¬¢è¿™äº›ï¼Œè§‰å¾—å¤ªçƒ­é—¹äº†&lt;sup>&lt;a id='ref-cite2-1' href='#cite2'>[2]&lt;/a>&lt;/sup>ã€‚
ç›¸å¯¹è€Œè¨€ï¼ŒApple Music åˆ™æ›´ä¸“æ³¨äºéŸ³ä¹æœ¬èº«ï¼Œè€Œä¸”è·Ÿè‹¹æœç”Ÿæ€èåˆçš„æ›´å¥½ï¼Œæ‰€ä»¥æˆ‘æœ€åè¿˜æ˜¯é€‰æ‹©äº†è½¬åˆ° Apple Music çš„ä¸­å›½å¤§é™†åŒºï¼ˆå›½åŒºï¼‰ã€‚&lt;/p>
&lt;p>æˆ‘æœ‰ä¸¤ä¸ªè‹¹æœè´¦æˆ·ï¼Œä¸€ä¸ªåœ¨å›½åŒºã€ä¸€ä¸ªåœ¨æ—¥åŒºï¼Œäºæˆ‘è€Œè¨€è¿™é‡Œçš„â€œè½¬åŒºâ€å°±æ˜¯å°†åè€…èµ„æ–™åº“çš„æ‰€æœ‰æ­Œæ›²æ·»åŠ åˆ°å‰è€…çš„èµ„æ–™åº“ä¸­ã€‚
è€ƒè™‘åˆ° Apple Music å›½åŒºçš„ç‰ˆæƒåº“ä¸å¦‚æ—¥åŒºï¼Œæˆ‘å¹¶ä¸è¦æ±‚å°†å…¶&lt;strong>å…¨éƒ¨&lt;/strong>è¿ç§»ï¼Œåªè¦èƒ½å°†å¤§éƒ¨åˆ†æ­Œæ›²å¤åˆ¶åˆ°ç›®æ ‡è´¦æˆ·çš„èµ„æ–™åº“é‡Œå°±è¡Œã€‚&lt;/p>
&lt;p>æˆ‘èƒ½æœåˆ°çš„æˆç†Ÿçš„å·¥å…·ä¸æ˜¯æ»¡è¶³ä¸äº†æˆ‘çš„éœ€æ±‚å°±æ˜¯éœ€è¦æ”¶è´¹ï¼Œå› æ­¤æˆ‘å†³å®šè‡ªå·±æ¢ç´¢è¿ç§»æ›²åº“çš„æ–¹æ³•ã€‚æœ¬æ–‡çš„æ–¹æ³•åˆ†ä¸ºä¸¤æ­¥ï¼š&lt;/p>
&lt;ol>
&lt;li>ä»æºè´¦æˆ·è·å–æ­Œæ›²&lt;/li>
&lt;li>å°†æ­Œæ›²æ·»åŠ åˆ°æ–°è´¦æˆ·&lt;/li>
&lt;/ol>
&lt;p>è¿™éœ€è¦æ“ä½œè€…&lt;strong>æœ‰ä¸€å®šçš„ç¼–ç¨‹å’Œçˆ¬è™«åŸºç¡€&lt;/strong>ï¼Œæœ¬æ–‡åªæ˜¯è®²è¿°æˆ‘çš„æ€è·¯å’Œæ“ä½œæµç¨‹ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰å°†å…¶æ•´ç†æˆé€šç”¨çš„ä»£ç çš„æƒ³æ³•ï¼Œ&lt;strong>æ–‡ä¸­çš„è„šæœ¬éœ€è¦æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹åæ‰å¯ä»¥æ­£å¸¸ä½¿ç”¨&lt;/strong>ã€‚
æœ¬æ–‡çš„æ–¹æ³•ä¸è´¦æˆ·æ‰€åœ¨çš„åŒºåŸŸæ— å…³ï¼Œå› æ­¤ç†è®ºä¸Šä¹Ÿé€‚ç”¨äºå…¶å®ƒåŒºåŸŸé—´çš„å’Œç›¸åŒåŒºåŸŸä¸åŒè´¦æˆ·ä¹‹é—´çš„è¿ç§»ã€‚&lt;/p>
&lt;h2 id="ç¬¬ä¸€æ­¥ä»æºè´¦æˆ·è·å–æ­Œæ›²">ç¬¬ä¸€æ­¥ï¼šä»æºè´¦æˆ·è·å–æ­Œæ›²
&lt;/h2>&lt;p>æˆ‘ç§¯ç´¯äº†å››å¹´çš„è´¦æˆ·é‡Œæœ‰æ­Œæ›² 8441 é¦–ï¼Œå®ƒä»¬åˆ†å¸ƒåœ¨ 1820 å¼ ä¸“è¾‘å†…ï¼Œæ‰€ä»¥ä»¥ä¸“è¾‘ä¸ºå•ä½è¿ç§»æ›´åˆç†ä¸€äº›ã€‚&lt;/p>
&lt;p>å¾—ç›Šäº Apple Music çš„ç½‘é¡µç«¯ï¼Œè·å–ç›¸å…³çš„ API å¹¶ä¸æ˜¯ä»€ä¹ˆéš¾äº‹ï¼š&lt;/p>
&lt;ol>
&lt;li>åœ¨æµè§ˆå™¨å†…çš„ &lt;a class="link" href="https://music.apple.com/" target="_blank" rel="noopener"
>Apple Musicç½‘é¡µç«¯&lt;/a>ç™»å½•æºè´¦æˆ·ï¼Œæ‰“å¼€è°ƒè¯•å·¥å…·ï¼Œåˆ‡æ¢åˆ° Network é¡µï¼Œè¿‡æ»¤å‡º XHR è¯·æ±‚ã€‚&lt;/li>
&lt;li>ç‚¹å‡»â€œä¸“è¾‘/Albumsâ€åˆ‡æ¢åˆ°ä¸“è¾‘é¡µï¼Œè¿™æ—¶åœ¨è°ƒè¯•å·¥å…·å†…åº”è¯¥ä¼šå‡ºç°ä¸€æ¡ &lt;code>amp-api&lt;/code> å¼€å¤´çš„è¯·æ±‚ï¼š
&lt;img src="https://files.furffisite.link/blogimg/20240523174431-b5b39700f6d62e42d12f27ec83098955-bb102.png"
loading="lazy"
>&lt;/li>
&lt;li>å³é”®è¿™æ¡è¯·æ±‚ï¼ŒCopy -&amp;gt; Copy as cURLï¼Œå¤åˆ¶åˆ°ç»ˆç«¯å†…å°è¯•é‡æ”¾è¯·æ±‚ï¼Œåœ¨æˆ‘è¿™é‡ŒæˆåŠŸäº†ï¼Œè¯´æ˜è‹¹æœå¹¶æ²¡æœ‰åšå„ç§å¼¯å¼¯ç»•ç»•çš„åçˆ¬æªæ–½ï¼Œå¥½è¯„ã€‚&lt;/li>
&lt;/ol>
&lt;p>è¿™ä¸ªAPIå“åº”çš„ç»“æ„å¤§è‡´å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;data&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="err">...&lt;/span>&lt;span class="p">],&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;resources&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;library-albums&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="err">...&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;albums&amp;#34;&lt;/span> &lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="err">...&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;library-artists&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="err">...&lt;/span>&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;artists&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="err">...&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;meta&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="err">...&lt;/span>&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æœ‰äº† API ä¹‹åå°±å¯ä»¥å¾ªç¯è¯·æ±‚è·å–å®Œæ•´åˆ—è¡¨äº†ï¼š&lt;/p>
&lt;ol>
&lt;li>è¯·æ±‚å‚æ•°é‡Œçš„ offset é¡¹æŒ‡å®šäº†åç§»é‡ï¼Œé€šè¿‡ä¸æ–­æ”¹å˜è¿™ä¸ªå€¼å¯ä»¥è·å–å®Œæ•´çš„ä¸“è¾‘åˆ—è¡¨ã€‚&lt;/li>
&lt;li>åœ¨å“åº”jsonæœ€åçš„ &lt;code>meta&lt;/code> é¡¹é‡Œæœ‰è®¢é˜…çš„ä¸“è¾‘æ€»æ•°ï¼Œåœ¨æˆ‘è¿™é‡Œæ˜¯ &lt;code>&amp;quot;meta&amp;quot;: {&amp;quot;total&amp;quot;: 1820, ...}&lt;/code>ï¼Œå³1820æ¡ï¼Œè¯·æ±‚å‚æ•°å†… &lt;code>limit=100&lt;/code> ä¹Ÿå°±æ˜¯æ¯é¡µæœ‰ 100 æ¡ã€‚æ ¹æ®è¿™ä¸¤ä¸ªæ•°å€¼å¯ä»¥ç®—å‡ºä¸€å…±æœ‰ 19 é¡µï¼Œè¦è¯·æ±‚ 19 æ¬¡ã€‚æˆ‘ä¹Ÿå°è¯•äº†è°ƒé«˜ &lt;code>limit&lt;/code>ï¼Œå‘ç° &lt;code>limit&amp;gt;100&lt;/code> æ—¶ API ä¼šè¿”å›é”™è¯¯ã€‚&lt;/li>
&lt;li>å°†å‰é¢å¤åˆ¶çš„ curl æŒ‡ä»¤æ”¾åˆ° &lt;code>.sh&lt;/code> è„šæœ¬å†…ï¼Œå†™ä¸€ä¸ªå¾ªç¯ï¼Œä¾‹å¦‚ï¼š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">......
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> i in &lt;span class="o">{&lt;/span>0..18&lt;span class="o">}&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">chunk&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">i&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">00&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl &lt;span class="s2">&amp;#34;https://amp-api.music.apple.com/.../...&amp;amp;offset=&lt;/span>&lt;span class="nv">$chunk&lt;/span>&lt;span class="s2">&amp;amp;...&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> --compressed &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> ......
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -H &lt;span class="s1">&amp;#39;Sec-Fetch-Site: same-site&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -H &lt;span class="s1">&amp;#39;TE: trailers&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -o &lt;span class="s2">&amp;#34;chunk&lt;/span>&lt;span class="nv">$chunk&lt;/span>&lt;span class="s2">.json&amp;#34;&lt;/span> &lt;span class="c1"># æŠŠå“åº”è¾“å‡ºåˆ°æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sleep &lt;span class="m">10&lt;/span> &lt;span class="c1"># é¿å…è¯·æ±‚é—´éš”å¤ªçŸ­å¯¼è‡´è¢« ban&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="4">
&lt;li>åœ¨ç»ˆç«¯ç”¨ bash è¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œä¸ä¸€ä¼šèµ„æ–™åº“å†…çš„æ‰€æœ‰ä¸“è¾‘çš„ä¿¡æ¯å°±éƒ½è¢«ä¿å­˜åˆ°æœ¬åœ°çš„ json æ–‡ä»¶å†…äº†ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="ç¬¬äºŒæ­¥å°†æ­Œæ›²æ·»åŠ åˆ°æ–°è´¦æˆ·">ç¬¬äºŒæ­¥ï¼šå°†æ­Œæ›²æ·»åŠ åˆ°æ–°è´¦æˆ·
&lt;/h2>&lt;p>å’Œä¸Šé¢ç±»ä¼¼ï¼Œé¦–å…ˆè·å–æ·»åŠ ä¸“è¾‘çš„ APIï¼š&lt;/p>
&lt;ol>
&lt;li>&lt;strong>åˆ‡æ¢åˆ°ç›®æ ‡è´¦æˆ·&lt;/strong>ï¼Œæ‰“å¼€è°ƒè¯•å·¥å…·ï¼Œåˆ‡æ¢åˆ° Network é¡µï¼Œè¿‡æ»¤å‡º XHR è¯·æ±‚ã€‚&lt;/li>
&lt;li>åœ¨é¦–é¡µä¸Šéšä¾¿æ‰¾ä¸ªä¸“è¾‘æ·»åŠ åˆ°èµ„æ–™åº“å†…ï¼Œåœ¨è°ƒè¯•å·¥å…·å†…å®šä½åˆ°è¿™æ¡è¯·æ±‚ï¼š
&lt;img src="https://files.furffisite.link/blogimg/20240523182750-1598942b4c5c3c5de352b8e1ead90f25-36a7e.png"
loading="lazy"
>&lt;/li>
&lt;li>åŒä¸Šï¼Œå¤åˆ¶ curl æŒ‡ä»¤åˆ°ç»ˆç«¯å†…å°è¯•é‡æ”¾ï¼ŒæˆåŠŸã€‚&lt;/li>
&lt;/ol>
&lt;p>åˆ†æè¯·æ±‚ URLï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">https://amp-api.music.apple.com/v1/me/library?art[url]=f&amp;amp;format[resources]=map&amp;amp;ids[albums]=1725057905&amp;amp;representation=ids
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­çš„ &lt;code>1725057905&lt;/code> å¯¹åº”ä¹‹å‰è·å–åˆ°çš„ json æ–‡ä»¶é‡Œ &lt;code>resources.albums&lt;/code> å†…çš„æ¯ä¸ªå±æ€§çš„åç§°ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªä¸“è¾‘çš„ IDã€‚
ç”±äº URL å†… ID æ˜¯å¤æ•° &lt;code>ids&lt;/code>ï¼Œæˆ‘ä¾¿çŒœæµ‹èƒ½å¦åŒæ—¶æ·»åŠ å¤šä¸ªä¸“è¾‘ï¼Œå°†URLä¸­çš„ &lt;code>1725057905&lt;/code> æ›¿æ¢ä¸º &lt;code>398320584,322934943&lt;/code>ï¼Œé‡æ–°å‘é€è¯·æ±‚ï¼Œå±…ç„¶ä¹ŸæˆåŠŸäº†ï¼Œè¯´æ˜æˆ‘çš„çŒœæµ‹æ˜¯å¯¹çš„ã€‚&lt;/p>
&lt;p>æœ‰äº†è¿™äº›åŸºç¡€ï¼Œç¼–å†™è„šæœ¬å°±å¾ˆå®¹æ˜“äº†ï¼Œé¦–å…ˆä½¿ç”¨ jq è§£æä¹‹å‰ä¿å­˜çš„å“åº” jsonï¼Œæå–å‡ºå…¶ä¸­ &lt;code>resources.albums&lt;/code> å†…æ¯ä¸€é¡¹çš„é”®å€¼ï¼Œä½¿ç”¨é€—å·åˆ†éš”è¾“å‡ºå¹¶æ‹¼æ¥åˆ° url å†…ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">jqs&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;.resources.albums | keys[&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">section&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">] | [ .[] | tonumber ] | @csv&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ids&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>cat chunk&lt;span class="si">${&lt;/span>&lt;span class="nv">index&lt;/span>&lt;span class="si">}&lt;/span>00.json &lt;span class="p">|&lt;/span> jq -r &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$jqs&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;https://amp-api.music.apple.com/.../...&amp;amp;ids%5Balbums%5D=&lt;/span>&lt;span class="nv">$ids&lt;/span>&lt;span class="s2">&amp;amp;...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ”¾åˆ°ä¹‹å‰çš„ curl è¯·æ±‚å†…ï¼ŒåŠ ä¸Šå¾ªç¯ç»„æˆè„šæœ¬ï¼Œè„šæœ¬é‡Œå¯¹æ¯ä¸ª chunk åˆ†æ®µè¯·æ±‚æ˜¯å› ä¸ºä¸€æ¬¡å¢åŠ  100 å¼ ä¸“è¾‘è¯·æ±‚çš„å“åº”ä¼šå¾ˆæ…¢ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">......
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> index in &lt;span class="o">{&lt;/span>0..18&lt;span class="o">}&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> section in &lt;span class="s1">&amp;#39;:25&amp;#39;&lt;/span> &lt;span class="s1">&amp;#39;25:50&amp;#39;&lt;/span> &lt;span class="s1">&amp;#39;50:75&amp;#39;&lt;/span> &lt;span class="s1">&amp;#39;75:&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">jqs&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;.resources.albums | keys[&lt;/span>&lt;span class="si">${&lt;/span>&lt;span class="nv">section&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">] | [ .[] | tonumber ] | @csv&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">ids&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>cat chunk&lt;span class="si">${&lt;/span>&lt;span class="nv">index&lt;/span>&lt;span class="si">}&lt;/span>00.json &lt;span class="p">|&lt;/span> jq -r &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$jqs&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">url&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;https://amp-api.music.apple.com/v1/me/library?art%5Burl%5D=f&amp;amp;format%5Bresources%5D=map&amp;amp;ids%5Balbums%5D=&lt;/span>&lt;span class="nv">$ids&lt;/span>&lt;span class="s2">&amp;amp;representation=ids&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">curl -X POST &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$url&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -H &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="nv">$ua&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -H &lt;span class="s1">&amp;#39;Accept: */*&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> ......
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> -H &lt;span class="s1">&amp;#39;Content-Length: 0&amp;#39;&lt;/span> &lt;span class="se">\
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="se">&lt;/span> -H &lt;span class="s1">&amp;#39;TE: trailers&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">echo&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sleep &lt;span class="m">10&lt;/span> &lt;span class="c1"># é¿å…è¯·æ±‚é—´éš”å¤ªçŸ­å¯¼è‡´è¢« ban&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">done&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åè¿è¡Œè¿™ä¸ªè„šæœ¬ï¼Œå°±å¯ä»¥çœ‹åˆ°è‡ªå·±æºè´¦æˆ·é‡Œçš„æ­Œæ›²è¢«æ…¢æ…¢æ·»åŠ åˆ°ç›®æ ‡è´¦æˆ·é‡Œäº†ã€‚&lt;/p>
&lt;h2 id="å“ªäº›æ­Œæ›²æ²¡æˆåŠŸè¿ç§»">å“ªäº›æ­Œæ›²æ²¡æˆåŠŸè¿ç§»
&lt;/h2>&lt;p>ä»¿ç…§ç¬¬ä¸€æ­¥è·å–ç›®æ ‡è´¦æˆ·çš„æ‰€æœ‰ä¸“è¾‘ï¼Œç„¶åå†™ä¸€äº›è„šæœ¬å°±èƒ½çœ‹åˆ°æœ‰å“ªäº›æ­Œæ›²æ²¡è¢«æˆåŠŸè¿ç§»äº†ï¼Œä¾‹å¦‚è¿™ä¸ª python ç¨‹åºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">json&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">getalbums&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">fn&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&amp;gt;&lt;/span> &lt;span class="nb">dict&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">albums&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">index&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">filename&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">json&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">load&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">filename&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;resources&amp;#34;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">&amp;#34;albums&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">items&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">albums&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">int&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">)]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;attributes&amp;#34;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">&amp;#34;name&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s1">&amp;#39; | &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">v&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;attributes&amp;#34;&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="s2">&amp;#34;artistName&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">albums&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">org_album&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getalbums&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">19&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;chunk&lt;/span>&lt;span class="si">{}&lt;/span>&lt;span class="s2">00.json&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">dest_album&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">getalbums&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;after-chunk&lt;/span>&lt;span class="si">{}&lt;/span>&lt;span class="s2">00.json&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ids&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">org_album&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="nb">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dest_album&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">ids&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sa">f&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="si">{&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="si">}&lt;/span>&lt;span class="s2">:&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">org_album&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ids&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æˆ‘ä¸€å…±æœ‰ 338 å¼ ä¸“è¾‘æ²¡æœ‰è¢«æˆåŠŸè¿ç§»ï¼Œè¿™ä¸»è¦æœ‰ä¸‰ç§æƒ…å†µï¼š&lt;/p>
&lt;ol>
&lt;li>Apple Music å›½åŒºæ²¡ç‰ˆæƒï¼›&lt;/li>
&lt;li>æ²¡æœ‰ä¸€æ¨¡ä¸€æ ·çš„ï¼Œä½†æ˜¯æœ‰ä¸åŒç‰ˆæœ¬çš„ï¼›&lt;/li>
&lt;li>å›½åŒºå’Œæ—¥åŒºéƒ½æœ‰ï¼Œä½†æ˜¯ ID ä¸åŒï¼Œä¾‹å¦‚ RADWIMPS å’Œ HOYO-MiX çš„ä¸“è¾‘ã€‚&lt;/li>
&lt;/ol>
&lt;p>å…¶ä¸­åä¸¤è€…é æ‰‹åŠ¨æœç´¢ä¹Ÿå¯ä»¥æ…¢æ…¢æ·»åŠ å›å»ï¼Œå¦‚æœé‡åˆ°äº†ç¬¬ä¸€ç§é‚£å°±çœŸçš„æ²¡åŠæ³•äº†ã€‚&lt;/p>
&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™
&lt;/h2>&lt;style>
.bibliography { display: table; font-size: medium; line-height: normal; }
.bib-item { display: table-row; }
.bib-item > :first-child { display: table-cell; padding-right: .5em; font-weight: bold; text-align: right; }
.bib-item > :last-child { display: table-cell; padding-bottom: .5ex; }
&lt;/style>
&lt;div class="bibliography">&lt;div id="cite1" class="bib-item">
&lt;span>[1]&lt;/span>
&lt;span>&lt;a class="link" href="https://steppark.net/16357088669226.html" target="_blank" rel="noopener"
>è®¢é˜… Apple Music è¯¥é€‰å“ªä¸ªåŒºï¼Ÿâ€”â€”ä¸­ç¾å¡æ¸¯å°æ—¥å…­å¤§åœ°åŒºå…¨å¯¹æ¯”ï¼ˆç¬¬äºŒç‰ˆï¼‰ - å‘è¿œå…¬å›­ | Step Park&lt;/a>&lt;a href="#ref-cite1-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite2" class="bib-item">
&lt;span>[2]&lt;/span>
&lt;span>&lt;a class="link" href="https://sspai.com/post/64477" target="_blank" rel="noopener"
>éŸ³ä¹å¹³å°æ¨ªè¯„ï¼šApple Musicã€QQ éŸ³ä¹ã€ç½‘æ˜“äº‘ã€å’ªå’•ã€Spotifyã€YouTube Musicã€Tidal - å°‘æ•°æ´¾&lt;/a>&lt;a href="#ref-cite2-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;/div></description></item><item><title>ã€Linuxã€‘ä¿®æ”¹ç™»å½•ç•Œé¢ å¯†ç ä¸‰æ¬¡é”™è¯¯é”å®šæ—¶é—´</title><link>https://blog.furffisite.link/p/linux-authfail-lock/</link><pubDate>Wed, 20 Mar 2024 13:55:32 +0800</pubDate><guid>https://blog.furffisite.link/p/linux-authfail-lock/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20240321144218-38a3404b3f78e405beab5627f4e45e7b-f5a7b.jpg" alt="Featured image of post ã€Linuxã€‘ä¿®æ”¹ç™»å½•ç•Œé¢ å¯†ç ä¸‰æ¬¡é”™è¯¯é”å®šæ—¶é—´" />&lt;p>å¤ªé•¿ä¸çœ‹ç‰ˆï¼š&lt;/p>
&lt;ol>
&lt;li>ä½¿ç”¨ root æƒé™æ‰“å¼€ &lt;code>/etc/security/faillock.conf&lt;/code> ï¼ˆ&lt;code>vim&lt;/code> å¯æ¢æˆå…¶å®ƒç¼–è¾‘å™¨ï¼Œå¦‚ &lt;code>nano&lt;/code>ï¼‰&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ sudo vim /etc/security/faillock.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="2">
&lt;li>å–æ¶ˆæ³¨é‡Šå¹¶ä¿®æ”¹&lt;code>unlock_time&lt;/code>ä¸€é¡¹ï¼Œ60 å¯æ›¿æ¢ä¸ºä½ æƒ³è¦çš„ç§’æ•°ï¼ˆé»˜è®¤600ç§’ï¼‰&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="na">unlock_time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">60&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;ol start="3">
&lt;li>&lt;strong>æˆ–è€…&lt;/strong>ï¼Œä¿®æ”¹&lt;code>deny&lt;/code>ä¸€é¡¹å…³é—­é”™è¯¯é”å®š&lt;/li>
&lt;/ol>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="na">deny&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">0&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="èƒŒæ™¯">èƒŒæ™¯
&lt;/h2>&lt;p>ä»Šå¤©æ¸…æ™¨æˆ‘åˆšåˆšèµ·åºŠï¼Œåœ¨è¿·ç³Šä¸­æƒ³çœ‹çœ‹åŠå¤œæŒ‚æœºè®­ç»ƒçš„æ¨¡å‹çš„æ•ˆæœï¼Œäºæ˜¯æŠ“èµ·ç¬”è®°æœ¬å¼€æœºï¼Œè¾“å¯†ç ã€‚ç»“æœå› ä¸ºæˆ‘æ²¡ç¡é†’ï¼Œè¾“é”™äº†ä¸‰æ¬¡å¯†ç ï¼Œå±å¹•ä¸Šè·³å‡ºäº†è¿™ä¸ªæç¤ºï¼š&lt;/p>
&lt;center>
&lt;img src="https://files.furffisite.link/blogimg/20240320145104-2443a1678e465bfd578c1d40d23648a7-29fb6.jpg" alt="The account is locked due to 3 failed logins. (10 minutes left to unlock)" style="width:50%;min-width:400px;"/>
&lt;/center>
&lt;p>ï¼ˆç™»å½•ç•Œé¢çš„å£çº¸æ˜¯ &lt;a class="link" href="https://www.pixiv.net/users/14541079" target="_blank" rel="noopener"
>ã•ãªã›&lt;/a> è€å¸ˆç”»çš„ &lt;a class="link" href="https://www.pixiv.net/artworks/109067533" target="_blank" rel="noopener"
>é“¶ç‹¼&lt;/a>ã€‚ï¼‰&lt;/p>
&lt;p>å“‡ï¼æˆ‘ç”¨äº†ä¸€å¹´å¤šçš„ &lt;a class="link" href="http://endeavouros.com/" target="_blank" rel="noopener"
>EndeavourOS&lt;/a> ç¬¬ä¸€æ¬¡è§åˆ°è¿™ä¸ªæç¤ºã€‚å†æ€ä¹ˆè¯´è¾“é”™ä¸‰æ¬¡è¦é” 10 åˆ†é’Ÿä¹Ÿå¤ªæ— æƒ…äº†å§ï¼Œå¦‚æœæˆ‘æ€¥ç€ç”¨æ€ä¹ˆåŠã€‚æ€ä¹ˆæ”¹å˜è¿™ä¸ªè®¾ç½®å‘¢ï¼Ÿ&lt;/p>
&lt;h2 id="faillock-é…ç½®">faillock é…ç½®
&lt;/h2>&lt;p>ç”±äºæˆ‘ä¸çŸ¥é“è¿™ä¸ªéƒ¨åˆ†å…·ä½“æ˜¯é‚£ä¸ªæ¨¡å—è´Ÿè´£çš„ï¼Œæœç´¢çš„è¿‡ç¨‹è¿˜æ˜¯æœ‰ä¸€äº›æ³¢æŠ˜çš„ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘å‘ç°ç™»å½•ç•Œé¢ï¼ˆgreeterï¼‰ç”± LightDM çš„ greeter &lt;sup>&lt;a id='ref-cite1-1' href='#cite1'>[1]&lt;/a>&lt;/sup> æä¾›ï¼Œç™»å½•éªŒè¯ç”± Pluggable Authentication Modules (PAM) &lt;sup>&lt;a id='ref-cite2-1' href='#cite2'>[2]&lt;/a>&lt;/sup>&lt;sup>&lt;a id='ref-cite3-1' href='#cite3'>[3]&lt;/a>&lt;/sup> å¤„ç†ï¼Œè´¦æˆ·é”å®šçš„éƒ¨åˆ†åˆ™ç”± PAM çš„æ¨¡å—&lt;code>pam_faillock.so&lt;/code>è´Ÿè´£ã€‚å‰è€…çš„é…ç½®æ–‡ä»¶åœ¨ &lt;code>/etc/lightdm/&lt;/code> æ–‡ä»¶å¤¹ä¸‹ï¼Œæ–‡ä»¶åè§†æ‰€ä½¿ç”¨çš„ greeter è€Œå®šï¼ˆæˆ‘è¿™é‡Œæ˜¯&lt;code>slick-greeter.conf&lt;/code>ï¼‰ï¼Œåè€…çš„é…ç½®æ–‡ä»¶æ˜¯ &lt;code>/etc/security/faillock.conf&lt;/code>&lt;sup>&lt;a id='ref-cite4-1' href='#cite4'>[4]&lt;/a>&lt;/sup>.&lt;/p>
&lt;p>ä½¿ç”¨ &lt;code>vim&lt;/code>ã€&lt;code>nano&lt;/code> ç­‰æ–‡æœ¬ç¼–è¾‘å™¨ä»¥ root æƒé™æ‰“å¼€ faillock çš„é…ç½®æ–‡ä»¶ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ sudo vim /etc/security/faillock.conf
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥å‘ç°é»˜è®¤çš„é…ç½®æ–‡ä»¶é‡Œï¼ˆå¯èƒ½å› å‘è¡Œç‰ˆä¸åŒè€Œæœ‰å·®å¼‚ï¼‰å·²ç»è§£é‡Šäº†æ¯ä¸€é¡¹é…ç½®åŠå…¶ä½œç”¨ï¼Œæˆ‘ä»¬è¦åšçš„åªæ˜¯å–æ¶ˆå¯¹åº”è¡Œçš„æ³¨é‡Šï¼Œä¿®æ”¹æˆæˆ‘ä»¬æƒ³è¦çš„æ•°å€¼ã€‚&lt;/p>
&lt;h3 id="è´¦æˆ·é”å®šç›¸å…³çš„é…ç½®">è´¦æˆ·é”å®šç›¸å…³çš„é…ç½®
&lt;/h3>&lt;p>å¯¹äºéå…±äº«çš„PCè€Œè¨€æˆ‘è§‰å¾—æœ€é‡è¦çš„ä¹Ÿå°±ä¸‰é¡¹ï¼š&lt;code>deny&lt;/code>ï¼Œ&lt;code>fail_interval&lt;/code>å’Œ&lt;code>unlock_time&lt;/code>ã€‚è¿™ä¸‰é¡¹ç”¨ä¸€å¥è¯æ¥æ¦‚æ‹¬å°±æ˜¯ï¼šâ€œ&lt;code>deny&lt;/code>ä¸º&lt;code>0&lt;/code>æ—¶æ— è®ºè¾“é”™å¤šå°‘æ¬¡éƒ½ä¸ä¼šé”å®šè´¦æˆ·ï¼Œå¦åˆ™ï¼Œåœ¨&lt;code>{fail_interval}&lt;/code>ç§’å†…è¿ç»­å¯†ç é”™è¯¯&lt;code>{deny}&lt;/code>æ¬¡ä¼šå¯¼è‡´è´¦æˆ·è¢«é”å®š&lt;code>{unlock_time}&lt;/code>ç§’ã€‚â€è¿™ä¸‰é¡¹çš„é»˜è®¤å€¼åˆ†åˆ«æ˜¯&lt;code>deny=3&lt;/code>ï¼Œ&lt;code>fail_interval=900&lt;/code>å’Œ&lt;code>unlock_time=600&lt;/code>&lt;/p>
&lt;p>ä¸ºäº†é¿å…æš´åŠ›ç ´è§£ï¼Œæˆ‘æ²¡æœ‰å°†&lt;code>deny&lt;/code>è®¾ä¸º &lt;code>0&lt;/code>ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„é…ç½®ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="na">deny&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">3&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">fail_interval&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">60&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">unlock_time&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s">60&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ä¸ºæ¯”èµ·é»˜è®¤çš„ 10 åˆ†é’Ÿï¼Œ1 åˆ†é’Ÿæˆ‘è§‰å¾—æ˜¯å…¼é¡¾äº†å®‰å…¨å’Œä¾¿æ·çš„é€‰æ‹©ã€‚&lt;/p>
&lt;p>å¦å¤–ï¼Œfaillock è®°å½•çš„ç™»å½•å¤±è´¥æ¬¡æ•°é»˜è®¤æ˜¯æ”¾åœ¨ &lt;code>/var/run/faillock&lt;/code> å†…çš„ï¼Œè€Œè¿™ä¸ªæ–‡ä»¶å¤¹å¤„åœ¨ä¸´æ—¶æ–‡ä»¶ç³»ç»Ÿ tmpfs å†…ï¼Œä¹Ÿå°±æ˜¯è¯´å½“è´¦æˆ·å› å¤šæ¬¡å¯†ç é”™è¯¯è¢«é”å®šæ—¶ï¼Œåªè¦é‡å¯ç”µè„‘å°±èƒ½è§£é™¤é”å®š&lt;sup>&lt;a id='ref-cite5-1' href='#cite5'>[5]&lt;/a>&lt;/sup>ã€‚ä¿®æ”¹é…ç½®æ–‡ä»¶çš„&lt;code>dir&lt;/code>ä¸€é¡¹ï¼Œå°†æ–‡ä»¶å¤¹æ”¹åˆ°æŒä¹…å­˜å‚¨çš„æ–‡ä»¶ç³»ç»Ÿå†…å³å¯é˜²æ­¢é‡å¯è§£é™¤é”å®šï¼ˆä¾‹å¦‚&lt;code>/var/lib/faillock&lt;/code>ï¼‰ã€‚&lt;/p>
&lt;p>æˆ‘è¿˜è¯•äº†ä¸€ä¸‹ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹ä½¿ç”¨ ssh è¿œç¨‹ç™»é™†ä¹Ÿæ˜¯æœ‰å¯èƒ½è§¦å‘è´¦æˆ·é”å®šçš„ï¼ˆå½“ç„¶è¿™ä¸ªä¹Ÿå–å†³äºPAMçš„é…ç½®ï¼‰ï¼Œå½“è´¦æˆ·é”å®šæ—¶å³ä½¿å¯†ç æ­£ç¡®ä¹Ÿä¼šè¿”å› &lt;code>Permission denied, please try again.&lt;/code>ã€‚&lt;/p>
&lt;h3 id="root-ç›¸å…³çš„é…ç½®">root ç›¸å…³çš„é…ç½®
&lt;/h3>&lt;p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸ºäº†é˜²æ­¢ DOS æ”»å‡»ï¼Œ faillock æ˜¯ä¸ä¼šé”å®š root è´¦æˆ·çš„ &lt;sup>&lt;a id='ref-cite6-1' href='#cite6'>[6]&lt;/a>&lt;/sup>ã€‚å¼€å¯ &lt;code>even_deny_root&lt;/code> è¿™ä¸€é¡¹åˆ™è®© faillock å¯ä»¥é”å®š root ã€‚ä½¿ç”¨ &lt;code>root_unlock_time&lt;/code> å¯ä»¥ä¸º root è´¦æˆ·å•ç‹¬è®¾ç½®é”å®šæ—¶é—´ï¼Œå¹¶ä¸”è®¾ç½®è¿™é¡¹ä¼šéšå¼å¼€å¯&lt;code>even_deny_root&lt;/code>ã€‚&lt;/p>
&lt;h3 id="æ—¥å¿—ç›¸å…³çš„é…ç½®">æ—¥å¿—ç›¸å…³çš„é…ç½®
&lt;/h3>&lt;p>åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ journalctl --since today -fg pam
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥çœ‹åˆ°ä»Šå¤©ä»¥æ¥ä¸ PAM æœ‰å…³çš„æ—¥å¿—ï¼Œä½¿ç”¨ &lt;code>faillock&lt;/code> æŒ‡ä»¤å¯ä»¥çœ‹åˆ°ç³»ç»Ÿå½“å‰è®°å½•çš„ç™»å½•å¤±è´¥çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">$ faillock --user furffico
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">furffico:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">When Type Source Valid
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2024-03-21 13:16:24 RHOST 192.168.1.101 V
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2024-03-21 13:16:27 RHOST 192.168.1.101 V
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">2024-03-21 13:16:30 RHOST 192.168.1.101 V
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é…ç½®æ–‡ä»¶å†…ä¸æ—¥å¿—ç›¸å…³çš„é…ç½®æœ‰ä¸‰ä¸ªï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;code>audit&lt;/code>: å½“ç”¨æˆ·ä¸å­˜åœ¨æ—¶å°†ç”¨æˆ·åè®°å…¥ç³»ç»Ÿæ—¥å¿—ã€‚
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># before:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sshd[134004]: pam_faillock(sshd:auth): User unknown
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># after:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">sshd[136827]: pam_faillock(sshd:auth): User unknown: f
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;/li>
&lt;li>&lt;code>slient&lt;/code>ï¼šä¸æ‰“å° informativeï¼ˆä¿¡æ¯ä¸°å¯Œçš„ï¼Ÿï¼‰æ¶ˆæ¯ï¼ˆæ²¡è¯•å‡ºæ¥è¿™ä¸ªå¼€äº†æœ‰ä»€ä¹ˆåŒºåˆ«ï¼‰ã€‚&lt;/li>
&lt;li>&lt;code>no_log_info&lt;/code>ï¼šä¸å‘ç³»ç»Ÿæ—¥å¿—æ‰“å° informative æ¶ˆæ¯ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™
&lt;/h2>&lt;style>
.bibliography { display: table; font-size: medium; line-height: normal; }
.bib-item { display: table-row; }
.bib-item > :first-child { display: table-cell; padding-right: .5em; font-weight: bold; text-align: right; }
.bib-item > :last-child { display: table-cell; padding-bottom: .5ex; }
&lt;/style>
&lt;div class="bibliography">&lt;div id="cite1" class="bib-item">
&lt;span>[1]&lt;/span>
&lt;span>&lt;a class="link" href="https://wiki.archlinux.org/title/LightDM#Greeter" target="_blank" rel="noopener"
>LightDM - ArchWiki&lt;/a>&lt;a href="#ref-cite1-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite2" class="bib-item">
&lt;span>[2]&lt;/span>
&lt;span>&lt;a class="link" href="https://wiki.archlinux.org/title/PAM" target="_blank" rel="noopener"
>PAM - ArchWiki&lt;/a>&lt;a href="#ref-cite2-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite3" class="bib-item">
&lt;span>[3]&lt;/span>
&lt;span>&lt;a class="link" href="https://www.redhat.com/sysadmin/pluggable-authentication-modules-pam" target="_blank" rel="noopener"
>An introduction to Pluggable Authentication Modules (PAM) in Linux | Enable Sysadmin&lt;/a>&lt;a href="#ref-cite3-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite4" class="bib-item">
&lt;span>[4]&lt;/span>
&lt;span>&lt;a class="link" href="https://man.archlinux.org/man/faillock.conf.5" target="_blank" rel="noopener"
>faillock.conf(5) â€” Arch manual pages&lt;/a>&lt;a href="#ref-cite4-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite5" class="bib-item">
&lt;span>[5]&lt;/span>
&lt;span>&lt;a class="link" href="https://wiki.archlinux.org/title/Security#Lock_out_user_after_three_failed_login_attempts" target="_blank" rel="noopener"
>Security - ArchWiki&lt;/a>&lt;a href="#ref-cite5-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite6" class="bib-item">
&lt;span>[6]&lt;/span>
&lt;span>&lt;a class="link" href="https://man.archlinux.org/man/pam_faillock.8.en" target="_blank" rel="noopener"
>pam_faillock(8) â€” Arch manual pages&lt;/a>&lt;a href="#ref-cite6-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;/div></description></item><item><title>ã€è¯»è®ºæ–‡ã€‘Unsupervised Learning for Solving the Travelling Salesman Problem</title><link>https://blog.furffisite.link/p/read-papers/utsp/</link><pubDate>Tue, 12 Mar 2024 15:05:23 +0800</pubDate><guid>https://blog.furffisite.link/p/read-papers/utsp/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20240312193735-df25ede3714c69d2ea8b42ba9c39f7c9-755f3.jpg" alt="Featured image of post ã€è¯»è®ºæ–‡ã€‘Unsupervised Learning for Solving the Travelling Salesman Problem" />&lt;h2 id="è®ºæ–‡ä¿¡æ¯">è®ºæ–‡ä¿¡æ¯
&lt;/h2>&lt;ul>
&lt;li>æ ‡é¢˜ï¼š Unsupervised Learning for Solving the Travelling Salesman Problem&lt;sup>&lt;a id='ref-cite1-1' href='#cite1'>[1]&lt;/a>&lt;/sup>&lt;/li>
&lt;li>ä½œè€…ï¼š Yimeng Min, Yiwei Bai, Carla P. Gomes&lt;/li>
&lt;li>ä¼šè®®ï¼š NeurIPS 2023&lt;/li>
&lt;li>åœ¨çº¿èµ„æºï¼š &lt;a class="link" href="https://proceedings.neurips.cc/paper_files/paper/2023/hash/93b8618a9061f8a55825c13ecf28392b-Abstract-Conference.html" target="_blank" rel="noopener"
>https://proceedings.neurips.cc/paper_files/paper/2023/hash/93b8618a9061f8a55825c13ecf28392b-Abstract-Conference.html&lt;/a>&lt;/li>
&lt;li>ä»£ç ï¼š &lt;a class="link" href="https://github.com/yimengmin/UTSP" target="_blank" rel="noopener"
>https://github.com/yimengmin/UTSP&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="utsp-ç®—æ³•">UTSP ç®—æ³•
&lt;/h2>&lt;p>ä½œè€…è®¤ä¸ºç†æƒ³çš„ heatmap $\mathcal{H}\in[0,1]^{n\times n}$ åº”è¯¥è¡¨ç¤º TSP çš„æœ€ä¼˜è§£ï¼Œå³ä¸€æ¡é•¿åº¦æœ€çŸ­çš„æ±‰å¯†å°”é¡¿ç¯è·¯ï¼Œä¹Ÿå°±æ˜¯ï¼š&lt;/p>
&lt;ol>
&lt;li>$\mathcal{H}$ ä½œä¸ºé‚»æ¥çŸ©é˜µè¡¨ç¤ºçš„å›¾å†…æœ‰ä¸”ä»…æœ‰ä¸€æ¡æ±‰å¯†å°”é¡¿ç¯è·¯ï¼›&lt;/li>
&lt;li>$\mathcal{H}$ è¡¨ç¤ºçš„ç¯è·¯é•¿åº¦æœ€çŸ­ï¼Œå³$$\min_\mathcal{H}\sum^n_{i=1}\sum^n_{j=1} \mathcal{H} _{ij}\cdot d _{ij}$$&lt;/li>
&lt;/ol>
&lt;p>ä¸ºäº†è®©ç½‘ç»œè¾“å‡ºçš„ $\mathcal{H}$ æ»¡è¶³ç¬¬ä¸€ä¸ªæ¡ä»¶ï¼Œä½œè€…è®¾è®¡äº† soft indicator matrix $\mathbb{T}\in[0,1]^{n\times n}$ï¼Œ$\mathbb{T}=[\mathbf p_1|\mathbf p_2|\cdots|\mathbf p_n]$ æ˜¯$n$ä¸ªåˆ—å‘é‡ç»„æˆçš„çŸ©é˜µï¼Œæ»¡è¶³å„åˆ—å’Œä¸º$1$ï¼ˆ$\sum_{j=1}^n p_{ij} = 1$ï¼‰ï¼Œè¿™ä¸ªæ¡ä»¶å¯ä»¥ä½¿ç”¨ Softmax å‡½æ•°æˆ–è€…å½’ä¸€åŒ–æ»¡è¶³ï¼Œè®ºæ–‡é‡Œä½¿ç”¨äº†å‰è€…ã€‚&lt;/p>
&lt;p>ç„¶åä½œè€…æå‡ºäº† $\mathbb{T}\rightarrow\mathcal{H}$ transformationï¼Œä»¥å°† soft indicator $\mathbb{T}$ è½¬åŒ–ä¸ºå¯ä»¥é‡‡æ ·çš„ heatmap $\mathcal{H}$ï¼š$$\mathcal{H} = \sum_{i=1}^n \mathbf p_i\cdot \mathbf p_{i+1}^T + \mathbf p_n\cdot \mathbf p_1^T$$
åŒæ—¶ä½œè€…ä¹Ÿè¯æ˜äº†è¿™æ ·å½¢æˆçš„ heatmap ä¸­è‡³å°‘æœ‰ä¸€æ¡æ±‰å¯†å°”é¡¿ç¯è·¯ï¼Œè¿™æ ·å°±æ»¡è¶³äº†ç¬¬ä¸€ä¸ªæ¡ä»¶çš„ä¸€åŠï¼ˆæœ‰ä¸€æ¡ï¼‰ã€‚&lt;/p>
&lt;p>è‡³äºå‰©ä¸‹çš„ä¸€åŠï¼ˆä¸è¶…è¿‡ä¸€æ¡ï¼‰ï¼Œä½œè€…ä½¿ç”¨è®¾è®¡çš„ loss å‡½æ•°é¼“åŠ±ç½‘ç»œå‡å°‘ç¯è·¯æ•°é‡ï¼š
$$\mathcal{L}=\lambda _1 \sum^n _{i=1}(\sum^n _{j=1}\mathbb{T} _{ij}-1)^2 + \lambda_2 \sum^n _{i=1}\mathcal{H} _{ii} + \sum^n _{i=1}\sum^n _{j=1} \mathcal{H} _{ij}\cdot d _{ij}$$
å…¶ä¸­ç¬¬ä¸€é¡¹é¼“åŠ± $\mathbb T$ æ¯è¡Œçš„å’Œæ¥è¿‘ $1$ï¼›ç¬¬äºŒé¡¹æƒ©ç½š $\mathcal{H}$ ä¸­çš„è‡ªç¯ï¼›ç¬¬ä¸‰é¡¹å¯¹åº”ä¸Šé¢çš„ç¬¬äºŒä¸ªæ¡ä»¶ï¼Œå³è®©å›¾é‡Œæ‰€æœ‰è¾¹çš„åŠ æƒå’Œå°½å¯èƒ½å°ã€‚æœ€ç†æƒ³çš„æƒ…å†µä¸‹å‰ä¸¤é¡¹éƒ½æ˜¯ $0$ï¼Œ$\mathcal L$ç­‰äºTSPæœ€ä¼˜è§£çš„è·¯å¾„é•¿åº¦ã€‚UTSP é€šè¿‡è®¾ç½®è¿™æ ·çš„ loss å‡½æ•°ï¼Œè®©ç¥ç»ç½‘ç»œè¾“å‡ºçš„ç»“æœé è¿‘ç†æƒ³çš„ heatmapã€‚&lt;/p>
&lt;p>æ­¤å¤–ï¼Œæ–‡ç« ä½¿ç”¨äº† Scattering Attention GNN (SAG) ä½œä¸ºç¥ç»ç½‘ç»œï¼Œåœ¨æœç´¢å‰ç”¨ top-k ç¼©å°æœç´¢ç©ºé—´ï¼Œå¹¶ä½¿ç”¨ Heat Map Guided Best-first Local Search ä½œä¸ºå±€éƒ¨æœç´¢æ–¹æ³•ã€‚&lt;/p>
&lt;h2 id="ä¼˜åŠ¿ä¸å±€é™æ€§">ä¼˜åŠ¿ä¸å±€é™æ€§
&lt;/h2>&lt;p>æ ¹æ®æ–‡ç« ï¼ŒUTSP çš„ä¼˜åŠ¿æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>ç›¸æ¯”äºæœ‰ç›‘ç£å­¦ä¹ ï¼ŒUTSP ä¸éœ€è¦æœ‰æ ‡æ³¨çš„æ•°æ®ï¼Œç›¸æ¯”äºå¼ºåŒ–å­¦ä¹ ï¼ŒUTSP çš„æ”¶æ•›é€Ÿåº¦æ›´å¿«ï¼ˆéœ€è¦çš„æ ·æœ¬æ•°é‡æ›´å°‘ï¼‰ï¼›&lt;/li>
&lt;li>UTSP ç›´æ¥ä» heatmap è®¡ç®— lossï¼Œçœå»äº†å¼ºåŒ–å­¦ä¹ ä¾èµ–é‡‡æ ·è·å¾— reward çš„è¿‡ç¨‹ï¼›&lt;/li>
&lt;li>é€šè¿‡ç»“æ„è®¾è®¡ä¿è¯è¾“å‡ºçš„ heatmap å«æœ‰æ±‰å¯†å°”é¡¿ç¯è·¯ï¼›&lt;/li>
&lt;li>ç¥ç»ç½‘ç»œå¾ˆè½»é‡åŒ–ï¼ˆTSP100 ä»…éœ€ä¸¤å±‚ 45k ä¸ªå‚æ•°ï¼‰ï¼›&lt;/li>
&lt;li>å¯ä»¥æœ‰æ•ˆåœ°å‡å°æœç´¢ç©ºé—´ã€‚&lt;/li>
&lt;/ul>
&lt;p>æˆ‘è®¤ä¸º UTSP çš„å±€é™æ€§æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>æ ¹æ®æä¾›çš„å®éªŒæ•°æ®ï¼ŒUTSP å³ä½¿æœ‰è½»é‡åŒ–çš„ç½‘ç»œï¼Œå®ƒç”Ÿæˆ heatmap éœ€è¦çš„æ—¶é—´ä¾ç„¶æ¯” Att-GCRN&lt;sup>&lt;a id='ref-cite2-1' href='#cite2'>[2]&lt;/a>&lt;/sup> è¦é•¿ï¼ˆä¸ºä»€ä¹ˆå‘¢ï¼Ÿï¼‰ï¼›&lt;/li>
&lt;li>Soft indicator æ˜¯é’ˆå¯¹ TSP çš„å·§å¦™è®¾è®¡ï¼Œåªé€‚ç”¨äºè§£ä¸ºæ±‰å¯†å°”é¡¿ç¯çš„é—®é¢˜ï¼Œå¹¶ä¸” UTSP éœ€è¦é’ˆå¯¹é—®é¢˜ç²¾å¿ƒè®¾è®¡ loss å‡½æ•°ï¼Œå› æ­¤å°† UTSP è¿ç§»åˆ°åˆ«çš„ç»„åˆä¼˜åŒ–é—®é¢˜æ—¶ï¼Œç›¸æ¯”äºä¸€äº›æœ‰ç›‘ç£å­¦ä¹ å’Œå¼ºåŒ–å­¦ä¹ æ–¹æ³•ï¼ˆåˆ†åˆ«å¯ä»¥é€šè¿‡æœ‰æ ‡ç­¾çš„æ•°æ®å’Œ reward å­¦ä¹ é—®é¢˜ç‰¹å¾ï¼‰éœ€è¦æ›´å¤šå·¥ä½œã€‚&lt;/li>
&lt;/ul>
&lt;p>å‡ ä¸ªé—®é¢˜ï¼š&lt;/p>
&lt;ul>
&lt;li>åœ¨å°†è¾¹æƒé‡è¾“å…¥ç½‘ç»œæ—¶ï¼Œæ–‡ç« è¿›è¡Œäº†é¢„å¤„ç†ï¼š$w_{ij}=e^{-d_{ij}/\tau}$ï¼Œè¿™æ ·åšé™¤äº†å°†è¾“å…¥æ˜ å°„åˆ° $(0,1]$ ä¹‹å¤–ï¼Œç›¸æ¯”äºç›´æ¥è¾“å…¥ $w_{ij}=d_{ij}$ è¿˜æœ‰ä»€ä¹ˆä½œç”¨å˜›ï¼›&lt;/li>
&lt;li>å¦‚æœä¸é‡‡ç”¨ Soft indicatorï¼Œå®éªŒç»“æœä¼šæœ‰å¤šå¤§å˜åŒ–ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="ç›¸å…³æ–‡çŒ®">ç›¸å…³æ–‡çŒ®
&lt;/h2>&lt;style>
.bibliography { display: table; font-size: medium; line-height: normal; }
.bib-item { display: table-row; }
.bib-item > :first-child { display: table-cell; padding-right: .5em; font-weight: bold; text-align: right; }
.bib-item > :last-child { display: table-cell; padding-bottom: .5ex; }
&lt;/style>
&lt;div class="bibliography">&lt;div id="cite1" class="bib-item">
&lt;span>[1]&lt;/span>
&lt;span>Y. Min, Y. Bai, and C. P. Gomes, â€œUnsupervised Learning for Solving the Travelling Salesman Problem,â€ in Advances in Neural Information Processing Systems, A. Oh, T. Neumann, A. Globerson, K. Saenko, M. Hardt, and S. Levine, Eds., Curran Associates, Inc., 2023, pp. 47264â€“47278. [Online]. Available: &lt;a class="link" href="https://proceedings.neurips.cc/paper_files/paper/2023/file/93b8618a9061f8a55825c13ecf28392b-Paper-Conference.pdf" target="_blank" rel="noopener"
>https://proceedings.neurips.cc/paper_files/paper/2023/file/93b8618a9061f8a55825c13ecf28392b-Paper-Conference.pdf&lt;/a>&lt;a href="#ref-cite1-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite2" class="bib-item">
&lt;span>[2]&lt;/span>
&lt;span>Z.-H. Fu, K.-B. Qiu, and H. Zha, â€œGeneralize a Small Pre-trained Model to Arbitrarily Large TSP Instances,â€ Proceedings of the AAAI Conference on Artificial Intelligence, vol. 35, no. 8, pp. 7474â€“7482, May 2021, doi: 10.1609/aaai.v35i8.16916.&lt;a href="#ref-cite2-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;/div></description></item><item><title>æˆ‘æŠ˜è…¾ NAS çš„å†ç¨‹ï¼ˆå››ï¼‰ï¼šä¸€äº›å‡çº§</title><link>https://blog.furffisite.link/p/nas-4/</link><pubDate>Sat, 09 Mar 2024 23:53:36 +0800</pubDate><guid>https://blog.furffisite.link/p/nas-4/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20240310022612-8671164f59f21e5d03de82e41e7073d5-7f2c7.jpg" alt="Featured image of post æˆ‘æŠ˜è…¾ NAS çš„å†ç¨‹ï¼ˆå››ï¼‰ï¼šä¸€äº›å‡çº§" />&lt;p>ä¹‹å‰çš„äº‹æƒ…ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://blog.furffisite.link/p/nas-1" >&lt;em>æˆ‘æŠ˜è…¾NASçš„å†ç¨‹ï¼ˆä¸€ï¼‰&lt;/em>&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.furffisite.link/p/nas-2" >&lt;em>æˆ‘æŠ˜è…¾NASçš„å†ç¨‹ï¼ˆäºŒï¼‰&lt;/em>&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.furffisite.link/p/nas-3" >&lt;em>æˆ‘æŠ˜è…¾NASçš„å†ç¨‹ï¼ˆä¸‰ï¼‰&lt;/em>&lt;/a>&lt;/li>
&lt;/ul>
&lt;p>æœ¬æ–‡ä»¥&lt;a class="link" href="https://blog.furffisite.link/p/nas-3" >ä¸Šä¸€ç¯‡çš„è‡ªç»„ NAS&lt;/a> ä¸ºåŸºç¡€ï¼Œå‡çº§äº†ä¸€äº›é…ç½®ï¼Œå°±æ€§ä»·æ¯”è€Œè¨€æ„Ÿè§‰è¿™é’±èŠ±å¾—ä¸ç®—å¤ªå€¼ã€‚&lt;/p>
&lt;h2 id="ç¡¬ä»¶éƒ¨åˆ†">ç¡¬ä»¶éƒ¨åˆ†
&lt;/h2>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>å“ç‰Œ&lt;/th>
&lt;th>å‹å·&lt;/th>
&lt;th>å‚æ•°&lt;/th>
&lt;th>è´­ä¹°ä»·&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CPU&lt;/td>
&lt;td>Intel&lt;/td>
&lt;td>E5-2690 v4&lt;/td>
&lt;td>14 æ ¸ 2.6GHz &lt;a class="link" href="https://www.intel.cn/content/www/cn/zh/products/sku/91770/intel-xeon-processor-e52690-v4-35m-cache-2-60-ghz/specifications.html" target="_blank" rel="noopener"
>è§„æ ¼è¡¨&lt;/a>&lt;/td>
&lt;td>Â¥134ï¼ˆæ´‹åƒåœ¾ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å†…å­˜&lt;/td>
&lt;td>Samsung&lt;/td>
&lt;td>M386A4G40DM0-CPB&lt;/td>
&lt;td>DDR4 2133 MHz 32GB &lt;a class="link" href="https://semiconductor.samsung.com/cn/dram/module/lrdimm/m386a4g40dm0-cpb/" target="_blank" rel="noopener"
>è§„æ ¼è¡¨&lt;/a>&lt;/td>
&lt;td>Â¥155ï¼ˆæ´‹åƒåœ¾ï¼‰&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ¥å£æ‰©å±•&lt;/td>
&lt;td>ï¼ˆä¸»æ§ï¼‰Marvell&lt;/td>
&lt;td>88SE9215&lt;/td>
&lt;td>PCIe2.0x1 è½¬ SATAx4 &lt;a class="link" href="https://www.marvell.com/content/dam/marvell/en/public-collateral/storage/marvell-storage-88se92xx-product-brief-2012-04.pdf" target="_blank" rel="noopener"
>è§„æ ¼è¡¨&lt;/a>&lt;/td>
&lt;td>Â¥75&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ€»è®¡&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>Â¥364&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="cpu">CPU
&lt;/h3>&lt;p>åŒæ ·æ˜¯æŒ‰ç…§&lt;a class="link" href="https://blog.furffisite.link/p/nas-3/#%e6%b5%8b%e8%af%95" >ä¹‹å‰çš„&lt;/a>è®¾ç½®ï¼Œä½¿ç”¨&lt;code>sysbench&lt;/code>ç²—æµ‹çš„å¯¹æ¯”å¦‚ä¸‹ï¼š&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>CPU&lt;/th>
&lt;th>ä¸»é¢‘&lt;/th>
&lt;th>TDP&lt;/th>
&lt;th>&lt;strong>Events/s&lt;/strong>&lt;/th>
&lt;th>&lt;strong>Avg. Latency&lt;/strong>&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>E5-2660 v4&lt;/td>
&lt;td>2.0 GHz&lt;/td>
&lt;td>105 W&lt;/td>
&lt;td>17251.86&lt;/td>
&lt;td>1.62 ms&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>E5-2690 v4&lt;/td>
&lt;td>2.6 GHz (+30%)&lt;/td>
&lt;td>135 W (+28.6%)&lt;/td>
&lt;td>22860.48 (+32.5%)&lt;/td>
&lt;td>1.22 ms (-24.7%)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>è€ƒè™‘åˆ°è¿™ä¸¤å— CPU é™¤äº†ä¸»é¢‘å’ŒåŠŸè€—å¤–å‡ ä¹ä¸€è‡´ï¼Œæ€§èƒ½æˆæ¯”ä¾‹åœ°æå‡ç¡®å®æ˜¯é¢„æ–™ä¹‹ä¸­ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä¸ºäº† 30% çš„æ€§èƒ½æå‡å¤šèŠ±äº† 157.7% çš„é’±ï¼Œæ€§ä»·æ¯”ä¸ç®—é«˜ï¼Œ
ä¸è¿‡ä¸»é¢‘çš„æå‡å¯¹äºä¸€äº›å¤šçº¿ç¨‹ä¼˜åŒ–ä¸å¥½çš„ä»»åŠ¡ï¼ˆä¾‹å¦‚ &lt;a class="link" href="https://blog.furffisite.link/p/nas-3/#minecraft%e6%9c%8d%e5%8a%a1%e5%99%a8-papermc" >Minecraft æœåŠ¡å™¨&lt;/a>ï¼‰è¿˜æ˜¯æœ‰ç”¨çš„ã€‚&lt;/p>
&lt;p>æ­¤å¤–æˆ‘ä¹°åˆ°çš„ä¼¼ä¹æ˜¯è¿™ä¸ªå•†å®¶çš„æœ€åä¸€å— E5-2690 v4ï¼Œæˆ‘ä¸‹å•åå›åˆ°è¯¦æƒ…é¡µå°±å‘ç°è¿™ä¸ªå‹å·ç¼ºè´§äº†ã€‚&lt;/p>
&lt;h3 id="å†…å­˜">å†…å­˜
&lt;/h3>&lt;p>æˆ‘æœ¬æ¥è®¤ä¸ºè¿™ä¸ª 32GB çš„å†…å­˜æ¡å’Œä¹‹å‰è´­ä¹°çš„ 16GB å†…å­˜æ¡æ˜¯å…¼å®¹çš„ï¼Œå› ä¸ºæˆ‘åœ¨æˆ‘çš„ç¬”è®°æœ¬ä¸Šç”¨çš„å°±æ˜¯ 8GB+32GB çš„éå¯¹ç§°åŒé€šé“çš„é…ç½®ã€‚
å†…å­˜æ¡åˆ°è´§ä¹‹åæ‰å‘ç°ï¼Œè™½ç„¶è¿™ä¸¤æ¡å•ç‹¬å®‰è£…éƒ½æ˜¯èƒ½æ­£å¸¸å¯åŠ¨çš„ï¼ˆè¯´æ˜ä¸¤æ¡éƒ½æ²¡åï¼‰ï¼Œä½†æ˜¯ä¸¤è€…åŒæ—¶å®‰è£…çš„æ—¶å€™ï¼Œæ— è®ºæ”¾åœ¨å“ªä¸¤ä¸ªæ’æ§½ï¼ŒNAS éƒ½æ— æ³•å¼€æœºã€‚
è¿™è®©æˆ‘æ„Ÿè§‰å¾ˆå¥‡æ€ªï¼Œå¥ˆä½•ä¹Ÿæ‰¾ä¸åˆ°è§£å†³æ–¹æ³•ï¼Œåªå¥½å½“ä½œæ˜¯ä¸»æ¿/CPU ä¸æ”¯æŒï¼Œå¹¶é—²ç½®åŸæ¥çš„ 16GB å†…å­˜æ¡ã€‚&lt;/p>
&lt;h3 id="pcieè½¬sataæ‰©å±•å¡">PCIEè½¬SATAæ‰©å±•å¡
&lt;/h3>&lt;p>è¿™ä¸ªæ˜¯åœ¨æ·˜å®ä¸Šéšä¾¿æ‰¾çš„ä¸€ä¸ªã€‚å› ä¸ºæˆ‘éœ€è¦æ¥çš„ä¹Ÿéƒ½æ˜¯æœºæ¢°ç¡¬ç›˜ï¼Œä¼ è¾“ç“¶é¢ˆè¿˜æ˜¯åœ¨æœºæ¢°ç¡¬ç›˜çš„è¯»å†™ä¸Šï¼Œæ‰€ä»¥æˆ‘å¯¹é€Ÿç‡æ²¡ä»€ä¹ˆè¦æ±‚ï¼Œèƒ½è·‘æ»¡æœºæ¢°ç¡¬ç›˜çš„è¯»é€Ÿå°±å¯ä»¥ã€‚&lt;/p>
&lt;p>è‡³äºå®ƒæ˜¯ä¸æ˜¯çœŸçš„å€¼ 75 å…ƒå°±ä¸å¾—è€ŒçŸ¥äº†ã€‚&lt;/p>
&lt;p>æ‰©å±•å®Œ SATA å£ä¹‹åï¼Œæœºç®±å†…ä¸€å…±æœ‰ 7 ä¸ª SATA æ¥å£ï¼Œä½†æ˜¯åªæœ‰4ä¸ªç¡¬ç›˜ä½ï¼Œæˆ‘æƒ³ä¸‹ä¸€æ­¥åº”è¯¥æ˜¯è´­ä¹°ç¡¬ç›˜æ”¯æ¶äº†ã€‚&lt;/p>
&lt;h2 id="è½¯ä»¶éƒ¨åˆ†">è½¯ä»¶éƒ¨åˆ†
&lt;/h2>&lt;h3 id="gitea">Gitea
&lt;/h3>&lt;p>&lt;a class="link" href="https://about.gitea.com/" target="_blank" rel="noopener"
>Gitea&lt;/a> æ˜¯å¼€æºçš„ä»£ç æ‰˜ç®¡å¹³å°ã€‚
è‡ªå·±æœ‰æ—¶å€™å†™äº†ä¸€äº›å·¥å…·é¡¹ç›®ï¼Œä¸æƒ³å‘ Github ä¸Šä¼ çš„æ—¶å€™ï¼ˆæ‹…å¿ƒéšç§é—®é¢˜ï¼Œä»¥åŠå¤§é™†åœ°åŒºè®¿é—® Github æœ‰æ—¶è¿æ¥ä¸ç•…ï¼‰ï¼Œå°±ä¼šä¼ åˆ°è‡ªå»ºçš„ Gitea ä¸Šã€‚&lt;/p>
&lt;p>è™½ç„¶åå­—å’Œ &lt;a class="link" href="https://gitee.com/" target="_blank" rel="noopener"
>Gitee&lt;/a> åªå·®ä¸€ä¸ªå­—æ¯ï¼Œä½†æ˜¯å®ƒä»¬åº”è¯¥æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚
ç±»ä¼¼çš„è‡ªå»ºä»£ç æ‰˜ç®¡å¹³å°è¿˜æœ‰ &lt;a class="link" href="https://about.gitlab.com/" target="_blank" rel="noopener"
>GitLab&lt;/a> å’Œ &lt;a class="link" href="https://gogs.io/" target="_blank" rel="noopener"
>Gogs&lt;/a>ç­‰ã€‚
ä¸ç”¨ GitLab æ˜¯å› ä¸º GitLab çš„èµ„æºå ç”¨å¤ªå¤§äº†ï¼Œå¹¶ä¸”æˆ‘ä¹ŸåŸºæœ¬ç”¨ä¸åˆ°å®ƒçš„ CI/CD åŠŸèƒ½ã€‚&lt;/p>
&lt;p>Gitea å¯ä»¥ç›´æ¥ä½¿ç”¨ docker é•œåƒéƒ¨ç½²ï¼Œå…·ä½“å‚ç…§ &lt;a class="link" href="https://docs.gitea.com/installation/install-with-docker" target="_blank" rel="noopener"
>Gitea å®˜æ–¹æ–‡æ¡£&lt;/a>ã€‚&lt;/p>
&lt;h3 id="immich">Immich
&lt;/h3>&lt;p>&lt;a class="link" href="https://immich.app" target="_blank" rel="noopener"
>Immich&lt;/a> æ˜¯å¼€æºè‡ªå»ºçš„ç›¸å†ŒæœåŠ¡ï¼Œç±»ä¼¼äºè°·æ­Œç›¸å†Œï¼Œæä¾›äº†å›¾ç‰‡ç®¡ç†ã€äººè„¸è¯†åˆ«ã€åœ°å›¾å’Œæ™ºèƒ½æœç´¢ç­‰åŠŸèƒ½ï¼Œå¹¶ä¸”åœ¨ IOSã€Android å’Œç½‘é¡µç«¯éƒ½æœ‰å®˜æ–¹çš„å®¢æˆ·ç«¯ã€‚&lt;/p>
&lt;p>è¿™ä¸ªé¡¹ç›®å„æ–¹é¢éƒ½æŒºä¸é”™çš„ï¼Œç¼ºç‚¹æ˜¯ç‰ˆæœ¬æ›´æ–°æœ‰ç‚¹å¤ªå¿«äº†ï¼Œæœ€å¿«çš„æ—¶å€™ä¸€å‘¨èƒ½å‘ä¸‰å››ä¸ªç‰ˆæœ¬ã€‚å½“ç„¶å¯¹äºé¡¹ç›®è€Œè¨€è¿™æ˜¯å¥½äº‹ï¼Œæ˜¯é¡¹ç›®æ´»è·ƒçš„è¯æ˜ï¼Œä½†æ˜¯å¯¹äºä½¿ç”¨ä½“éªŒè€Œè¨€å°±ä¸é‚£ä¹ˆå¥½äº†ã€‚
å®ƒæ›´æ–°çš„æ—¶å€™å¯èƒ½ä¼šå¼•å…¥ breaking changesï¼Œè¿™å°±è¦æ±‚æ¯æ¬¡æ›´æ–°å‰éƒ½è¦åˆ°å…¶ &lt;a class="link" href="https://github.com/immich-app/immich/releases" target="_blank" rel="noopener"
>github çš„å‘å¸ƒé¡µ&lt;/a>æŸ¥çœ‹å‡çº§å‰çš„æ³¨æ„äº‹é¡¹ï¼Œç„¶åæ‰èƒ½ç”¨ docker compose æ‹‰é•œåƒã€‚
æ‹‰é•œåƒçš„è¿‡ç¨‹ä¹Ÿæœ‰äº›æŠ˜ç£¨ï¼Œå› ä¸ºé•œåƒå®åœ¨å¤ªå¤§äº†ã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://immich.app/docs/install/docker-compose" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>é‡Œç»™å‡ºäº†ä½¿ç”¨ docker compose éƒ¨ç½² Immich çš„æ–¹æ³•ã€‚&lt;/p>
&lt;h3 id="lanraragi">LANraragi
&lt;/h3>&lt;p>&lt;a class="link" href="https://github.com/Difegue/LANraragi" target="_blank" rel="noopener">
&lt;span style="display:inline-block; vertical-align:top; height:2em;">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
&lt;path stroke="none" d="M0 0h24v24H0z" fill="none"/>
&lt;path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
&lt;/svg>
&lt;/span>LANraragi&lt;/a>
æ˜¯ç”¨ Perl è¯­è¨€ç¼–å†™çš„è‡ªå»ºæ¼«ç”»åº“å’Œæ¼«ç”»é˜…è¯»å™¨ã€‚
ä¼˜åŠ¿æ˜¯é€šè¿‡æµè§ˆå™¨è®¿é—®ï¼Œä¸”æ”¯æŒç›´æ¥ä» zipã€tar.gz ç­‰å‹ç¼©æ–‡ä»¶/å½’æ¡£æ–‡ä»¶è¯»å–å›¾ç‰‡ï¼Œè€Œä¸ç”¨æ‰‹åŠ¨è§£å‹ã€‚&lt;/p>
&lt;p>ç¼ºç‚¹æ˜¯å®ƒå¯¹ unicode çš„æ”¯æŒä¸å¤ªå¥½ï¼Œæˆ‘è§‰å¾— Lanraragi åœ¨ç®¡ç†æ¼«ç”»æ–¹é¢çš„åŠŸèƒ½ä¹Ÿæ¯”è¾ƒæ¬ ç¼ºï¼Œä¸ç®—ç‰¹åˆ«å¥½ç”¨ã€‚
å¯ä»¥å…ˆæ‰¾æ‰¾å®ƒçš„æ›¿ä»£å“ï¼Œæ‰¾ä¸åˆ°çš„è¯ä¸å¦¨æœ‰ç©ºè‡ªå·±åŠ¨æ‰‹ç”¨ golang å®ç°ä¸€ä¸ªã€‚&lt;/p>
&lt;p>&lt;a class="link" href="https://sugoi.gitbook.io/lanraragi/v/dev/installing-lanraragi/docker" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>ç»™å‡ºäº†ä½¿ç”¨dockeréƒ¨ç½²çš„æ–¹æ³•ã€‚&lt;/p>
&lt;h3 id="ä¸»é¡µhomer">ä¸»é¡µï¼ˆhomerï¼‰
&lt;/h3>&lt;p>NASä¸Šè¿è¡Œçš„æœåŠ¡å¤šäº†ï¼Œæ¯æ¬¡è®¿é—®æœåŠ¡éƒ½è¦è¾“åœ°å€ï¼ˆæ— è®ºæ˜¯ ip + ç«¯å£è¿˜æ˜¯&lt;a class="link" href="http://localhost:1313/p/nas-3/#coredns" target="_blank" rel="noopener"
>å†…ç½‘åŸŸå&lt;/a>ï¼‰ä¼šå¾ˆéº»çƒ¦ï¼Œäºæ˜¯ç”¨ &lt;a class="link" href="https://github.com/bastienwirtz/homer" target="_blank" rel="noopener">
&lt;span style="display:inline-block; vertical-align:top; height:2em;">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
&lt;path stroke="none" d="M0 0h24v24H0z" fill="none"/>
&lt;path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
&lt;/svg>
&lt;/span>homer&lt;/a>
æ­å»ºäº† NAS çš„å…¥å£é¡µã€‚&lt;/p>
&lt;p>ç”±äºæ˜¯çº¯é™æ€çš„ç½‘é¡µï¼ˆæ”¹å®Œé…ç½®ä¹Ÿä¸éœ€è¦é‡æ–°ç¼–è¯‘ä¹‹ç±»çš„ï¼‰ï¼Œéƒ¨ç½²çš„æ—¶å€™è¿›&lt;a class="link" href="https://github.com/bastienwirtz/homer/releases" target="_blank" rel="noopener"
>é¡¹ç›®çš„ release é¡µ&lt;/a>ä¸‹è½½ç¼–è¯‘å¥½çš„ zip æ–‡ä»¶è§£å‹ï¼Œç„¶åç›´æ¥åœ¨ nginx é‡Œæ·»ä¸€ä¸ª server å°±è¡Œï¼Œä¹Ÿå¯ä»¥æ”¹ defaultï¼Œè®©å®ƒæˆä¸ºè·¯ç”±æ— åŒ¹é…æ—¶çš„é»˜è®¤é¡µé¢ã€‚é…ç½®æ—¶åªè¦æ”¹&lt;code>assets/config.yml&lt;/code>ï¼Œåœ¨æµè§ˆå™¨é‡Œåˆ·æ–°é¡µé¢ï¼ˆå¯èƒ½éœ€è¦åœ¨å¼€å‘è€…å·¥å…·çš„ networks é‡Œ Disable Cacheï¼‰å°±èƒ½çœ‹åˆ°æ›´æ”¹äº†ã€‚&lt;/p>
&lt;h3 id="ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯">ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯
&lt;/h3>&lt;p>ä¹‹å‰åœ¨å¤ä¹ å¤‡è€ƒçš„æ—¶å€™ï¼Œæœ‰å¾ˆå¤šè€ƒç ”èµ„æ–™æ˜¯é€šè¿‡ç™¾åº¦ç½‘ç›˜æµä¼ çš„ã€‚
åˆå› ä¸ºç™¾åº¦ç½‘ç›˜çš„é™é€Ÿï¼Œå’Œå®ƒçš„ä¸€äº›æ“ä½œè®©æˆ‘ä¸æ˜¯å¾ˆæƒ³åœ¨æœ¬æœºå®‰è£…å®ƒçš„å®¢æˆ·ç«¯ï¼Œå‚¬ç”Ÿäº†æˆ‘åœ¨ NAS ä¸Šéƒ¨ç½²å…¶å®¢æˆ·ç«¯çš„éœ€æ±‚ã€‚
ä¸€æœæœç„¶æœ‰å¤§ä½¬åšå¥½äº†ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯çš„ docker é•œåƒï¼Œå…¶ä¸­ä¹‹ä¸€æ˜¯&lt;a class="link" href="https://github.com/gshang2017/docker/tree/master/baidunetdisk" target="_blank" rel="noopener">
&lt;span style="display:inline-block; vertical-align:top; height:2em;">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
&lt;path stroke="none" d="M0 0h24v24H0z" fill="none"/>
&lt;path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
&lt;/svg>
&lt;/span>gshang2017 åšçš„&lt;/a>
ã€‚&lt;/p>
&lt;p>æŠŠæŒ‡ä»¤è½¬æ¢æˆ&lt;code>docker-compose.yaml&lt;/code>æ–‡ä»¶ï¼Œç„¶å&lt;code>docker compose up -d&lt;/code>ï¼Œä¸å‡ºæ„å¤–ç”¨æµè§ˆå™¨è®¿é—® NAS çš„ 5800 ç«¯å£å°±èƒ½çœ‹åˆ°ç™»å½•ç•Œé¢äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">baidunetdisk&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">johngong/baidunetdisk:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./config:/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">&amp;lt;path to downloads&amp;gt;:/config/baidunetdiskdownload&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">baidunetdisk&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">5800&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">5800&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># web&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">5900&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">5900&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># vnc&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">VNC_PASSWORD=12345678&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">USER_ID=1000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">GROUP_ID=1000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">NOVNC_LANGUAGE=&amp;#34;zh_Hans&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å› ä¸ºè¿™ä¸ªé•œåƒæ˜¯ä»¥å®˜æ–¹çš„ linux å®¢æˆ·ç«¯ä¸ºåŸºç¡€åˆ¶ä½œçš„ï¼ŒåŠŸèƒ½åŸºæœ¬ä¸Šä¸ä¹‹ç›¸åŒã€‚é™¤äº†å¹¿å‘Šç‚¹ä¸å¼€ï¼ˆè¿™æ˜¯å¥½äº‹ï¼‰ä¹‹å¤–æˆ‘åœ¨ä½¿ç”¨è¿‡ç¨‹ä¸­æ²¡æœ‰é‡åˆ°ä»€ä¹ˆé—®é¢˜ã€‚&lt;/p>
&lt;h3 id="é¥¥è’æœåŠ¡å™¨">é¥¥è’æœåŠ¡å™¨
&lt;/h3>&lt;p>æˆ‘çš„èˆå‹æƒ³è¦è”æœºç©&lt;a class="link" href="https://www.klei.com/games/dont-starve-together" target="_blank" rel="noopener"
>é¥¥è’ï¼ˆDon&amp;rsquo;t Starve (Together)ï¼‰&lt;/a>ï¼Œäºæ˜¯æ‹œæ‰˜æˆ‘åœ¨ NAS ä¸Šæ­äº†ä¸€ä¸ªé¥¥è’æœåŠ¡å™¨ï¼ˆä¸è¿‡æˆ‘è‡ªå·±æ²¡ä»€ä¹ˆå…´è¶£å°±æ˜¯å•¦ï¼‰ã€‚&lt;/p>
&lt;p>æˆ‘åœ¨ Docker ä¸Šæ²¡æ‰¾åˆ°ä¸‹è½½é‡è¾ƒå¤šçš„é•œåƒï¼Œäºæ˜¯æŒ‰ç…§&lt;a class="link" href="https://zhuanlan.zhihu.com/p/457714222" target="_blank" rel="noopener"
>çŸ¥ä¹&lt;/a>å’Œ &lt;a class="link" href="https://dontstarve.fandom.com/wiki/Guides/Don%E2%80%99t_Starve_Together_Dedicated_Servers" target="_blank" rel="noopener"
>Fandom wiki çš„æ•™ç¨‹&lt;/a>æ­å»ºäº†ç¯å¢ƒï¼ˆé…ç½®èµ·æ¥è¿˜æŒºéº»çƒ¦ï¼‰ï¼Œç„¶åå†™äº†&lt;code>dnst.service&lt;/code>è®©å®ƒä½œä¸º systemd æœåŠ¡è¿è¡Œå’Œè‡ªå¯åŠ¨ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Unit]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Description&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">DoNotStarveTogether Server&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">After&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">network.target&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Service]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">User&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">steam&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Group&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">steam&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">simple&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">WorkingDirectory&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/home/steam&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">ExecStart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">/home/steam/rundst.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">TimeoutStopSec&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">2min&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Restart&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">always&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Install]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">WantedBy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">multi-user.target&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="è™šæ‹ŸåŒ–kvm">è™šæ‹ŸåŒ–ï¼ˆKVMï¼‰
&lt;/h3>&lt;p>å…³äºè™šæ‹Ÿæœºï¼Œæˆ‘ä¹‹å‰åªç”¨è¿‡å›¾å½¢ç•Œé¢çš„ VirtualBoxï¼Œè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æ¥è§¦ Linux æœåŠ¡å™¨ä¸Šå¸¸ç”¨çš„ Kernel-based Virtual Machineï¼ˆKVMï¼‰ã€‚
æˆ‘æ˜¯æŒ‰ç…§&lt;a class="link" href="https://linux.how2shout.com/how-to-install-kvm-on-ubuntu-20-04-lts-server/" target="_blank" rel="noopener"
>è¿™ç¯‡æ•™ç¨‹&lt;/a>åœ¨æœåŠ¡å™¨ä¸Šå®‰è£…çš„KVMï¼ŒæŒ‰ç…§&lt;a class="link" href="https://computingforgeeks.com/install-kvm-qemu-virt-manager-arch-manjar/" target="_blank" rel="noopener"
>è¿™ç¯‡æ•™ç¨‹&lt;/a>åœ¨æœ¬æœºï¼ˆArch Linuxï¼‰å®‰è£…äº†Virtual Machine Managerã€‚&lt;/p>
&lt;p>ç›®å‰åªæ˜¯åœ¨è™šæ‹Ÿæœºé‡Œè£…å¥½äº† Ubuntu ç³»ç»Ÿï¼Œè¿˜æ²¡æœ‰æ·±å…¥æŠ˜è…¾ã€‚&lt;/p></description></item><item><title>Steam Deck æŠ˜è…¾è®°å½•</title><link>https://blog.furffisite.link/p/steamdeck-tweaking/</link><pubDate>Mon, 19 Feb 2024 20:12:35 +0800</pubDate><guid>https://blog.furffisite.link/p/steamdeck-tweaking/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20240220134919-e7ed5ace1e94b03d7e56a619a0f7a6d7-5ca68.jpg" alt="Featured image of post Steam Deck æŠ˜è…¾è®°å½•" />&lt;p>è€ƒç ”åˆè¯•ç»“æŸåï¼Œæˆ‘åœ¨æ·˜å®ä¸Šç»™è‡ªå·±ä¹°äº†ä¸ª 64GB çš„ LCD ç‰ˆ Steam Deckï¼Œå½“æ—¶ï¼ˆ2023å¹´12æœˆåº•ï¼‰èŠ±äº†ï¿¥2885.90.&lt;/p>
&lt;h2 id="æ‰©å®¹ç¡¬ç›˜ä¸æ¢å¤ç³»ç»Ÿ">æ‰©å®¹ç¡¬ç›˜ä¸æ¢å¤ç³»ç»Ÿ
&lt;/h2>&lt;p>æˆ‘æ˜¯ä¸ºäº†çœé’±æ‰ä¹°çš„ 64GB ç‰ˆæœ¬ï¼Œä½†æ˜¯ 64GB çš„å¤–å­˜æ˜¾ç„¶ä¸å¤Ÿç”¨ï¼Œæ‰€ä»¥æˆ‘åˆä¹°äº†ä¸€å— 2230 å°ºå¯¸çš„ 2TB NVMe ç¡¬ç›˜ï¼ˆè¥¿æ•° SN740ï¼‰ï¼Œç¡¬ç›˜+æ•£çƒ­ç‰‡å…±èŠ±è´¹ ï¿¥744.90.
è¿™æ ·ç®—ä¸‹æ¥è´­ä¹° 64GB ç‰ˆæœ¬è‡ªå·±åŠ ç¡¬ç›˜æ¯”ç›´æ¥ä¹°å•†å®¶æ”¹çš„ 2TB ç‰ˆæœ¬åˆ’ç®—ä¸”æ›´æœ‰ä¿éšœã€‚&lt;/p>
&lt;p>ä¸‹é¢æ˜¯æ›´æ¢ç¡¬ç›˜åŠå…¶åç»­æ“ä½œçš„æ­¥éª¤ã€‚&lt;/p>
&lt;h3 id="ç¬¬ä¸€æ­¥å¤‡ä»½å­˜æ¡£">ç¬¬ä¸€æ­¥ï¼šå¤‡ä»½å­˜æ¡£
&lt;/h3>&lt;p>å¦‚æœæ˜¯åˆšåˆ°æ‰‹çš„æ–°æœºï¼Œæˆ–è€…æœ‰ç¡¬ç›˜ç›’æ”¯æŒæ‹†ä¸‹æ¥çš„ 64GB çš„ç¡¬ç›˜çš„è¯å€’ä¹Ÿä¸å¿…è¦è¿™ä¸€æ­¥ã€‚
å¦‚æœæ‹¿åˆ°æ‰‹ä¹‹åå·²ç»ç©äº†ä¸€æ®µæ—¶é—´ï¼Œæ¸¸æˆä¸æ”¯æŒ steam äº‘å­˜æ¡£ï¼ˆæˆ–è€…å„ç§åŸå› å¯¼è‡´æ²¡æœ‰åŒæ­¥æˆåŠŸï¼‰ï¼Œä¸”æ‰‹è¾¹æ²¡æœ‰ç¡¬ç›˜ç›’çš„è¯ï¼Œä¸€å®šè¦åœ¨æ›´æ¢ç¡¬ç›˜ä¹‹å‰å¤‡ä»½ä¸€ä¸‹ Steam Deck ä¸Šçš„æ¸¸æˆå­˜æ¡£ã€‚&lt;/p>
&lt;p>è¿›å…¥ SteamOS çš„æ¡Œé¢æ¨¡å¼åæ’å…¥ U ç›˜ï¼Œä½¿ç”¨æŒ‡ä»¤æˆ–å›¾å½¢ç•Œé¢å¤åˆ¶æ–‡ä»¶å¤¹ &lt;code>/home/deck/.local/share/Steam/steamapps/compatdata&lt;/code> åˆ° U ç›˜å†…ã€‚&lt;/p>
&lt;h3 id="ç¬¬äºŒæ­¥æ›´æ¢ç¡¬ç›˜">ç¬¬äºŒæ­¥ï¼šæ›´æ¢ç¡¬ç›˜
&lt;/h3>&lt;p>æ›´æ¢ç¡¬ç›˜çš„æ“ä½œå¯ä»¥ç›´æ¥å‚è€ƒ iFixit çš„æ•™ç¨‹ &lt;sup>&lt;a id='ref-cite1-1' href='#cite1'>[1]&lt;/a>&lt;/sup>ã€‚&lt;/p>
&lt;h3 id="ç¬¬ä¸‰æ­¥æ¢å¤steamos">ç¬¬ä¸‰æ­¥ï¼šæ¢å¤SteamOS
&lt;/h3>&lt;p>è¿™éƒ¨åˆ†çš„æ“ä½œå¯ä»¥å‚è€ƒ Steam å®˜æ–¹çš„æ•™ç¨‹ &lt;sup>&lt;a id='ref-cite2-1' href='#cite2'>[2]&lt;/a>&lt;/sup>ï¼Œæˆ‘åœ¨æ­¤è®°å½•ä¸€ä¸‹æˆ‘è¸©åˆ°çš„å‘ï¼š&lt;/p>
&lt;ol>
&lt;li>Steam æä¾›çš„é•œåƒä¸èƒ½ä½¿ç”¨ &lt;a class="link" href="https://www.ventoy.net/cn/" target="_blank" rel="noopener"
>Ventoy&lt;/a> å¯åŠ¨ï¼Œåªèƒ½è€è€å®å®ç”¨å·¥å…·ï¼ˆ&lt;a class="link" href="https://rufus.ie/en/" target="_blank" rel="noopener"
>Rufus&lt;/a> / &lt;a class="link" href="https://etcher.balena.io/" target="_blank" rel="noopener"
>balenaEtcher&lt;/a> / &lt;a class="link" href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/dd.html" target="_blank" rel="noopener"
>dd&lt;/a>ï¼‰å†™åˆ°ç©º U ç›˜æˆ– microSD å¡å†…ï¼›&lt;/li>
&lt;li>æˆ‘æœ€å¼€å§‹ç”¨çš„æ˜¯ U ç›˜ï¼Œä½†æ˜¯åœ¨ Steam Deck ä¸Šä» U ç›˜å¯åŠ¨æ—¶åœ¨é»‘å±å¡ä½äº†ï¼Œåé¢åœ¨ reddit ç”¨æˆ·çš„å»ºè®®ä¸‹ &lt;sup>&lt;a id='ref-cite3-1' href='#cite3'>[3]&lt;/a>&lt;/sup> æ¢ç”¨äº† microSD å¡ï¼ˆä¸‰æ˜Ÿ EVOPlus 64GBï¼‰æ‰é¡ºåˆ©è¿›å…¥æ¡Œé¢ï¼ˆä¸çŸ¥æ˜¯ hub çš„é—®é¢˜è¿˜æ˜¯ U ç›˜çš„é—®é¢˜ï¼Œè¸©è¿™ä¸ªå‘è®©æˆ‘å¤šèŠ±äº†ä¸¤ä¸‰ä¸ªå°æ—¶ï¼‰ã€‚&lt;/li>
&lt;/ol>
&lt;p>æ¢å¤å¥½ç³»ç»Ÿåå°±å¯ä»¥å¼¹å‡º U ç›˜æˆ– microSD å¡ï¼Œä»ç¡¬ç›˜å¯åŠ¨äº†ï¼Œä¹‹åç³»ç»Ÿåˆå§‹åŒ–çš„æ­¥éª¤å’Œåˆšæ‹¿åˆ°æœºå™¨æ—¶çš„ä¸€æ ·ã€‚&lt;/p>
&lt;h3 id="ç¬¬å››æ­¥ç¡¬ç›˜åˆ†åŒº">ç¬¬å››æ­¥ï¼šç¡¬ç›˜åˆ†åŒº
&lt;/h3>&lt;p>è¿›å…¥æ¡Œé¢æ¨¡å¼ï¼Œä½¿ç”¨ KDE Partition Manager æŒ‰ç…§éœ€æ±‚è°ƒæ•´åˆ†åŒºï¼Œå¦‚æœæœ‰åŒç³»ç»Ÿéœ€æ±‚çš„è¦ç»™ Windows é¢„ç•™å¥½å®‰è£…ç©ºé—´ï¼ˆæˆ‘ç•™äº† 250GBï¼‰ï¼Œå¹¶ä¸”æŠŠä¸¤ä¸ªç³»ç»Ÿå…±äº«çš„æ¸¸æˆæ–‡ä»¶åˆ†åŒºæ ¼å¼åŒ–ä¸º NTFS æ–‡ä»¶ç³»ç»Ÿã€‚&lt;/p>
&lt;p>æˆ‘çš„åˆ†åŒºæ–¹æ¡ˆå¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/20240220125355-b3bb2fb3802a325bab7097c5a8e3f7a2-6db4b.png"
loading="lazy"
alt="åˆ†åŒºæ–¹æ¡ˆ"
>&lt;/p>
&lt;p>å…¶ä¸­ï¼Œæˆ‘ç»™ SteamOS çš„ home åˆ†åŒºåˆ†é…äº† 200GBï¼Œç”¨äºå­˜æ”¾åªæœ‰ SteamOS ç”¨å¾—åˆ°çš„å·¥å…·ï¼Œå¦å¤– SteamOS ä¼šé»˜è®¤æŠŠæ¸¸æˆå­˜æ¡£ã€è¿è¡Œç¯å¢ƒå’Œæ¸¸æˆé¢„ç¼–è¯‘çš„ç€è‰²å™¨æ”¾åœ¨è¿™é‡Œï¼Œç›®å‰çš„ä½¿ç”¨æƒ…å†µå¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/20240220125422-c7d5ed8bd67274884eba9e219465e9fa-3e181.png"
loading="lazy"
alt="homeåˆ†åŒºä½¿ç”¨æƒ…å†µ"
>&lt;/p>
&lt;p>ç„¶åé…ç½®å¼€æœºè‡ªåŠ¨æŒ‚è½½ï¼Œè¿™ç®—æ˜¯ Linux ç”¨æˆ·çš„åŸºæ“å§ï¼Œæˆ‘å°±ä¸èµ˜è¿°äº†ï¼Œå¯ä»¥å‚è€ƒ &lt;a id='ref-cite4-1' href='#cite4'>[4]&lt;/a> &lt;a id='ref-cite5-1' href='#cite5'>[5]&lt;/a>ã€‚&lt;/p>
&lt;p>é…ç½®å¥½ä¹‹åé‡å¯ï¼ˆæˆ–è€…ä½¿ç”¨ &lt;code>sudo mount -a&lt;/code> æŒ‚è½½æ–°åˆ†åŒºï¼‰ï¼Œè¿›å…¥ Steam åœ¨æ–°åˆ†åŒºä¸Šåˆ›å»ºæ¸¸æˆåº“å³å¯ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="å®‰è£…åŒç³»ç»Ÿ">å®‰è£…åŒç³»ç»Ÿ
&lt;/h2>&lt;p>é¦–å…ˆè¦æ˜ç¡®è‡ªå·±æœ‰æ²¡æœ‰åœ¨ Steam Deck ä¸Šå®‰è£…åŒç³»ç»Ÿçš„éœ€æ±‚ï¼Œæˆ‘è¦è£… Windows æ˜¯å› ä¸ºï¼š&lt;/p>
&lt;ul>
&lt;li>æœ‰äº› Windows æ¸¸æˆä¸æ”¯æŒ SteamOSï¼›&lt;/li>
&lt;li>å¯¹äºé Steam å¹³å°çš„æ¸¸æˆï¼Œä½¿å…¶åœ¨ SteamOS ä¸Šæ­£å¸¸è¿è¡Œéœ€è¦è€—è´¹ä¸€å®šçš„ç²¾åŠ›ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="ç¬¬ä¸€æ­¥å®‰è£…-windows">ç¬¬ä¸€æ­¥ï¼šå®‰è£… Windows
&lt;/h3>&lt;p>AtlasOS ç›¸å½“äºéå®˜æ–¹çš„ç²¾ç®€ç‰ˆ Windowsï¼Œæˆ‘è§‰å¾—åœ¨ä¾§é‡äºæ¸¸æˆçš„ Steam Deck ä¸Šå®‰è£…è¿™ä¸ªéå¸¸åˆé€‚ï¼ŒLinusTechTips ä¹Ÿå‡ºè¿‡ä¸€æœŸè§†é¢‘ä»‹ç»å®ƒ &lt;sup>&lt;a id='ref-cite6-1' href='#cite6'>[6]&lt;/a>&lt;/sup>ã€‚
è‡³äºè§†é¢‘è¯„è®ºé‡Œæåˆ°çš„å®‰å…¨æ€§é—®é¢˜æˆ‘å€’ä¸å¤ªæ‹…å¿ƒï¼Œå› ä¸ºæˆ‘åœ¨è¿™ä¸Šé¢æ— éå°±æ˜¯è¿è¡Œ Steam å’Œä¸€äº›æ¸¸æˆï¼Œæˆ‘çŸ¥é“è‡ªå·±åœ¨åšä»€ä¹ˆï¼Œè¦æ˜¯çœŸå‡ºäº†é—®é¢˜é‡è£…å°±è¡Œã€‚&lt;/p>
&lt;p>å®‰è£… AtlasOS çš„æ­¥éª¤å‚è§ &lt;a id='ref-cite7-1' href='#cite7'>[7]&lt;/a>ã€‚æˆ‘æ¿€æ´» Windows æ—¶ç”¨çš„æ˜¯å­¦æ ¡çš„ KMS æœåŠ¡ã€‚&lt;/p>
&lt;p>&lt;strong>æ³¨æ„&lt;/strong>ï¼šå®‰è£… Windows æ—¶ä½¿ç”¨çš„ ISO æ–‡ä»¶åªèƒ½ä»è¿™ä¸ªé¡µé¢ç”Ÿæˆçš„é“¾æ¥ä¸‹è½½ï¼Œå¦åˆ™ Windows ç‰ˆæœ¬å¯¹ä¸ä¸Šï¼Œåˆ°åé¢ä½¿ç”¨ AME Wizard çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚
æˆ‘è¸©ä¸­äº†è¿™ä¸ªå‘ï¼Œæµªè´¹äº†ä¸€ä¸ªå°æ—¶ã€‚&lt;/p>
&lt;h3 id="ç¬¬äºŒæ­¥å®‰è£…é©±åŠ¨">ç¬¬äºŒæ­¥ï¼šå®‰è£…é©±åŠ¨
&lt;/h3>&lt;p>Steam Deck ä¸Šåˆšè£…å¥½çš„ Windows ç³»ç»Ÿæ—¶æ²¡æœ‰éŸ³é¢‘è¾“å‡ºçš„ï¼ŒåŸå› æ˜¯ç¼ºå°‘ç›¸å…³é©±åŠ¨ã€‚
æ­¤æ—¶è¦æŒ‰ç…§ Steam çš„æŒ‡å— &lt;sup>&lt;a id='ref-cite8-1' href='#cite8'>[8]&lt;/a>&lt;/sup> ä¸‹è½½å¹¶å®‰è£…é‡Œé¢æä¾›çš„æ‰€æœ‰é©±åŠ¨ã€‚&lt;/p>
&lt;p>å¯æ˜¯è£…å®Œé©±åŠ¨åæˆ‘å‘ç°å±å¹•äº®åº¦çš„è°ƒèŠ‚è¿˜æ˜¯å­˜åœ¨ä¸€äº›é—®é¢˜ï¼šWindows é‡Œè°ƒæ•´äº®åº¦çš„èŒƒå›´æ¯” SteamOS çš„å°å¥½å¤šï¼Œä¸è¿‡è¿™ä¸å¤ªå½±å“æ—¥å¸¸ä½¿ç”¨ï¼Œæ‰€ä»¥æˆ‘å°±æ²¡ç®¡äº†ã€‚&lt;/p>
&lt;h3 id="ç¬¬ä¸‰æ­¥åŒç³»ç»Ÿçš„å¸¸è§é—®é¢˜">ç¬¬ä¸‰æ­¥ï¼šåŒç³»ç»Ÿçš„å¸¸è§é—®é¢˜
&lt;/h3>&lt;p>ç›®å‰é‡åˆ°ä¸¤ä¸ªï¼Œè¿™æ˜¯å®‰è£…åŒç³»ç»Ÿçš„è®¡ç®—æœºéƒ½ä¼šé‡åˆ°çš„é—®é¢˜ï¼Œå¹¶é Steam Deck ç‹¬æœ‰çš„ï¼š&lt;/p>
&lt;ol>
&lt;li>åŒç³»ç»Ÿæ—¶é—´ä¸ä¸€è‡´ï¼Œè§£å†³æ–¹æ³•å¯ä»¥å‚è€ƒ &lt;a id='ref-cite9-1' href='#cite9'>[9]&lt;/a>ï¼›&lt;/li>
&lt;li>åŒç³»ç»Ÿæ— æ³•å…±äº«è“ç‰™è®¾å¤‡ï¼Œè§£å†³æ–¹æ³•å‚è€ƒ &lt;a id='ref-cite10-1' href='#cite10'>[10]&lt;/a>ï¼›&lt;/li>
&lt;li>åœ¨ Linux å†…æ— æ³•è®¿é—®åŒç³»ç»Ÿå…±äº«ç£ç›˜ï¼Œè§£å†³æ–¹æ³•æ˜¯å…³é—­ Windows çš„å¿«é€Ÿå¯åŠ¨ï¼Œå‚è§ &lt;a id='ref-cite11-1' href='#cite11'>[11]&lt;/a>ã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="ç¬¬å››æ­¥å®‰è£…è¾…åŠ©å·¥å…·">ç¬¬å››æ­¥ï¼šå®‰è£…è¾…åŠ©å·¥å…·
&lt;/h3>&lt;p>Steam Deck Tools &lt;sup>&lt;a id='ref-cite12-1' href='#cite12'>[12]&lt;/a>&lt;/sup> æä¾›äº†æ”¹å–„åœ¨ Steam Deck ä¸Šä½¿ç”¨ Windows ä½“éªŒçš„ä¸€ç³»åˆ—å·¥å…·ï¼ŒåŒ…æ‹¬æ‰‹æŸ„æ¨¡æ‹Ÿï¼Œæ€§èƒ½ç›‘è§†å™¨ï¼ŒTDPæ§åˆ¶ç­‰ã€‚
å…¶ä¸­æ‰‹æŸ„æ¨¡æ‹Ÿï¼ˆSteam Controllerï¼‰æˆ‘è§‰å¾—æ˜¯å¿…è¦çš„ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç›¸å…³é—®é¢˜">ç›¸å…³é—®é¢˜
&lt;/h2>&lt;h3 id="steamosæ›´æ–°åå¼•å¯¼æ¶ˆå¤±">SteamOSæ›´æ–°åå¼•å¯¼æ¶ˆå¤±
&lt;/h3>&lt;p>è¿‘æ—¥æˆ‘æ›´æ–°äº† SteamOS ç‰ˆæœ¬ï¼Œæ›´æ–°å SteamOS ä»å¯åŠ¨é¡¹èœå•æ¶ˆå¤±äº†ï¼Œæœ€ç»ˆæŒ‰ç…§ &lt;a id='ref-cite13-1' href='#cite13'>[13]&lt;/a> æä¾›çš„ä¿®å¤æ–¹æ³•æˆåŠŸæ¢å¤å¯åŠ¨é¡¹ã€‚&lt;/p>
&lt;hr>
&lt;h2 id="ç›¸å…³èµ„æ–™">ç›¸å…³èµ„æ–™
&lt;/h2>&lt;h3 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™
&lt;/h3>&lt;style>
.bibliography { display: table; font-size: medium; line-height: normal; }
.bib-item { display: table-row; }
.bib-item > :first-child { display: table-cell; padding-right: .5em; font-weight: bold; text-align: right; }
.bib-item > :last-child { display: table-cell; padding-bottom: .5ex; }
&lt;/style>
&lt;div class="bibliography">&lt;div id="cite1" class="bib-item">
&lt;span>[1]&lt;/span>
&lt;span>&lt;a class="link" href="https://zh.ifixit.com/Guide/Steam&amp;#43;Deck&amp;#43;SSD&amp;#43;%E6%9B%B4%E6%8D%A2/148989" target="_blank" rel="noopener"
>Steam Deck SSD æ›´æ¢ - iFixit ç»´ä¿®æŒ‡å—&lt;/a>&lt;a href="#ref-cite1-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite2" class="bib-item">
&lt;span>[2]&lt;/span>
&lt;span>&lt;a class="link" href="https://help.steampowered.com/en/faqs/view/1b71-edf2-eb6d-2bb3" target="_blank" rel="noopener"
>Steam Support :: Steam Deck Recovery Instructions&lt;/a>&lt;a href="#ref-cite2-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite3" class="bib-item">
&lt;span>[3]&lt;/span>
&lt;span>&lt;a class="link" href="https://www.reddit.com/r/SteamDeck/comments/tkmrd4/comment/jlj3464/" target="_blank" rel="noopener"
>Recovery image not booting : r/SteamDeck&lt;/a>&lt;a href="#ref-cite3-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite4" class="bib-item">
&lt;span>[4]&lt;/span>
&lt;span>&lt;a class="link" href="https://wiki.archlinuxcn.org/wiki/Fstab" target="_blank" rel="noopener"
>fstab - Arch Linux ä¸­æ–‡ç»´åŸº&lt;/a>&lt;a href="#ref-cite4-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite5" class="bib-item">
&lt;span>[5]&lt;/span>
&lt;span>&lt;a class="link" href="https://gnu-linux.readthedocs.io/zh/latest/Chapter02/00_fstab.html" target="_blank" rel="noopener"
>å¼€æœºè‡ªåŠ¨æŒ‚è½½ç¡¬ç›˜ â€” Linux latest æ–‡æ¡£&lt;/a>&lt;a href="#ref-cite5-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite6" class="bib-item">
&lt;span>[6]&lt;/span>
&lt;span>&lt;a class="link" href="https://www.bilibili.com/video/BV1Ko4y1A71w" target="_blank" rel="noopener"
>ã€å®˜æ–¹åŒè¯­ã€‘ä½ ä¸éœ€è¦æ–°ç”µè„‘(èµåŠ©)#linusè°ˆç§‘æŠ€_å“”å“©å“”å“©_bilibili&lt;/a>&lt;a href="#ref-cite6-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite7" class="bib-item">
&lt;span>[7]&lt;/span>
&lt;span>&lt;a class="link" href="https://docs.atlasos.net/getting-started/installation/" target="_blank" rel="noopener"
>Installation - Atlas Documentation&lt;/a>&lt;a href="#ref-cite7-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite8" class="bib-item">
&lt;span>[8]&lt;/span>
&lt;span>&lt;a class="link" href="https://help.steampowered.com/en/faqs/view/6121-ECCD-D643-BAA8" target="_blank" rel="noopener"
>Steam Support :: Steam Deck - Windows Resources&lt;/a>&lt;a href="#ref-cite8-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite9" class="bib-item">
&lt;span>[9]&lt;/span>
&lt;span>&lt;a class="link" href="https://sspai.com/post/55983" target="_blank" rel="noopener"
>Linux Windows åŒç³»ç»Ÿæ—¶é—´ä¸ä¸€è‡´ - å°‘æ•°æ´¾&lt;/a>&lt;a href="#ref-cite9-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite10" class="bib-item">
&lt;span>[10]&lt;/span>
&lt;span>&lt;a class="link" href="https://blog.nanpuyue.com/2018/040.html" target="_blank" rel="noopener"
>Linux ä¸ Windows åŒç³»ç»Ÿå…±äº«è“ç‰™é¼ æ ‡ - å—æµ¦æœˆ&lt;/a>&lt;a href="#ref-cite10-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite11" class="bib-item">
&lt;span>[11]&lt;/span>
&lt;span>&lt;a class="link" href="https://www.howtohi.com/zh-CN/ultimate-guide-how-to-turn-off-fast-startup-in-windows-10-11.html" target="_blank" rel="noopener"
>ç»ˆææŒ‡å—ï¼šå¦‚ä½•åœ¨ Windows 10/11 ä¸­å…³é—­å¿«é€Ÿå¯åŠ¨ - HowToHi&lt;/a>&lt;a href="#ref-cite11-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite12" class="bib-item">
&lt;span>[12]&lt;/span>
&lt;span>&lt;a class="link" href="https://steam-deck-tools.ayufan.dev/" target="_blank" rel="noopener"
>README | (Windows) Steam Deck Tools&lt;/a>&lt;a href="#ref-cite12-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite13" class="bib-item">
&lt;span>[13]&lt;/span>
&lt;span>&lt;a class="link" href="https://www.bilibili.com/read/cv26620174/" target="_blank" rel="noopener"
>SteamdeckåŒç³»ç»Ÿç³»ç»Ÿå¼•å¯¼é€šç”¨ä¿®å¤æŒ‡å—â€”â€”ä»¥SteamOSæ›´æ–°æ‰å¼•å¯¼ä¸ºä¾‹ - å“”å“©å“”å“©&lt;/a>&lt;a href="#ref-cite13-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;/div>
&lt;h3 id="å…¶å®ƒèµ„æ–™">å…¶å®ƒèµ„æ–™
&lt;/h3>&lt;ul>
&lt;li>&lt;a class="link" href="https://store.steampowered.com/steamdeck" target="_blank" rel="noopener"
>Steam Deckâ„¢&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://store.steampowered.com/greatondeck" target="_blank" rel="noopener"
>éå¸¸é€‚åˆ Deck&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1sg411x7vS" target="_blank" rel="noopener"
>ã€çˆ±æŠ˜è…¾ã€‘SteamDeckå®Œå…¨æŠ˜è…¾æŒ‡å—_å“”å“©å“”å“©_bilibili&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/read/cv18881740" target="_blank" rel="noopener"
>Steam Deckå•ç¡¬ç›˜åŒç³»ç»Ÿ+äº’é€šæ¸¸æˆåº“è¯¦ç»†æ•™ç¨‹ - å“”å“©å“”å“©&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/read/cv20244884" target="_blank" rel="noopener"
>Steam deckåŒç³»ç»Ÿç–‘éš¾æ‚ç—‡è®°å½•å¸– - å“”å“©å“”å“©&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/video/BV1GP4y197ys" target="_blank" rel="noopener"
>Steam Deckä¸Šæ‰‹æŠ˜è…¾æŒ‡å— æ¢ç¡¬ç›˜ åŒç³»ç»Ÿ å†…å­˜å¡äº’é€šæ–°æ‰‹æ•™ç¨‹_å“”å“©å“”å“©_bilibili&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/read/cv19756668" target="_blank" rel="noopener"
>SteamDeckåŒç³»ç»Ÿå¯åŠ¨é¡¹ä¸€é”®æ›¿æ¢ä¸ºRefind - å“”å“©å“”å“©&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://www.bilibili.com/read/cv19037197" target="_blank" rel="noopener"
>SteamDeck Windows å’Œ Steamos å…±äº«æ¸¸æˆåº“æ•™ç¨‹ - å“”å“©å“”å“©&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>å…³äºå®éªŒè®°å½•çš„ç®¡ç†</title><link>https://blog.furffisite.link/p/experiment-record-management/</link><pubDate>Tue, 26 Dec 2023 18:07:49 +0800</pubDate><guid>https://blog.furffisite.link/p/experiment-record-management/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20240101025358-39157c666fdfaedad07996f1f3e91a67-39937.jpg" alt="Featured image of post å…³äºå®éªŒè®°å½•çš„ç®¡ç†" />&lt;p>æˆ‘å› ä¸ºä¹‹å‰åšå®éªŒæ—¶ä¹ æƒ¯ä¸å¥½ï¼ˆä¸€è¾¹è®­ç»ƒä¸€è¾¹æ”¹ä»£ç ï¼‰ï¼Œæ²¡æœ‰ä¿ç•™å¥½å®éªŒè®°å½•æƒ¹å‡ºäº†ä¸€äº›éº»çƒ¦ï¼ˆä¸çŸ¥é“å‘å¸ƒçš„æ¨¡å‹å…·ä½“æ˜¯æ€ä¹ˆè®­ç»ƒå‡ºæ¥çš„ï¼‰ï¼Œè§‰å¾—æœ‰å¿…è¦ç¡®ç«‹å‡ æ¡åŸåˆ™é˜²æ­¢ä»¥åå†å‡ºç°ç±»ä¼¼çš„æƒ…å†µã€‚
ä¸ºäº†ç¡®ä¿æ¯æ¬¡å®éªŒéƒ½æ˜¯å®Œå…¨å¯å¤ç°çš„ï¼Œä»¥ä¸‹æ˜¯æˆ‘çš„æƒ³æ³•ï¼š&lt;/p>
&lt;ol>
&lt;li>ä½¿ç”¨ git ç®¡ç†å®éªŒä»£ç ç‰ˆæœ¬ï¼Œåœ¨ç¨‹åºå†…å¼ºåˆ¶è¦æ±‚é•¿æ—¶é—´è®­ç»ƒæ¨¡å‹å‰ commit æ‰€æœ‰ä¿®æ”¹ï¼Œå¹¶ä¸”åœ¨ commit è®°å½•å†…å†™æ¸…æ¥šæ¯æ¬¡åšå‡ºçš„æ›´æ”¹ï¼›&lt;/li>
&lt;li>ä½¿ç”¨&lt;code>logging&lt;/code>æ¨¡å—æ›¿ä»£&lt;code>print&lt;/code>ï¼Œä»¥å°†å¸¦æ—¶é—´æˆ³çš„è®°å½•åŒæ—¶è¾“å‡ºåˆ°æ§åˆ¶å°å’Œ log æ–‡ä»¶ï¼›&lt;/li>
&lt;li>åœ¨ç¨‹åºè¿è¡Œå‰è¾“å‡ºæ‰€æœ‰è¶…å‚æ•°ä¸è¿è¡Œæ—¶é—´ï¼›&lt;/li>
&lt;li>åœ¨è®­ç»ƒæ—¶ä½¿ç”¨è¿è¡Œæ—¶é—´ä¸ commit id çš„å‰å‡ ä½åˆ›å»ºæ–‡ä»¶å¤¹ï¼Œå¹¶å°†æ­¤æ¬¡è®­ç»ƒäº§ç”Ÿçš„æ‰€æœ‰æ–‡ä»¶éƒ½ç»„ç»‡åˆ°è¿™ä¸ªæ–‡ä»¶å¤¹å†…ï¼Œæµ‹è¯•è®°å½•å¯ä»¥å’Œæ¨¡å‹æ”¾åœ¨ä¸€èµ·ã€‚&lt;/li>
&lt;li>å›ºå®šå¹¶è¾“å‡º random seedï¼›&lt;/li>
&lt;li>ä½¿ç”¨æœåŠ¡å™¨è®­ç»ƒæ—¶åº”åŠæ—¶ä¸‹è½½è®­ç»ƒè®°å½•ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="å®ç°">å®ç°
&lt;/h2>&lt;p>åŸæœ¬æƒ³è‡ªå·±å®ç°çš„ï¼Œè¿™ä¸ªæ—¶å€™å‘ç°äº† meta å¼€æºçš„ &lt;a class="link" href="https://hydra.cc/" target="_blank" rel="noopener"
>Hydra&lt;/a> åº“ï¼Œä¼¼ä¹å®ƒæä¾›çš„åŠŸèƒ½èƒ½å®ç°å…¶ä¸­å‡ ä¸ªæƒ³æ³•ã€‚&lt;/p></description></item><item><title>è€ƒç ”ç»å† - å‡†å¤‡åˆè¯•</title><link>https://blog.furffisite.link/p/kaoyan-stage1/</link><pubDate>Mon, 25 Dec 2023 11:02:45 +0800</pubDate><guid>https://blog.furffisite.link/p/kaoyan-stage1/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20231226003721-76bafcf83bb54ee4b8d8524cc179b790-e34bc.jpg" alt="Featured image of post è€ƒç ”ç»å† - å‡†å¤‡åˆè¯•" />&lt;p>æœ¬æ–‡æ—¨åœ¨å›é¡¾æˆ‘è¿™ä¸‰ä¸ªæœˆå‡†å¤‡è€ƒç ”çš„ç»å†ã€‚æ— è®ºç»“æœå¦‚ä½•ï¼Œæˆ‘æƒ³ç»™è‡ªå·±ç•™ä¸‹ä¸€ä»½å¥‹æ–—çš„è®°å½•ï¼Œå¦‚æœèƒ½å¸®åˆ°åæ¥è€…é‚£å°±æ›´å¥½äº†ã€‚&lt;/p>
&lt;h2 id="èƒŒæ™¯">èƒŒæ™¯
&lt;/h2>&lt;p>åœ¨äº”æœˆä»½çš„æ—¶å€™ï¼Œæˆ‘çŸ¥é“æˆ‘å¤„åœ¨ä¿ç ”æ’åçš„è¾¹ç¼˜ï¼Œæœ‰ä¸€å®šå¯èƒ½è·å–ä¸åˆ°æ¨å…èµ„æ ¼ï¼Œäºæ˜¯æˆ‘åœ¨å½“æ—¶è´­ä¹°äº†å‡ æœ¬å‚è€ƒä¹¦ï¼Œå¹¶ä¸”å¤ä¹ äº†ä¸€å°æ®µæ—¶é—´çš„é«˜ç­‰æ•°å­¦ã€‚
ä½†æ˜¯éšç€å¤ä»¤è¥ã€é¢„æ¨å…å’Œæ¯•ä¸šå®ä¹ ç­‰å·¥ä½œçš„æ¨è¿›ï¼Œæˆ‘åŠ¨æ‘‡äº†ï¼Œä¸€åº¦è®¤ä¸ºè‡ªå·±çœŸçš„èƒ½æˆåŠŸä¿ç ”ï¼Œå®Œå…¨å°†å¤ä¹ è€ƒç ”æŠ›ä¹‹è„‘åã€‚
ç­‰åˆ°æˆ‘ååº”è¿‡æ¥çš„æ—¶å€™ï¼Œå·²ç»æ˜¯ 2023 å¹´ 9 æœˆ 18 æ—¥ï¼Œå­¦é™¢å…¬å¸ƒæ¨å…æŒ‡æ ‡åˆ†é…æ–¹æ¡ˆçš„æ—¶å€™ï¼Œå…¶ä¸­æˆ‘çš„ä¸“ä¸šçš„æ¨å…æŒ‡æ ‡ä»…ä¸ºåŒå­¦é™¢å…¶ä½™ä¸¤ä¸ªä¸“ä¸šçš„äºŒåˆ†ä¹‹ä¸€ä¸ä¸‰åˆ†ä¹‹ä¸€ï¼ˆæ€»äººæ•°ç›¸è¿‘ï¼‰ï¼Œè¿œä½äºæˆ‘çš„é¢„æœŸã€‚
ä»¥å…¬å¸ƒçš„åé¢æ•°é‡æ¥ç®—ï¼Œæ¨å…åé¢è½®ä¸åˆ°æˆ‘ï¼Œè¿™æ—¶æˆ‘æ‰æ¸…é†’â€”â€”ä¿ç ”è¿™æ¡è·¯æˆ‘è‚¯å®šæ˜¯èµ°ä¸é€šäº†ã€‚&lt;/p>
&lt;p>è€ƒç ”æ˜¯12æœˆ23æ—¥ï¼Œå½“æ—¶å·²ç»æ˜¯9æœˆ18æ—¥ï¼Œä¹Ÿå°±æ˜¯è¯´ç•™ç»™æˆ‘çš„å¤ä¹ æ—¶é—´ä»…æœ‰ä¸‰ä¸ªæœˆï¼Œå¦‚ä½•åˆç†å®‰æ’å¤ä¹ æ—¶é—´ï¼Œæœ€å¤§åŒ–æˆ‘çš„è€ƒç ”åˆ†æ•°ï¼Œä¾¿æ˜¯æˆ‘å½“æ—¶éœ€è¦è§£å†³çš„é—®é¢˜ã€‚&lt;/p>
&lt;h2 id="è°ƒæŸ¥é˜¶æ®µ">è°ƒæŸ¥é˜¶æ®µ
&lt;/h2>&lt;h3 id="è°ƒæ•´å¿ƒæ€">è°ƒæ•´å¿ƒæ€
&lt;/h3>&lt;p>æ— æ³•ä¿ç ”çš„ä¿¡æ¯è®©å½“æ—¶çš„æˆ‘é™·å…¥äº†ç»æœ›ï¼Œæ„Ÿè§‰å·²ç»æ— è·¯å¯èµ°äº†â€”â€”å› ä¸ºåœ¨å½“æ—¶çš„æˆ‘çœ‹æ¥è€ƒç ”çœŸçš„å¥½éš¾ï¼Œè€Œæˆ‘åˆæ²¡æœ‰è¿›å…¥å·¥ä½œçš„å¿ƒç†å‡†å¤‡ï¼ˆæ›´ä½•å†µè¿˜æ˜¯åœ¨äº’è”ç½‘å¯’å†¬çš„å½“ä¸‹ï¼‰ï¼Œå‡ºå›½å¯¹å®¶é‡Œé€ æˆçš„ç»æµè´Ÿæ‹…åˆå¤ªå¤§äº†ã€‚
æˆ‘å½“æ—¶ä¸€åº¦æœ‰è¿‡è½»ç”Ÿçš„å¿µå¤´ï¼Œå¥½åœ¨æˆ‘æ²¡æœ‰ä»»ä½•å®æ–½å®ƒçš„å‹‡æ°”ï¼Œè¿™æ—¶è°ƒæ•´å¥½å¿ƒæ€ï¼Œé‡æ–°æŒ¯ä½œèµ·æ¥æ˜¯æœ€é‡è¦çš„ã€‚
åœ¨å®¶äººå’Œæœ‹å‹ä»¬çš„å¸®åŠ©ä¸‹ï¼Œæˆ‘é€æ¸çœ‹å¼€äº†ï¼Œæ„è¯†åˆ°è€ƒç ”å¯èƒ½æ²¡æœ‰æƒ³è±¡ä¸­çš„é‚£æ ·è‰°éš¾ï¼Œäºæ˜¯ç¡®ç«‹äº†è€ƒç ”çš„ç›®æ ‡ã€‚&lt;/p>
&lt;h3 id="ç¡®å®šç›®æ ‡">ç¡®å®šç›®æ ‡
&lt;/h3>&lt;p>åœ¨åŠªåŠ›å¤ä¹ çš„åŒæ—¶ï¼Œé€‰æ‹©ä¸€ä¸ªå¥½çš„ç›®æ ‡é™¢æ ¡åŒæ ·é‡è¦ï¼Œå› ä¸º 10 æœˆåˆå°±è¦æŠ¥åäº†ã€‚
åˆ«çš„è€ƒç ”åŒå­¦å¯ä»¥é€šè¿‡ä¹‹å‰å‡ ä¸ªæœˆçš„å¤ä¹ æ—¶é—´æ‰¾å‡†è‡ªå·±çš„å®šä½ï¼Œä»è€Œå†³å®šå¥½ä¸€ä¸ªåŒ¹é…è‡ªå·±æ°´å¹³çš„å­¦æ ¡ã€‚
ç›¸è¾ƒäºä»–ä»¬ï¼Œæˆ‘åªèƒ½åœ¨ä¸¤å‘¨çš„æ—¶é—´å†…ç¡®å®šä¸€ä¸ªæˆ‘é€šè¿‡ä»…ä»…ä¸‰ä¸ªæœˆçš„å¤ä¹ æ—¶é—´æœ‰è¾ƒå¤§æŠŠæ¡è€ƒä¸Šçš„å­¦æ ¡å’Œä¸“ä¸šã€‚&lt;/p>
&lt;p>é¦–å…ˆæ’é™¤æœ¬æ ¡ï¼Œç»è¿‡ä¿ç ”è¿™äº‹æˆ‘å·²ç»ä¸æƒ³åœ¨æœ¬æ ¡å¾…ç€äº†ï¼ˆæ›´ä½•å†µå­¦æ ¡æŒºçƒ­é—¨çš„â€¦â€¦ä¸å¥½è€ƒï¼‰ã€‚
åœ¨ç”¨çˆ¬è™«æŠ“å–äº†&lt;a class="link" href="https://yz.chsi.com.cn/zsml/zyfx_search.jsp" target="_blank" rel="noopener"
>ç ”æ‹›ç½‘çš„ä¸“ä¸šç›®å½•&lt;/a>å¹¶åœ¨æœ¬åœ°ç­›é€‰åï¼Œæˆ‘ç­›é€‰å‡ºäº†å‡ ä¸ªç›®æ ‡ï¼ŒåŒ…æ‹¬åŒ—äº¬é‚®ç”µå¤§å­¦ã€ä¸œå—å¤§å­¦ï¼ˆç®€ç§°ä¸œå¤§ï¼‰ç­‰ã€‚
è€ƒè™‘åˆ°æˆ‘çš„å¤ä¹ æ—¶é—´å’Œä¹‹å‰é¢„æ¨å…çš„æƒ…å†µï¼Œåœ¨ä¸å®¶äººæ²Ÿé€šã€å‚è€ƒäº†ç½‘ç»œä¸Šä¸€äº›åœ¨è¯»æˆ–æ¯•ä¸šå­¦é•¿å­¦å§çš„ç»éªŒå¸–åï¼Œæˆ‘æœ€ç»ˆé€‰æ‹©äº†ç›¸å¯¹æ¯”è¾ƒå¥½è€ƒçš„ä¸œå—å¤§å­¦-è’™çº³å£«å¤§å­¦è‹å·è”åˆç ”ç©¶ç”Ÿé™¢ï¼ˆç®€ç§°ä¸œè’™ï¼‰ã€‚&lt;/p>
&lt;p>å¥½è€ƒæ˜¯æœ‰åŸå› çš„â€”â€”å› ä¸ºæ˜¯ä¸­å¤–åˆåŠçš„å­¦é™¢ï¼Œå­¦è´¹ç›¸è¾ƒäºåˆ«çš„å­¦æ ¡å’Œå­¦é™¢è´µå¾ˆå¤š&lt;sup>&lt;a id='ref-cite1-1' href='#cite1'>[1]&lt;/a>&lt;/sup>ï¼Œæ‰€ä»¥ç«äº‰å¯¹æ‰‹ç›¸å¯¹è¾ƒå°‘ï¼Œå¾€å¹´çš„åˆ†æ•°çº¿ä½&lt;sup>&lt;a id='ref-cite2-1' href='#cite2'>[2]&lt;/a>&lt;/sup>ï¼ŒæŠ¥è€ƒ-å½•å–æ¯”ä¹Ÿè¾ƒä½&lt;sup>&lt;a id='ref-cite3-1' href='#cite3'>[3]&lt;/a>&lt;/sup>ã€‚&lt;/p>
&lt;h3 id="åˆ†æç°çŠ¶">åˆ†æç°çŠ¶
&lt;/h3>&lt;p>ä¸œè’™ç”µå­ä¿¡æ¯ä¸“ç¡•çš„è€ƒè¯•ç§‘ç›®æ˜¯ 101 æ€æƒ³æ”¿æ²»ç†è®ºã€201 è‹±è¯­ï¼ˆä¸€ï¼‰ã€301 æ•°å­¦ï¼ˆä¸€ï¼‰å’Œ 935 è®¡ç®—æœºä¸“ä¸šåŸºç¡€ï¼ˆä¸œå—å¤§å­¦è‡ªå‘½é¢˜ï¼‰ã€‚
935çš„è€ƒçº²ä¼šåœ¨ä¸œå¤§è®¡ç®—æœºå­¦é™¢å®˜ç½‘å‘å¸ƒ&lt;sup>&lt;a id='ref-cite4-1' href='#cite4'>[4]&lt;/a>&lt;/sup>ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç»„æˆåŸç†ã€æ•°æ®ç»“æ„ï¼Œå…¶ä¸­æ“ä½œç³»ç»Ÿå æ¯”æœ€å¤§ã€‚&lt;/p>
&lt;p>çŸ¥é“äº†è¦è€ƒä»€ä¹ˆï¼Œæ¥ä¸‹æ¥å°±è¦åˆ†æç°çŠ¶äº†ï¼Œä¾æ­¤åˆ†é…å¤ä¹ æ—¶é—´ã€‚&lt;/p>
&lt;p>æˆ‘å½“æ—¶çš„çŠ¶å†µæ˜¯ï¼šé«˜æ•°åªçœ‹å®Œæé™å’Œä¸€å…ƒå‡½æ•°çš„å¾®åˆ†å­¦ï¼Œå…¶ä½™å­¦ç§‘å®Œå…¨æ²¡å¤ä¹ ã€‚
æˆ‘çš„ä¼˜åŠ¿æ˜¯è‹±è¯­ä¸é”™ï¼šå…­çº§åˆ†æ•° 605ï¼Œè‹±è¯­ä¸€çœŸé¢˜çš„é€‰æ‹©é¢˜å¤§å¤šèƒ½åœ¨ä¸€ä¸ªå°æ—¶å†…åšå®Œï¼Œä¸”æ‰£åˆ†åœ¨ 8 åˆ†ä»¥å†…ï¼Œæ‰€ä»¥å‡ ä¹ä¸ç”¨å¤ªå¤šæ—¶é—´å¤ä¹ è‹±è¯­ã€‚
935 è¦è€ƒçš„ä¸‰é—¨æˆ‘æŒæ¡çš„ä¹Ÿä¸é”™ï¼Œåªéœ€è¦å›é¡¾ä¸€ä¸‹çŸ¥è¯†ç‚¹ï¼Œåšä¸€äº›é¢˜å³å¯ã€‚
æˆ‘çš„åŠ£åŠ¿æ˜¯æˆ‘èƒŒä¹¦å¾ˆéš¾èƒŒä¸‹æ¥ï¼Œå› æ­¤ä»¥èƒŒä¹¦ä¸ºä¸»çš„æ”¿æ²»äºæˆ‘è€Œè¨€è¾ƒä¸ºå›°éš¾ã€‚&lt;/p>
&lt;h2 id="å¤ä¹ ">å¤ä¹ 
&lt;/h2>&lt;p>æˆ‘çš„åŸºç¡€å¤ä¹ é˜¶æ®µå¤§æ¦‚æ˜¯ 9 æœˆ 20 æ—¥- 11 æœˆä¸­æ—¬ï¼Œå¤§çº¦ä¸¤ä¸ªæœˆæ—¶é—´ã€‚å› ä¸ºå¤ä¹ çš„æ—¶é—´æœ‰é™ï¼Œå„ç§‘çš„å¤ä¹ æ˜¯åŒæ—¶è¿›è¡Œçš„ã€‚
å¼ºåŒ–å’Œå†²åˆºé˜¶æ®µæ˜¯ 11 æœˆä¸­æ—¬ä¸€ç›´åˆ°è€ƒè¯•å‰ã€‚&lt;/p>
&lt;h3 id="æ•°å­¦ä¸€">æ•°å­¦ï¼ˆä¸€ï¼‰
&lt;/h3>&lt;p>æ•°å­¦ä¸€åˆ†ä¸ºä¸‰ä¸ªå­ç§‘ç›®ï¼šé«˜ç­‰æ•°å­¦ã€çº¿æ€§ä»£æ•°ã€æ¦‚ç‡è®ºä¸æ•°ç†ç»Ÿè®¡ï¼Œå æ¯”æœ€å¤§çš„æ˜¯é«˜ç­‰æ•°å­¦ï¼Œå› æ­¤åœ¨å¤ä¹ æ•°å­¦æ—¶è¦ç€é‡å‡†å¤‡é«˜ç­‰æ•°å­¦ã€‚&lt;/p>
&lt;p>åœ¨åŒå­¦çš„æ¨èä¸‹ï¼Œæˆ‘é«˜æ•°éƒ¨åˆ†è·Ÿçš„æ˜¯å¼ å®‡çš„è¯¾ï¼Œå¼ å®‡çš„ä¼˜ç‚¹æ˜¯åœ¨åŸºç¡€é˜¶æ®µè®²çš„å¾ˆå…¨é¢ï¼Œä¹Ÿä¼šé¡ºå¸¦ç€è®²ä¸€äº›æŠ€å·§ï¼Œé€‚åˆæˆ‘è¿™ç§æ—¶é—´ç´§å¼ çš„äººï¼›çº¿æ€§ä»£æ•°éƒ¨åˆ†æœ€å¼€å§‹è·Ÿçš„æ˜¯ææ°¸ä¹ï¼Œä½†æ˜¯æ²¡å¬ä¸‹å»ï¼Œåæ¥å°±è½¬æ±¤å®¶å‡¤äº†ï¼›æ¦‚ç‡è®ºéƒ¨åˆ†æ²¡æœ‰çœ‹è¯¾ï¼Œåªæ˜¯çœ‹ä¹¦å›å¿†è‡ªå·±å¤§ä¸€å­¦çš„ä¸œè¥¿ã€‚åœ¨çœ‹è¯¾çš„åŒæ—¶ï¼Œåšé¢˜å·©å›ºä¹Ÿå¾ˆé‡è¦ï¼Œæˆ‘çš„èŠ‚å¥æ˜¯çœ‹å®Œä¸€ç« çš„è¯¾å°±æŠŠã€Šå¼ å®‡ 1000 é¢˜ã€‹å¯¹åº”çš„ç« èŠ‚çš„ Aã€Bã€C éƒ¨åˆ†åšå®Œï¼ŒC éƒ¨åˆ†çš„é¢˜åšä¸å‡ºæ¥çš„æš‚æ—¶ä¹Ÿä¸ç”¨æ·±ç©¶ã€‚&lt;/p>
&lt;p>åœ¨å¼ºåŒ–é˜¶æ®µä¸»è¦å†™ä¹‹å‰ä¸ä¼šå†™çš„C ç»„é¢˜ï¼ŒC ç»„é¢˜åšå®Œäº†å°±åšçœŸé¢˜ï¼ŒåŒæ—¶çœ‹é‡ç‚¹/å¸¸è€ƒçŸ¥è¯†ç‚¹çš„å¼ºåŒ–è¯¾ç¨‹ï¼ˆæ¥ä¸åŠå…¨çœ‹å®Œäº†ï¼‰ï¼Œä¾‹å¦‚é«˜ç­‰æ•°å­¦çš„ä¸­å€¼å®šç†ã€æ— ç©·çº§æ•°ã€çº¿æ€§ä»£æ•°çš„äºŒæ¬¡å‹ç­‰ã€‚&lt;/p>
&lt;p>å†²åˆºé˜¶æ®µæ¥ç€åšçœŸé¢˜ï¼Œä»¥åŠå¼ å®‡çš„ 8 å¥—é¢„æµ‹å·å’Œ 4 å¥—ç»ˆæé¢„æµ‹å·ã€‚&lt;/p>
&lt;ul>
&lt;li>å‚è€ƒä¹¦ç›®ï¼šå¼ å®‡åŸºç¡€ 30 è®²ã€å¼ å®‡ 1000 é¢˜ã€æ•°å­¦ä¸€çœŸé¢˜ã€å¼ å®‡ 8 å¥—é¢„æµ‹å·ã€å¼ å®‡ 4 å¥—ç»ˆæé¢„æµ‹å·&lt;/li>
&lt;/ul>
&lt;h3 id="è‹±è¯­ä¸€">è‹±è¯­ï¼ˆä¸€ï¼‰
&lt;/h3>&lt;p>å¦‚ä¸Šæ–‡æ‰€è¿°ï¼Œæˆ‘åªè¦åšçœŸé¢˜çš„é€‰æ‹©é¢˜å°±å¯ä»¥äº†ï¼Œå¹³æ—¶å¯ä»¥å¸¦ç€ç”¨ app èƒŒè€ƒç ”è¯æ±‡ã€‚
å†²åˆºé˜¶æ®µå†è¡¥ä¸€è¡¥å°ä½œæ–‡çš„æ ¼å¼å’Œå¤§ä½œæ–‡çš„å†™æ³•ã€‚&lt;/p>
&lt;ul>
&lt;li>å‚è€ƒä¹¦ç›®ï¼šè‹±è¯­ä¸€çœŸé¢˜é›†&lt;/li>
&lt;/ul>
&lt;h3 id="è®¡ç®—æœºä¸“ä¸šåŸºç¡€è‡ªå‘½é¢˜">è®¡ç®—æœºä¸“ä¸šåŸºç¡€ï¼ˆè‡ªå‘½é¢˜ï¼‰
&lt;/h3>&lt;p>935 æ˜¯ä¸œå—å¤§å­¦çš„è‡ªå‘½é¢˜ç§‘ç›®ï¼ŒåŒ…æ‹¬æ“ä½œç³»ç»Ÿã€è®¡ç®—æœºç»„æˆåŸç†ã€æ•°æ®ç»“æ„ä¸‰ä¸ªéƒ¨åˆ†ã€‚
å‡†å¤‡è‡ªå‘½é¢˜ç§‘ç›®çš„éš¾ç‚¹æ˜¯èµ„æ–™å¾ˆå°‘ï¼Œå¹¶ä¸”ç›¸æ¯”äºç»Ÿè€ƒç§‘ç›®ï¼Œè€å¸ˆå‡ºé¢˜ä¹Ÿæ¯”è¾ƒéšå¿ƒã€‚
æ ¹æ®å¾€å¹´ä¸Šå²¸çš„å­¦é•¿å­¦å§çš„ç»éªŒå¸–ï¼Œå¤ä¹  935 å¯ä»¥çœ‹ 408 çš„ç›¸å…³èµ„æ–™ï¼Œè¯¾ä¹Ÿå¯ä»¥ç›´æ¥è·Ÿç‹é“çš„ 408 è¯¾ç¨‹ã€‚
å› æ­¤æˆ‘å¤ä¹ ç”¨çš„èµ„æ–™ä¸»è¦æ˜¯ç‹é“è€ƒç ”çš„ç³»åˆ—ä¹¦ç±ã€‚&lt;/p>
&lt;p>ä¸œå—å¤§å­¦ç»™å‡ºäº†ä¸‹é¢å››æœ¬ä¹¦ä½œä¸ºå‚è€ƒä¹¦ç›®ï¼š&lt;/p>
&lt;ol>
&lt;li>ã€Šæ“ä½œç³»ç»Ÿæ¦‚å¿µ(ç¬¬7ç‰ˆ)ã€‹(ç¿»è¯‘ç‰ˆ) è¥¿å°”ä¼¯æŸ¥èŒ¨(Abraham Silberschatz)ã€éƒ‘æ‰£æ ¹ç­‰ï¼Œé«˜ç­‰æ•™è‚²å‡ºç‰ˆç¤¾ 2010-01&lt;/li>
&lt;li>ã€Šæ•°æ®ç»“æ„(Cè¯­è¨€ç‰ˆ)ã€‹ ä½œè€…ï¼šä¸¥è”šæ•ã€å´ä¼Ÿæ°‘ å‡ºç‰ˆç¤¾ï¼šæ¸…åå¤§å­¦ æ—¶é—´ï¼š2011-07-01&lt;/li>
&lt;li>ã€Šæ•°æ®ç»“æ„(ç”¨é¢å‘å¯¹è±¡æ–¹æ³•ä¸C++è¯­è¨€æè¿°ï¼Œç¬¬2ç‰ˆ)ã€‹ä½œè€…ï¼šæ®·äººæ˜† å‡ºç‰ˆç¤¾ï¼šæ¸…åå¤§å­¦ æ—¶é—´ï¼š2014-9-23&lt;/li>
&lt;li>ã€Šè®¡ç®—æœºç»„æˆåŸç†ï¼ˆç¬¬2ç‰ˆï¼‰ã€‹ï¼Œä»»å›½æ—ï¼ŒISBN 978-7-121-33462-7ï¼Œ2018.1&lt;/li>
&lt;/ol>
&lt;p>å‰ä¸‰æœ¬æˆ‘è§‰å¾—ç”¨å¤„ä¸å¤§ï¼Œè€Œè®¡ç®—æœºç»„æˆåŸç†è¿™éƒ¨åˆ†æ®è¯´æ˜¯ç”±ä»»å›½æ—è€å¸ˆäº²è‡ªå‘½é¢˜ï¼Œæ‰€ä»¥ä»–å†™çš„æ•™ææ˜¯å¾ˆæœ‰å¿…è¦çœ‹çš„ã€‚&lt;/p>
&lt;p>åˆ°äº†å¼ºåŒ–å’Œå†²åˆºé˜¶æ®µæˆ‘åšäº† 408 çš„çœŸé¢˜ï¼Œè‡³äº 935 çš„çœŸé¢˜æˆ‘æ²¡æ‰¾åˆ°èµ„æºå°±æ²¡åšã€‚&lt;/p>
&lt;ul>
&lt;li>å‚è€ƒä¹¦ç›®ï¼šç‹é“è€ƒç ”ç³»åˆ— æ“ä½œç³»ç»Ÿ/æ•°æ®ç»“æ„ã€è®¡ç®—æœºç»„æˆåŸç†ï¼ˆä»»å›½æ— è‘—ï¼‰ã€408 çœŸé¢˜ã€935 çœŸé¢˜ï¼ˆå¦‚æœèƒ½æ‰¾åˆ°çš„è¯ï¼‰&lt;/li>
&lt;li>è§†é¢‘è¯¾ï¼š
&lt;a class="link" href="https://www.bilibili.com/video/BV1ps4y1d73V" target="_blank" rel="noopener">
&lt;span style="display:inline-block; vertical-align:top; height:2em;">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-device-tv" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
&lt;path stroke="none" d="M0 0h24v24H0z" fill="none"/>
&lt;rect x="3" y="7" width="18" height="13" rx="2" />
&lt;polyline points="16 3 12 7 8 3" />
&lt;/svg>
&lt;/span>ç‹é“è®¡ç®—æœºè€ƒç ” è®¡ç®—æœºç»„æˆåŸç†&lt;/a>
ã€
&lt;a class="link" href="https://www.bilibili.com/video/BV1YE411D7nH" target="_blank" rel="noopener">
&lt;span style="display:inline-block; vertical-align:top; height:2em;">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-device-tv" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
&lt;path stroke="none" d="M0 0h24v24H0z" fill="none"/>
&lt;rect x="3" y="7" width="18" height="13" rx="2" />
&lt;polyline points="16 3 12 7 8 3" />
&lt;/svg>
&lt;/span>ç‹é“è®¡ç®—æœºè€ƒç ” æ“ä½œç³»ç»Ÿ&lt;/a>
ã€
&lt;a class="link" href="https://www.bilibili.com/video/BV1b7411N798" target="_blank" rel="noopener">
&lt;span style="display:inline-block; vertical-align:top; height:2em;">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-device-tv" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
&lt;path stroke="none" d="M0 0h24v24H0z" fill="none"/>
&lt;rect x="3" y="7" width="18" height="13" rx="2" />
&lt;polyline points="16 3 12 7 8 3" />
&lt;/svg>
&lt;/span>ç‹é“è®¡ç®—æœºè€ƒç ” æ•°æ®ç»“æ„&lt;/a>
&lt;/li>
&lt;/ul>
&lt;h3 id="æ€æƒ³æ”¿æ²»ç†è®º">æ€æƒ³æ”¿æ²»ç†è®º
&lt;/h3>&lt;p>æ”¿æ²»è¿™é—¨è¯¾æˆ‘è·Ÿçš„æ˜¯å¾æ¶›çš„è¯¾ï¼Œåœ¨åŸºç¡€é˜¶æ®µä¸€è¾¹çœ‹è¯¾ä¸€è¾¹åˆ·é€‰æ‹©é¢˜ã€‚&lt;/p>
&lt;p>åˆ°äº†å†²åˆºé˜¶æ®µï¼Œç­‰è‚–å…«å‡ºæ¥å°±å†™è‚–å…«çš„é€‰æ‹©é¢˜ï¼Œè‚–å››å‡ºæ¥åç‹‚èƒŒå®¢è§‚é¢˜ï¼Œä»Šå¹´è‚–ç§€è£è€å¸ˆå‡ ä¹å…¨æŠ¼ä¸­äº†ï¼ˆè€ƒå‰è¿˜ä¸ä¿¡ï¼Œæ²¡æƒ³åˆ°è‚–è€å¸ˆçœŸçš„è¿™ä¹ˆå‰å®³ï¼‰ã€‚&lt;/p>
&lt;ul>
&lt;li>å‚è€ƒä¹¦ç›®ï¼šè€ƒç ”æ”¿æ²»æ ¸å¿ƒè€ƒæ¡ˆï¼ˆå¾æ¶›ï¼‰ã€è‚– 1000ã€è‚–å…«ã€è‚–å››&lt;/li>
&lt;/ul>
&lt;h2 id="ç›¸å…³èµ„æ–™">ç›¸å…³èµ„æ–™
&lt;/h2>&lt;style>
.bibliography { display: table; font-size: medium; line-height: normal; }
.bib-item { display: table-row; }
.bib-item > :first-child { display: table-cell; padding-right: .5em; font-weight: bold; text-align: right; }
.bib-item > :last-child { display: table-cell; padding-bottom: .5ex; }
&lt;/style>
&lt;div class="bibliography">&lt;div id="cite1" class="bib-item">
&lt;span>[1]&lt;/span>
&lt;span>&lt;a class="link" href="https://yzb.seu.edu.cn/2023/0921/c6679a466344/page.htm" target="_blank" rel="noopener"
>ä¸œå¤§ç ”æ‹›ç½‘ - ä¸œå—å¤§å­¦â€”è’™çº³å£«å¤§å­¦è‹å·è”åˆç ”ç©¶ç”Ÿé™¢2024å¹´ç¡•å£«ç ”ç©¶ç”Ÿæ‹›ç”Ÿç®€ç« &lt;/a>&lt;a href="#ref-cite1-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite2" class="bib-item">
&lt;span>[2]&lt;/span>
&lt;span>&lt;a class="link" href="https://yzb.seu.edu.cn/2023/0726/c6674a455893/page.htm" target="_blank" rel="noopener"
>ä¸œå¤§ç ”æ‹›ç½‘ - 2023å¹´ä¸œå—å¤§å­¦å„é™¢ç³»æ‰€å¤è¯•åˆ†æ•°çº¿&lt;/a>&lt;a href="#ref-cite2-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite3" class="bib-item">
&lt;span>[3]&lt;/span>
&lt;span>&lt;a class="link" href="https://yzb.seu.edu.cn/2023/0726/c6675a455894/page.htm" target="_blank" rel="noopener"
>ä¸œå¤§ç ”æ‹›ç½‘ - 2023å¹´ç¡•å£«ç ”ç©¶ç”Ÿè€ƒè¯•å½•å–æƒ…å†µæ±‡æ€»&lt;/a>&lt;a href="#ref-cite3-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite4" class="bib-item">
&lt;span>[4]&lt;/span>
&lt;span>&lt;a class="link" href="https://cse.seu.edu.cn/2023/0913/c24628a464355/page.psp" target="_blank" rel="noopener"
>ä¸œå—å¤§å­¦è®¡ç®—æœºç§‘å­¦ä¸å·¥ç¨‹å­¦é™¢ - 2024å¹´è®¡ç®—æœºç§‘å­¦ä¸å·¥ç¨‹å­¦é™¢ç¡•å£«ç ”ç©¶ç”Ÿå…¥å­¦è€ƒè¯•930ã€935è€ƒè¯•å¤§çº²&lt;/a>&lt;a href="#ref-cite4-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;/div></description></item><item><title>ã€RLå­¦ä¹ ç¬”è®°ã€‘æ·±åº¦Qå­¦ä¹ ç®—æ³•ä¸ç»éªŒå›æ”¾</title><link>https://blog.furffisite.link/p/deep-q-learning/</link><pubDate>Tue, 22 Aug 2023 10:51:10 +0800</pubDate><guid>https://blog.furffisite.link/p/deep-q-learning/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20230822110113-5ef18ab6cfb63d5a730bbd8e077231e7-6ba69.jpg" alt="Featured image of post ã€RLå­¦ä¹ ç¬”è®°ã€‘æ·±åº¦Qå­¦ä¹ ç®—æ³•ä¸ç»éªŒå›æ”¾" />&lt;h2 id="æ·±åº¦qå­¦ä¹ ç®—æ³•">æ·±åº¦Qå­¦ä¹ ç®—æ³•
&lt;/h2>&lt;h3 id="ç†è®º">ç†è®º
&lt;/h3>&lt;p>æ·±åº¦Qå­¦ä¹ ç®—æ³•ï¼ˆDeep Q-Learning Algorithmï¼‰æ˜¯å°† Q è¡¨æ ¼æ›¿æ¢ä¸ºç¥ç»ç½‘ç»œçš„ Q å­¦ä¹ ç®—æ³•ï¼Œç”± DeepMind çš„ Mnih et al. &lt;sup>&lt;a id='ref-cite1-1' href='#cite1'>[1]&lt;/a>&lt;/sup>&lt;sup>&lt;a id='ref-cite2-1' href='#cite2'>[2]&lt;/a>&lt;/sup>æå‡ºã€‚
Qè¡¨æ ¼æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªå‡½æ•° $f: S\times A \rightarrow \mathbb{R}$ï¼Œæˆ‘ä»¬è‡ªç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ç¥ç»ç½‘ç»œæ„é€ è¿™ä¸ªå‡½æ•°ï¼Œè®©å®ƒå¯ä»¥å¤„ç†è¿ç»­çš„çŠ¶æ€å’ŒåŠ¨ä½œã€‚æ­¤å¤–ï¼Œä½¿ç”¨ç¥ç»ç½‘ç»œè¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼šæˆ‘ä»¬å¯ä»¥å‘ç¥ç»ç½‘ç»œè¾“å…¥å®ä¾‹ä¿¡æ¯ $m\in M$ ï¼Œä½¿ä¹‹å¯ä»¥è·¨å®ä¾‹å­¦ä¹ å‡½æ•° $f: M\times S\times A\rightarrow \mathbb{R}$ ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒAgentå¯ä»¥å°†å…¶åœ¨å®ä¾‹ $m_1,&lt;del>m_2,&lt;/del>\ldots~m_n$ä¸Š å­¦ä¹ åˆ°çš„ç»éªŒè¿ç§»åˆ°æœªæ›¾è§è¿‡çš„å®ä¾‹ $m_{n+1}$ ä¸Šï¼Œå¢å¼ºæ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ï¼Œå‡å°‘å…¶æ¢ç´¢æ–°å®ä¾‹æ‰€éœ€çš„æ—¶é—´ã€‚&lt;/p>
&lt;p>ç½‘ç»œæ›´æ–°æ–¹ç¨‹çš„è®¾è®¡
ï¼ˆä»¥ &lt;a class="link" href="https://en.wikipedia.org/wiki/Bellman_equation" target="_blank" rel="noopener"
>Bellman æ–¹ç¨‹&lt;/a> ä¸ºåŸºç¡€ï¼‰ï¼š
$$Q(s_t, a_t) \leftarrow (1-\eta) Q(s_t, a_t) + \eta(\gamma\max_{j\in A} Q(s_{t+1}, j) + r_t)$$&lt;/p>
&lt;p>æ±‚æ›´æ–°å‰ä¸æ›´æ–°åçš„å·®åˆ†ï¼š
$$\Delta Q(s_t, a_t) = -\eta Q(s_t, a_t) + \eta(\gamma\max_{j\in A} Q(s_{t+1},j) + r_t)$$&lt;/p>
&lt;p>å³ï¼š
$$\Delta Q(s_t, a_t) = \eta(\gamma\max_{j\in A} Q(s_{t+1},j) + r_t - Q(s_t, a_t))$$&lt;/p>
&lt;p>åœ¨ç†æƒ³æƒ…å†µä¸‹å……åˆ†è®­ç»ƒæ—¶ï¼Œåº”å½“æœ‰
$$\lim_{t\rightarrow \infty}\Delta Q(s_t, a_t) = 0$$&lt;/p>
&lt;p>ä¹Ÿå°±æ˜¯è¯´ï¼Œè®­ç»ƒçš„ç›®æ ‡åº”å½“æ˜¯æœ€å°åŒ– $\Delta Q(s_t, a_t)$ï¼Œå³ç›®æ ‡å‡½æ•°ä¸ºï¼š
$$L(\theta) = \mathrm{MSE}(Q(s_t, a_t),~\gamma\max_{j\in A} Q(s_{t+1},j) + r_t)$$
å…¶ä¸­çš„ $\mathrm{MSE}$ ä¹Ÿå¯ä»¥æ›¿æ¢ä¸ºå…¶å®ƒçš„æŸå¤±å‡½æ•°ã€‚&lt;/p>
&lt;h3 id="å®ç°">å®ç°
&lt;/h3>&lt;p>ä¸‹é¢ä»¥&lt;a class="link" href="https://gymnasium.farama.org/environments/classic_control/cart_pole/" target="_blank" rel="noopener"
>CartPole-v1ç¯å¢ƒ&lt;/a>ä¸ºä¾‹ç¼–å†™è®­ç»ƒç¨‹åºã€‚&lt;/p>
&lt;p>å¼•å…¥ç›¸å…³çš„åº“ä»¥åŠå®šä¹‰ä¸€äº›è¶…å‚æ•°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">random&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">randint&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">gymnasium&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">gym&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">torch.nn&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">nn&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">tqdm&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">tqdm&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">n_actions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">n_states&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">lr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">3e-4&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">discount&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.95&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">batch_size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">128&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">epochs&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">5000&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®šä¹‰ç¥ç»ç½‘ç»œï¼Œè¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªç®€å•çš„ä¸‰å±‚ç¥ç»ç½‘ç»œï¼Œå…¶ä¸­è¾“å‡ºå±‚æ²¡æœ‰æ·»åŠ æ¿€æ´»å‡½æ•°æ˜¯å› ä¸ºæ¿€æ´»å‡½æ•°ä¼šé™åˆ¶ç½‘ç»œçš„å€¼åŸŸè‡³ $R_{act}$ ï¼Œè®¾Qå‡½æ•°çš„å€¼åŸŸæ˜¯ $R_Q$ï¼Œ$R_Q\nsubseteq R_{act}$ æ—¶æŸå¤±å‡½æ•°éš¾ä»¥æ”¶æ•›ï¼Œå½±å“è®­ç»ƒæ•ˆæœï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Sequential&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">norm_vector&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">0.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.21&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.5&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">in_feats&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n_states&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">out_feats&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">n_actions&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hidden&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">32&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">super&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Linear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">in_feats&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hidden&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">SiLU&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Linear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hidden&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hidden&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">SiLU&lt;/span>&lt;span class="p">(),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Linear&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hidden&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">out_feats&lt;/span>&lt;span class="p">),&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">norm_vector&lt;/span> &lt;span class="c1"># å½’ä¸€åŒ–&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">super&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">forward&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">y&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®šä¹‰ç½‘ç»œã€ä¼˜åŒ–å™¨ä¸æŸå¤±å‡½æ•°ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">net&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Net&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">optimizer&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">optim&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">AdamW&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">parameters&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">lr&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">lr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">amsgrad&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">criterion&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">SmoothL1Loss&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># å‘ç°L1çš„æ•ˆæœæ¯”L2è¦å¥½&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è®­ç»ƒè¿‡ç¨‹ï¼ˆåŸç¯å¢ƒæä¾›çš„ reward æ’ä¸º 1ï¼Œä¿¡æ¯å¤ªå°‘ï¼Œå› æ­¤è¿™é‡Œæ”¹ç”¨è‡ªå®šä¹‰çš„ rewardï¼Œåœ¨å€¾è§’è¿‡å¤§æˆ–ä½ç½®è¿‡è¿œæ—¶è¿›è¡Œæƒ©ç½šï¼‰ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">env&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">gym&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">make&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;CartPole-v1&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reset&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">tqdm&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">epochs&lt;/span>&lt;span class="p">)):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å‰å‘ä¼ æ’­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">loss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">epsilon&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">epochs&lt;/span> &lt;span class="c1"># åŠ¨æ€è°ƒæ•´epsilon&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">_&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">batch_size&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># é€‰æ‹©action =========================&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">row&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">epsilon&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># exploration&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">action&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n_actions&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">action&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">row&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">squeeze&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argmax&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æ‰§è¡Œaction =========================&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">reward&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">terminated&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">truncated&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">action&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ä½¿ç”¨è‡ªå®šä¹‰çš„reward&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">20.0&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">terminated&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mf">0.1&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># é™åˆ¶å€¾è§’&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mf">0.3&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># é™åˆ¶ä½ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">2.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">reward&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">1.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è®¡ç®—loss =========================&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">with&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">no_grad&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">terminated&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">curr_q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">reward&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">curr_q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">discount&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">reward&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">loss&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">criterion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">row&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">action&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">curr_q&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">terminated&lt;/span> &lt;span class="ow">or&lt;/span> &lt;span class="n">truncated&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reset&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># åå‘ä¼ æ’­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">optimizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero_grad&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">(&lt;/span>&lt;span class="n">loss&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">batch_size&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">backward&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">utils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">clip_grad_value_&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">parameters&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">optimizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¿å­˜checkpoint&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">state_dict&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="s2">&amp;#34;cartpole.ckpt&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ¨ç†ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">env&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">gym&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">make&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;CartPole-v1&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">render_mode&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;human&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reset&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">with&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">no_grad&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">row&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">action&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">row&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">squeeze&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">row&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">reward&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">terminated&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">truncated&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">action&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">terminated&lt;/span> &lt;span class="ow">or&lt;/span> &lt;span class="n">truncated&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reset&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸å‡ºæ„å¤–çš„è¯ï¼Œè¿è¡Œç¨‹åºåå¯ä»¥çœ‹åˆ°ç±»ä¼¼äºè¿™æ ·çš„åŠ¨ç”»ï¼Œè¯´æ˜è¿™ä¸ªç®—æ³•ä»¥åŠæˆ‘ä»¬ç¼–å†™çš„ç¨‹åºéƒ½æ˜¯æœ‰æ•ˆçš„ï¼š
&lt;img src="https://files.furffisite.link/blogimg/20230822103327-b82b26346196384f1796cefbd4ab8948-db19f.gif"
loading="lazy"
>&lt;/p>
&lt;p>å®Œæ•´çš„ç¨‹åºè§&lt;a class="link" href="https://gist.github.com/Furffico/7ce3f2ef1dc0bc42536d2a178c5c5a92#file-cartpole-py" target="_blank" rel="noopener"
>Github Gist&lt;/a>ï¼Œæ¨¡å‹æƒé‡å¯ä»¥ä»&lt;a class="link" href="https://files.furffisite.link/files/cartpole.ckpt" target="_blank" rel="noopener"
>è¿™é‡Œ&lt;/a>ä¸‹è½½ï¼ˆè™½ç„¶è‡ªå·±è®­ç»ƒä¸€ä¸ªä¹Ÿä¸è´¹äº‹ï¼‰ã€‚&lt;/p>
&lt;h2 id="ç»éªŒå›æ”¾">ç»éªŒå›æ”¾
&lt;/h2>&lt;h3 id="ç†è®º-1">ç†è®º
&lt;/h3>&lt;p>ä¸Šé¢çš„è®­ç»ƒ Q ç½‘ç»œçš„æ–¹å¼å­˜åœ¨ä¸€äº›é—®é¢˜ï¼Œä¾‹å¦‚&lt;/p>
&lt;ol>
&lt;li>æ ·æœ¬çš„åˆ©ç”¨ç‡ä½ï¼šæ¯æ¬¡é‡‡æ ·åªå¯¹åº”ä¸€æ¬¡å‰å‘ä¼ æ’­ï¼Œé‡‡æ ·å¾—åˆ°çš„æ ·æœ¬æœªè¢«å……åˆ†åˆ©ç”¨ï¼›&lt;/li>
&lt;li>æ ·æœ¬çš„æ—¶åºå…³è”æ€§å¤§ï¼šæ¯æ¬¡é‡‡æ ·åœ¨æ—¶é—´ä¸Šæ˜¯é«˜åº¦ç›¸å…³çš„ï¼Œä¸Šä¸€æ¬¡é‡‡æ ·çš„æœ«çŠ¶æ€å°±æ˜¯ä¸‹ä¸€æ¬¡é‡‡æ ·çš„åˆå§‹çŠ¶æ€ï¼Œå½±å“è®­ç»ƒæ•ˆæœï¼›&lt;/li>
&lt;li>è®­ç»ƒé€Ÿåº¦æ…¢ï¼šæ¯æ¬¡å‰å‘ä¼ æ’­åªä¼ æ’­ä¸€ç»„æ•°æ®ï¼Œé€Ÿåº¦è¾ƒæ…¢ã€‚&lt;/li>
&lt;/ol>
&lt;p>ä¸ºäº†ç¼“è§£ä¸Šè¿°é—®é¢˜ï¼ŒMnih et al.&lt;sup>&lt;a id='ref-cite2-2' href='#cite2'>[2]&lt;/a>&lt;/sup> åœ¨æå‡ºæ·±åº¦ Q å­¦ä¹ çš„åŒæ—¶ä¹Ÿæå‡ºäº†ç»éªŒå›æ”¾ï¼ˆExperience Replayï¼‰ç­–ç•¥ã€‚
å…¶ä¸»è¦æ€æƒ³æ˜¯å°†é‡‡æ ·ä¸è®­ç»ƒåˆ†ç¦»ï¼Œé‡‡æ ·æ—¶åœ¨è®°å¿†ä¸­ä¿å­˜é‡‡æ ·çš„è®°å½•ï¼Œè®­ç»ƒæ—¶éšæœºä»è®°å¿†ä¸­é€‰å–æ ·æœ¬è¿›è¡Œå‰å‘ä¸åå‘ä¼ æ’­ï¼Œä»è€Œé™ä½æ ·æœ¬é—´çš„æ—¶åºå…³è”æ€§ä¸æé«˜æ ·æœ¬åˆ©ç”¨ç‡ã€‚&lt;/p>
&lt;p>æ³¨æ„åˆ°åœ¨ç®—æ³•ä¸­ï¼Œæ¯ä¸€æ­¥è®­ç»ƒéœ€è¦å››ä¸ªå€¼ï¼šå½“å‰çŠ¶æ€ $s_t$ã€åŠ¨ä½œ $a_t$ã€å›æŠ¥ $r_t$ ä»¥åŠé‡‡å–åŠ¨ä½œåçš„çŠ¶æ€ $s_{t+1}$ï¼Œå› æ­¤æ¯ä¸€æ¬¡é‡‡æ ·ååªéœ€è¦åœ¨è®°å¿†ä¸­ä¿å­˜è¿™å››ä¸ªå€¼ï¼Œç§°ä¸º experience å››å…ƒç»„ $e_t=(s_t,~a_t,~r_t,~s_{t+1})$ã€‚&lt;/p>
&lt;h3 id="å®ç°-1">å®ç°
&lt;/h3>&lt;p>åº“ã€è¶…å‚æ•°ã€ç½‘ç»œç»“æ„ä»¥åŠæ¨ç†éƒ¨åˆ†å‡æ²¿ç”¨ä¸Šé¢çš„ä»£ç ä»¥ä¾¿æ¯”è¾ƒï¼Œåªæ›¿æ¢è®­ç»ƒéƒ¨åˆ†ï¼Œç„¶åæ–°å¢ Experience ç±»ä¸ Memory ç±»ç”¨äºå­˜å‚¨å’Œç®¡ç†æ ·æœ¬ã€‚
ä»¥ä¸‹æ˜¯ Experience ç±»ä¸ Memory ç±»çš„ä»£ç ï¼Œè¿™é‡Œä½¿ç”¨é˜Ÿåˆ—å­˜å‚¨æœ€æ–°çš„ &lt;code>batch_size*10&lt;/code> æ¡è®°å½•ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">typing&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">NamedTuple&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">Union&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Experience&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">NamedTuple&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;experienceå››å…ƒç»„&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">state&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ndarray&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">action&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">int&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">float&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">next_state&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ndarray&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">class&lt;/span> &lt;span class="nc">Memory&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">object&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;å­˜å‚¨å›ºå®šæ•°é‡è®°å½•çš„é˜Ÿåˆ—&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="fm">__init__&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">buffer_size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buffer_size&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">buffer_size&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">Union&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">Experience&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">None&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="kc">None&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">_&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buffer_size&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">count&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">exp&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Experience&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;å¢åŠ è®°å½•ï¼Œå¦‚æœbufferå·²æ»¡åˆ™æ›¿æ¢æœ€æ—©çš„è®°å½•&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buffer_size&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">exp&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">count&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">def&lt;/span> &lt;span class="nf">sample&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">int&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s1">&amp;#39;&amp;#39;&amp;#39;éšæœºé€‰å–kä¸ªexperienceï¼Œæ‰“åŒ…å¥½è¿”å›&amp;#39;&amp;#39;&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">count&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buffer_size&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buffer&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">count&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pool&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="bp">self&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">buffer&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">exp&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">list&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">Experience&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">choices&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pool&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># type: ignore&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æ‰“åŒ…æˆ Tensor&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">states&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_numpy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">state&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">exp&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">actions&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">action&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">exp&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">rewards&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tensor&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reward&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">exp&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">next_states&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">from_numpy&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">e&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">next_state&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">e&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">exp&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">return&lt;/span> &lt;span class="n">states&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">actions&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rewards&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">next_states&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">memory&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Memory&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">batch_size&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>é‡‡æ ·çš„éƒ¨åˆ†ä¸åŸæ¥ç›¸åŒï¼Œè€Œåœ¨è®­ç»ƒçš„éƒ¨åˆ†ï¼Œå› ä¸ºè¿™é‡Œè®­ç»ƒæ—¶å‰å‘å’Œåå‘ä¼ æ’­éƒ½åªæœ‰ä¸€æ­¥ï¼Œæ‰€ä»¥åœ¨è®¡ç®—&lt;code>target_q&lt;/code>æ—¶ä¸éœ€è¦åƒåŸæ–‡æ‰€è¿°å†»ç»“æƒé‡ï¼Œåªè¦åœ¨å…¶åå¢åŠ &lt;code>.detach()&lt;/code>ç¡®ä¿åå‘ä¼ æ’­æ—¶&lt;code>target_q&lt;/code>çš„æ¢¯åº¦ä¸è¢«ä¼ æ’­å°±è¡Œã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="n">env&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">gym&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">make&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;CartPole-v1&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reset&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">batch_index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">batch_size&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">tqdm&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">epochs&lt;/span>&lt;span class="p">)):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># é‡‡æ · =========================================&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">epsilon&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">epochs&lt;/span> &lt;span class="c1"># åŠ¨æ€è°ƒæ•´epsilon&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">for&lt;/span> &lt;span class="n">_&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">batch_size&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="mi">4&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="n">batch_size&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">epsilon&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># exploration&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">action&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">randint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n_actions&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">action&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">squeeze&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argmax&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">item&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">org_state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">state&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">reward&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">terminated&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">truncated&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">action&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># ä½¿ç”¨è‡ªå®šä¹‰çš„reward&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">20.0&lt;/span> &lt;span class="k">if&lt;/span> &lt;span class="n">terminated&lt;/span> &lt;span class="k">else&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mf">0.1&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># é™åˆ¶å€¾è§’&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">1.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="nb">abs&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mf">0.3&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># é™åˆ¶ä½ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mf">2.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">reward&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">1.0&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># åŠ å…¥è®°å¿†&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">memory&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">append&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Experience&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">org_state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">action&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">reward&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">state&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">terminated&lt;/span> &lt;span class="ow">or&lt;/span> &lt;span class="n">truncated&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reset&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># è®­ç»ƒ =========================================&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">states&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">actions&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rewards&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">next_states&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">memory&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sample&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">batch_size&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å‰å‘ä¼ æ’­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">pred_q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">states&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="n">batch_index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">actions&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">target_q&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">next_states&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dim&lt;/span>&lt;span class="o">=-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">values&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">discount&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">rewards&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">detach&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">loss&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">criterion&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pred_q&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">target_q&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># åå‘ä¼ æ’­&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">optimizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zero_grad&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">loss&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">backward&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">nn&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">utils&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">clip_grad_value_&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">parameters&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">optimizer&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¿å­˜checkpoint&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">torch&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">net&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">state_dict&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="s2">&amp;#34;cartpole-replay.ckpt&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®Œæ•´ç¨‹åºè§ &lt;a class="link" href="https://gist.github.com/Furffico/7ce3f2ef1dc0bc42536d2a178c5c5a92#file-cartpole-replay-py" target="_blank" rel="noopener"
>Github Gist&lt;/a>ï¼Œè¿è¡Œç¨‹åºï¼Œå‘ç°ä¸¤ä¸ªç¨‹åºåœ¨&lt;code>batch_size=128&lt;/code>å’Œ&lt;code>epochs=5000&lt;/code>çš„æƒ…å†µä¸‹ï¼ŒåŸæ¥çš„ç¨‹åºåœ¨æˆ‘çš„è½»è–„æœ¬ä¸Šéœ€è¦è®­ç»ƒ 3 åˆ†é’Ÿï¼Œè€Œå¾—ç›Šäºæ‰¹å¤„ç†çš„è®­ç»ƒè¿‡ç¨‹ä»¥åŠé‡‡æ ·æ•°çš„å‡å°‘ï¼Œæœ‰ç»éªŒå›æ”¾çš„è®­ç»ƒåªè¦ 15 ç§’å°±èƒ½è¾¾åˆ°æ›´å¥½çš„æ•ˆæœã€‚&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/20230823103323-8b5eae7fdc273354106f2effa166ee3c-fc680.gif"
loading="lazy"
>&lt;/p>
&lt;p>ç»§ç»­å¢åŠ &lt;code>batch_size&lt;/code>æˆ–&lt;code>epochs&lt;/code>ï¼Œæ•ˆæœæ›´ä½³ã€‚ä»¥ä¸‹æ˜¯&lt;code>batch_size=256&lt;/code>ã€&lt;code>epochs=5000&lt;/code>çš„ç»“æœï¼Œè®­ç»ƒåªèŠ±äº† 28 ç§’ã€‚&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/20230823104647-a0f9ec917be67b838120250cf737771a-fcc8c.gif"
loading="lazy"
>&lt;/p>
&lt;h2 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®
&lt;/h2>&lt;style>
.bibliography { display: table; font-size: medium; line-height: normal; }
.bib-item { display: table-row; }
.bib-item > :first-child { display: table-cell; padding-right: .5em; font-weight: bold; text-align: right; }
.bib-item > :last-child { display: table-cell; padding-bottom: .5ex; }
&lt;/style>
&lt;div class="bibliography">&lt;div id="cite1" class="bib-item">
&lt;span>[1]&lt;/span>
&lt;span>Mnih, V., Kavukcuoglu, K., Silver, D., Graves, A., Antonoglou, I., Wierstra, D., &amp;amp; Riedmiller, M. (2013). Playing Atari with Deep Reinforcement Learning (arXiv:1312.5602). arXiv. &lt;a class="link" href="https://doi.org/10.48550/arXiv.1312.5602" target="_blank" rel="noopener"
>https://doi.org/10.48550/arXiv.1312.5602&lt;/a>&lt;a href="#ref-cite1-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite2" class="bib-item">
&lt;span>[2]&lt;/span>
&lt;span>Mnih, V., Kavukcuoglu, K., Silver, D., Rusu, A. A., Veness, J., Bellemare, M. G., Graves, A., Riedmiller, M., Fidjeland, A. K., Ostrovski, G., Petersen, S., Beattie, C., Sadik, A., Antonoglou, I., King, H., Kumaran, D., Wierstra, D., Legg, S., &amp;amp; Hassabis, D. (2015). Human-level control through deep reinforcement learning. Nature, 518(7540), Article 7540. &lt;a class="link" href="https://doi.org/10.1038/nature14236" target="_blank" rel="noopener"
>https://doi.org/10.1038/nature14236&lt;/a>&lt;a href="#ref-cite2-1">â¤¶&lt;/a>&lt;a href="#ref-cite2-2">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;/div></description></item><item><title>æˆ‘æŠ˜è…¾ NAS çš„å†ç¨‹ï¼ˆä¸€ï¼‰ï¼šæ ‘è“æ´¾</title><link>https://blog.furffisite.link/p/nas-1/</link><pubDate>Mon, 21 Aug 2023 14:46:05 +0800</pubDate><guid>https://blog.furffisite.link/p/nas-1/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20230821143533-8f90300e7a87f5103e8c13359c0ce9a7-a82cd.jpg" alt="Featured image of post æˆ‘æŠ˜è…¾ NAS çš„å†ç¨‹ï¼ˆä¸€ï¼‰ï¼šæ ‘è“æ´¾" />&lt;p>æˆ‘å¼€å§‹æŠ˜è…¾NASçš„åŸå› å¾ˆç®€å•â€”â€”ç¬”è®°æœ¬çš„å­˜å‚¨ç©ºé—´ä¸å¤Ÿäº†ï¼Œå½“æ—¶å›ºæ€ç¡¬ç›˜çš„ä»·æ ¼è¿œæ²¡æœ‰ç°åœ¨è¿™ä¹ˆä¾¿å®œï¼Œç§»åŠ¨ç¡¬ç›˜éšèº«æºå¸¦æœ‰ç‚¹éº»çƒ¦ï¼Œæ‰€ä»¥å°±æƒ³ç»™ç¡¬ç›˜è¿ä¸Šç½‘ï¼Œè¿™æ ·åªè¦æœ‰ç½‘å°±èƒ½è®¿é—®ã€‚&lt;/p>
&lt;p>å½“æ—¶æ˜¯2021å¹´3æœˆï¼Œæˆ‘æ‰‹è¾¹æœ‰é—²ç½®çš„æ ‘è“æ´¾ 3B+ï¼ˆ19 å¹´èŠ± ï¿¥279 ä¹°çš„ï¼‰ï¼Œäºæ˜¯ä¸€ä¸ªå¾ˆæœ´ç´ çš„æƒ³æ³•å°±å½¢æˆäº†â€”â€”ä¹°ä¸€ä¸ª SATA-USB çš„ç¡¬ç›˜ç›’è¿æ¥æœºæ¢°ç¡¬ç›˜ï¼Œå†ç»™æ ‘è“æ´¾è¿ä¸Šç½‘çº¿ï¼Œåšæˆä¸€ä¸ªç®€é™‹çš„ NASï¼ˆåæ¥æ‰çŸ¥é“æœ‰ NAS è¿™ä¸ªåå­—ï¼‰ã€‚æˆ‘åæ¥ä¹Ÿçš„ç¡®æ˜¯è¿™ä¹ˆæ“ä½œçš„ï¼Œç¡¬ç›˜ç›’ä¹°çš„ç»¿è”çš„ï¼ŒèŠ±äº†ï¿¥99ã€‚ä½¿ç”¨åå‘ç°æ ‘è“æ´¾ 3B+ çš„ USB2.0 æ¥å£å¤ªæ…¢äº†ï¼Œäºæ˜¯åŠå¹´åï¼ˆ2021.9ï¼‰ä¹°äº†å¸¦ USB3 çš„æ ‘è“æ´¾4Bï¼ŒèŠ±äº†ï¿¥578ï¼ˆå½“æ—¶è¿™ä¸ªä»·æ ¼å·²ç»å¾ˆè´µäº†ï¼Œæƒ³ä¸é€šä¸ºä»€ä¹ˆè‡ªå·±é‚£ä¸ªæ—¶å€™å†³å®šè¦ä¹°ï¼‰ï¼Œæ‰€ä»¥è¿™ä¸€å¥—ä¸ç®—ç¡¬ç›˜çš„ä»·æ ¼æ˜¯ï¿¥677ã€‚&lt;/p>
&lt;p>æˆ‘ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿæ˜¯æ ‘è“æ´¾å®˜æ–¹æä¾›çš„ &lt;a class="link" href="https://www.raspberrypi.com/software/operating-systems/" target="_blank" rel="noopener"
>Raspbian&lt;/a>ï¼Œåœ¨ä¸Šé¢å®‰è£…äº†&lt;/p>
&lt;ol>
&lt;li>sambaï¼ˆæ–‡ä»¶æœåŠ¡ï¼‰ã€&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Furffico/bililiveRecorder" target="_blank" rel="noopener"
>è‡ªå·±å†™çš„å½•æ’­å§¬&lt;/a>ã€&lt;/li>
&lt;li>&lt;a class="link" href="https://hub.docker.com/r/p3terx/aria2-pro" target="_blank" rel="noopener"
>aria2&lt;/a>ï¼ˆBT ä¸‹è½½ï¼‰ã€&lt;/li>
&lt;li>Corednsï¼ˆå› ä¸ºå­¦æ ¡çš„DNSæœåŠ¡å™¨æŒ‚è¿‡ä¸€æ¬¡ï¼‰ã€‚&lt;/li>
&lt;/ol>
&lt;p>æˆ‘è®¤ä¸ºæ ‘è“æ´¾ä½œä¸º NAS ä¸»è¦çš„ä¼˜ç‚¹æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>ç»“æ„ç®€å•ï¼Œæ’ç”µå°±èƒ½ç”¨ï¼Œä¸”æ˜“äºæºå¸¦ï¼›&lt;/li>
&lt;li>è€—ç”µé‡å¾ˆä½ï¼›&lt;/li>
&lt;li>è‡ªå¸¦ GPIO æ¥å£ï¼Œå¯ä»¥å¤–æ¥ä¸€äº› LED æˆ– LCD 1602 æ˜¾ç¤ºæœåŠ¡å™¨çŠ¶æ€ç­‰ï¼Œæˆ–æ˜¯å¢åŠ ä¼ æ„Ÿå™¨ä»¥æ”¶é›†æ•°æ®ï¼Œè¿™å¯¹äºâ€œæŠ˜è…¾ç±»â€ç©å®¶åˆæ˜¯ä¸€ä¸ªå¯æŠ˜è…¾çš„ç‚¹ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç¼ºç‚¹æ˜¯ï¼š&lt;/p>
&lt;ul>
&lt;li>ç¬¬ä¸€ï¼Œå®ƒçš„ CPU æ˜¯ 32 ä½ arm æ¶æ„çš„ï¼Œè¿™å¯¼è‡´è®¸å¤šæ²¡æœ‰æä¾› 32 ä½ arm ç‰ˆæœ¬çš„ç¨‹åºå®ƒéƒ½æ— æ³•è¿è¡Œï¼Œä¾‹å¦‚ qbittorrentã€æ•°æ®åº“ã€jellyfin ç­‰ï¼Œè€Œå—é™äºå…¶æ€§èƒ½ï¼Œä»æºä»£ç ç¼–è¯‘è¿™æ¡è·¯ä¹Ÿä¸ç®€å•ï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨ docker buildx è·¨å¹³å°ç¼–è¯‘ï¼Œä½†æ˜¯å½“æ—¶çš„æˆ‘è¿˜ä¸ä¼šæè¿™äº›ï¼‰ï¼›&lt;/li>
&lt;li>ç¬¬äºŒï¼Œæ€§èƒ½å¤ªå¼±ï¼›&lt;/li>
&lt;li>ç¬¬ä¸‰ï¼Œæ€§ä»·æ¯”ä¸é«˜ã€‚&lt;/li>
&lt;/ul>
&lt;p>ç›¸è¾ƒäºå…¶ä¼˜ç‚¹ï¼Œå®ƒçš„ç¼ºç‚¹è¿˜æ˜¯å¤ªçªå‡ºäº†ï¼Œäºæ˜¯æˆ‘åœ¨ä¸€å¹´åï¼ˆ2022.10ï¼‰æ¢äº†&lt;a class="link" href="https://blog.furffisite.link/p/nas-2" >amd64æ¶æ„çš„NAS&lt;/a>ã€‚&lt;/p></description></item><item><title>æˆ‘æŠ˜è…¾ NAS çš„å†ç¨‹ï¼ˆäºŒï¼‰ï¼šæ·˜å®å·¥æ§æœº</title><link>https://blog.furffisite.link/p/nas-2/</link><pubDate>Sun, 20 Aug 2023 10:22:44 +0800</pubDate><guid>https://blog.furffisite.link/p/nas-2/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20230821152623-0e0e9fdf80c6f1c9ffeee0f80f808e1e-60da9.jpg" alt="Featured image of post æˆ‘æŠ˜è…¾ NAS çš„å†ç¨‹ï¼ˆäºŒï¼‰ï¼šæ·˜å®å·¥æ§æœº" />&lt;p>æ—¶å€¼ 2022 å¹´å›½åº†èŠ‚ï¼Œæˆ‘åœ¨æ·˜å®ç¿»äº†å¾ˆä¹…ï¼Œæ‰¾ x86/amd64 çš„ NAS æ–¹æ¡ˆï¼Œæœ€ç»ˆç›¸ä¸­äº†æ·˜å®æŸå®¶åº—å–çš„â€œé’æ˜¥ç‰ˆé»‘ç¾¤æ™–â€ï¼ŒCPU+ä¸»æ¿+é£æ‰‡+4GB å†…å­˜+äºšå…‹åŠ›å¤–å£³ä¸€å…±åªè¦ ï¿¥285ï¼Œå¤–å¸¦é»‘ç¾¤æ™–çš„å¼•å¯¼ç›˜ã€‚è¿™ä¸ªä»·æ ¼å¾ˆå¸å¼•æˆ‘ï¼Œäºæ˜¯æˆ‘æ²¡è¿‡å¤šè€ƒè™‘å°±ä¸‹å•äº†ã€‚&lt;/p>
&lt;p>è´§åˆ°ä¹‹åå‘ç°è¿™ä¸ªä¸»æ¿ä¼¼ä¹æ˜¯å·¥æ§æœºé‡Œæ‹†å‡ºæ¥çš„ï¼ŒCPU æ˜¯ 12 å¹´ Q1 å‡ºçš„ Atom D2550ã€‚ä¸»æ¿ä¸Šåªæœ‰ä¸€ä¸ª SATA å£ï¼Œå…¶ä½™çš„è¢«æ‹†æ‰äº†ï¼Œäºæ˜¯å•†å®¶å¢åŠ äº†ä¸€ä¸ª SATA è½¬ M.2 æ¥å£çš„æ¿å­æ’åœ¨ï¼ˆç–‘ä¼¼ï¼‰M.2 å£ä¸Šï¼Œè¿™æ ·å°±èƒ½æ”¯æŒåŒç¡¬ç›˜äº†ã€‚å› ä¸ºæˆ‘æƒ³è®©ç¡¬ç›˜å®Œå…¨ç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œæ‰€ä»¥æˆ‘åˆèŠ± ï¿¥56.9 ä¹°äº†ä¸€ä¸ª 64GB çš„å° U ç›˜ç”¨æ¥å­˜å‚¨æ“ä½œç³»ç»Ÿã€‚&lt;/p>
&lt;p>æ“ä½œç³»ç»Ÿé€‰çš„æ˜¯ Ubuntu Server 16.04ï¼Œç†ç”±æ˜¯ç›¸è¾ƒäºå•†å®¶æä¾›çš„é»‘ç¾¤æ™–ï¼Œæˆ‘æ›´ç†Ÿæ‚‰ Ubuntuã€‚è½¯ä»¶å’ŒæœåŠ¡æ–¹é¢å®‰è£…äº† sambaã€jellyfinã€qbittorrentã€coredns ç­‰ã€‚&lt;/p>
&lt;p>è¿™ä¸ªä»·æ ¼æˆ‘å¾ˆæ˜¯æ»¡æ„ï¼Œä½†æ˜¯è¿™å° NAS çš„æ€§èƒ½ä¸æ¯”æ ‘è“æ´¾é«˜å¤šå°‘ï¼Œæ¯•ç«Ÿæ˜¯åå¹´å‰çš„å¤„ç†å™¨ï¼Œå¯¼è‡´å®ƒåœ¨ä¸€äº›é«˜è´Ÿè½½çš„æƒ…å†µä¸‹ï¼ˆä¾‹å¦‚ Jellyfin ä½¿ç”¨ ffmpeg è½¬ç æ’­æ”¾è§†é¢‘ï¼‰æœ‰äº›åŠ›ä¸ä»å¿ƒï¼Œæ’­æ”¾æ—¶å¼‚å¸¸å¡é¡¿ï¼Œæ‰€ä»¥åœ¨ä»Šå¹´å…­æœˆçš„æ—¶å€™è¶è´­ç‰©èŠ‚&lt;a class="link" href="https://blog.furffisite.link/p/nas-3" >è‡ªå·±ç»„äº†ä¸€å°&lt;/a>ã€‚æ¢äº†æ–°çš„ä¹‹åå‘ç°ï¼Œæ€§èƒ½ä¸Šå»äº†ï¼Œèƒ½åŒæ—¶è·‘çš„æœåŠ¡å°±å¤šäº†å¾ˆå¤šï¼Œå¯ä»¥çœŸçš„æŠŠå®ƒå½“ä½œä¸€å°æœåŠ¡å™¨æ¥ç”¨äº†ã€‚&lt;/p></description></item><item><title>æˆ‘æŠ˜è…¾ NAS çš„å†ç¨‹ï¼ˆä¸‰ï¼‰ï¼šæ¡åƒåœ¾è‡ªç»„</title><link>https://blog.furffisite.link/p/nas-3/</link><pubDate>Sun, 18 Jun 2023 13:58:40 +0800</pubDate><guid>https://blog.furffisite.link/p/nas-3/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20230618181015-7e414fb06bb70924b269f0ca2a5ba8f6-28296.jpg" alt="Featured image of post æˆ‘æŠ˜è…¾ NAS çš„å†ç¨‹ï¼ˆä¸‰ï¼‰ï¼šæ¡åƒåœ¾è‡ªç»„" />&lt;p>ç»„è¿™å° NAS å‰çš„äº‹æƒ…ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;a class="link" href="https://blog.furffisite.link/p/nas-1" >&lt;em>æˆ‘æŠ˜è…¾NASçš„å†ç¨‹ï¼ˆä¸€ï¼‰&lt;/em>&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://blog.furffisite.link/p/nas-2" >&lt;em>æˆ‘æŠ˜è…¾NASçš„å†ç¨‹ï¼ˆäºŒï¼‰&lt;/em>&lt;/a>&lt;/li>
&lt;/ul>
&lt;h2 id="ç†è®º">ç†è®º
&lt;/h2>&lt;h3 id="è£…æœºé…ç½®å•">è£…æœºé…ç½®å•
&lt;/h3>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>&lt;/th>
&lt;th>å“ç‰Œ&lt;/th>
&lt;th>å‹å·&lt;/th>
&lt;th>å‚æ•°&lt;/th>
&lt;th>è´­ä¹°ä»·&lt;/th>
&lt;th>è´­ä¹°é“¾æ¥&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>CPU&lt;/td>
&lt;td>Intel&lt;/td>
&lt;td>E5-2660 v4&lt;/td>
&lt;td>14 æ ¸ 2.0GHz &lt;a class="link" href="https://www.intel.cn/content/www/cn/zh/products/sku/91772/intel-xeon-processor-e52660-v4-35m-cache-2-00-ghz/specifications.html" target="_blank" rel="noopener"
>è§„æ ¼è¡¨&lt;/a>&lt;/td>
&lt;td>Â¥52ï¼ˆæ´‹åƒåœ¾ï¼‰&lt;/td>
&lt;td>&lt;a class="link" href="https://item.taobao.com/item.htm?id=653447092309" target="_blank" rel="noopener"
>link&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>å†…å­˜&lt;/td>
&lt;td>Samsung&lt;/td>
&lt;td>M393A2G40DB0-CPB&lt;/td>
&lt;td>DDR4 2133MHz 16GB &lt;a class="link" href="https://semiconductor.samsung.com/dram/module/rdimm/m393a2g40db0-cpb/" target="_blank" rel="noopener"
>è§„æ ¼è¡¨&lt;/a>&lt;/td>
&lt;td>Â¥92ï¼ˆæ´‹åƒåœ¾ï¼‰&lt;/td>
&lt;td>&lt;a class="link" href="https://item.taobao.com/item.htm?id=655661217770" target="_blank" rel="noopener"
>link&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ä¸»æ¿&lt;/td>
&lt;td>åå—é‡‘ç‰Œ&lt;/td>
&lt;td>X99-4MF&lt;/td>
&lt;td>ITX DDR4x4 SATAx3 &lt;a class="link" href="http://www.huananzhi.com/more.php?lm=10&amp;amp;id=784" target="_blank" rel="noopener"
>è§„æ ¼è¡¨&lt;/a>&lt;/td>
&lt;td>Â¥268&lt;/td>
&lt;td>&lt;a class="link" href="https://item.taobao.com/item.htm?id=584879880832" target="_blank" rel="noopener"
>link&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ç³»ç»Ÿç›˜&lt;/td>
&lt;td>SKHynix&lt;/td>
&lt;td>HFS512GDE9X084N&lt;/td>
&lt;td>512GB NVME&lt;/td>
&lt;td>Â¥0*&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ˜¾å¡&lt;/td>
&lt;td>NVIDIA&lt;/td>
&lt;td>GeForce 605&lt;/td>
&lt;td>&lt;a class="link" href="https://www.nvidia.com/en-us/geforce/graphics-cards/geforce-605-oem/specifications/" target="_blank" rel="noopener"
>è§„æ ¼è¡¨&lt;/a>&lt;/td>
&lt;td>Â¥16ï¼ˆäº®æœºå¡ï¼‰&lt;/td>
&lt;td>&lt;a class="link" href="https://item.taobao.com/item.htm?id=704690006685" target="_blank" rel="noopener"
>link&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ç”µæº&lt;/td>
&lt;td>èˆªå˜‰&lt;/td>
&lt;td>GX500&lt;/td>
&lt;td>500W ATX ç™½ç‰Œ&lt;/td>
&lt;td>Â¥191.92&lt;/td>
&lt;td>&lt;a class="link" href="https://detail.tmall.com/item.htm?id=592122962211" target="_blank" rel="noopener"
>link&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æœºç®±&lt;/td>
&lt;td>invasion&lt;/td>
&lt;td>invasion X1&lt;/td>
&lt;td>4ç›˜ä½ ITX&lt;/td>
&lt;td>Â¥244&lt;/td>
&lt;td>&lt;a class="link" href="https://item.taobao.com/item.htm?id=631276021464" target="_blank" rel="noopener"
>link&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>CPU æ•£çƒ­å™¨&lt;/td>
&lt;td>é›¶ä¸‹30åº¦&lt;/td>
&lt;td>-&lt;/td>
&lt;td>-&lt;/td>
&lt;td>Â¥38.7&lt;/td>
&lt;td>&lt;a class="link" href="https://item.taobao.com/item.htm?id=543496686865" target="_blank" rel="noopener"
>link&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æœºç®±é£æ‰‡&lt;/td>
&lt;td>èˆªå˜‰&lt;/td>
&lt;td>MVP120&lt;/td>
&lt;td>1500 RPMï¼Œæ”¯æŒ PWM&lt;/td>
&lt;td>Â¥75.95ï¼ˆä¸‰åªè£…ï¼‰&lt;/td>
&lt;td>&lt;a class="link" href="https://detail.tmall.com/item.htm?id=657878805031" target="_blank" rel="noopener"
>link&lt;/a>&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>æ€»è®¡&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>&lt;/td>
&lt;td>Â¥978.57&lt;/td>
&lt;td>&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;p>*ç¬”è®°æœ¬ä¸Šæ‹†ä¸‹æ¥çš„&lt;/p>
&lt;h3 id="æ”’æœºç†å¿µ">æ”’æœºç†å¿µ
&lt;/h3>&lt;p>ç›®æ ‡ï¼š&lt;strong>çœé’±ã€æ€§èƒ½è¿˜è¡Œã€ä½“ç§¯å°ã€é™éŸ³ã€ä¿ç•™ä¸€å®šçš„å¯å‡çº§æ€§ã€å°½é‡ä¸€æ‰‹&lt;/strong>ã€‚&lt;/p>
&lt;p>å…³äº CPUï¼Œæˆ‘åœ¨&lt;a class="link" href="https://www.cpubenchmark.net" target="_blank" rel="noopener"
>CPUbenchmark&lt;/a>ä¸ŠæŒ‰ç…§è·‘åˆ†ç»“æœåœ¨E5çš„ä¸€ç³»åˆ—æ´‹åƒåœ¾å‹å·ä¸­ä»é«˜åˆ°ä½ç¿»ï¼Œæœ€åçœ‹ä¸­äº† E5-2660 v4ã€‚é€‰æ‹©å®ƒæœ‰ä»¥ä¸‹å‡ ç‚¹ç†ç”±ï¼š&lt;/p>
&lt;ol>
&lt;li>å…¶åŠŸè€—ç›¸æ¯”ä¸åŒç³»åˆ—å…¶å®ƒå‹å·è¾ƒä½ï¼›&lt;/li>
&lt;li>E5-2660 v4 ä¸º 2016 Q4 æ¨å‡ºçš„ï¼Œç›¸å¯¹ v3 å’Œ v2 è¦æ–°ä¸€ç‚¹ï¼›&lt;/li>
&lt;li>å…¶æ€§ä»·æ¯”åœ¨åŒå‹å·ä¸­è¾ƒé«˜ï¼Œ52 å…ƒ 16005 åˆ†ï¼Œç›¸è¾ƒäº2690 v3 çš„ 68 å…ƒ 16505 åˆ†æ›´å®æƒ ã€‚&lt;/li>
&lt;/ol>
&lt;p>CPU å®šä¸‹æ¥äº†ä¹‹åï¼Œä¸»æ¿å’Œå†…å­˜ä¹Ÿå°±ç›¸åº”çš„å†³å®šäº†ã€‚ä¹‹æ‰€ä»¥ä¸»æ¿ä¸é€‰äºŒæ‰‹æ˜¯å› ä¸ºæˆ‘æƒ³çœç‚¹äº‹ï¼Œå¯¹äºäºŒæ‰‹å¸‚åœºä¸Šå¯èƒ½é‡åˆ°çš„ä¼—å¤šé—®é¢˜æˆ‘ç›®å‰æ²¡æœ‰ä»»ä½•åº”å¯¹ç»éªŒã€‚è€Œé€‰æ‹© ITX æ˜¯ä¸ºäº†æ»¡è¶³ä½“ç§¯å°çš„è¦æ±‚ï¼Œæ¯•ç«Ÿå®¿èˆé‡Œæ”¾ä¸ä¸‹å¤ªå¤šä¸œè¥¿ã€‚&lt;/p>
&lt;p>å…³äºç³»ç»Ÿç›˜ï¼Œä¹‹å‰ç»™ç¬”è®°æœ¬å‡çº§å¤–å­˜çš„æ—¶å€™æ‹†ä¸‹æ¥çš„åŸè£… SSD å¯ä»¥ç›´æ¥ç»™å®ƒç”¨ã€‚å°±ç®—æ˜¯ä¹°ä¸€ä¸ªå…¨æ–°çš„ä¹Ÿä¸ä¼šå¤ªè´µï¼Œ256GB ä¹°ä¸ªäºŒçº¿å‚çš„ SSD åº”è¯¥ä¹Ÿå¤Ÿç”¨äº†ã€‚
åœ¨è£…ç³»ç»Ÿã€è¿› BIOS æ—¶æ˜¾å¡æ˜¯å¿…è¦çš„ï¼Œä½œä¸ºæœåŠ¡å™¨ CPU çš„ E5-2660 v4 æ²¡æœ‰æ ¸å¿ƒæ˜¾å¡ï¼Œå› æ­¤è¿™é‡Œä¾ç„¶éœ€è¦ä¸€å¼ æ˜¾å¡ã€‚ä¸Šæ·˜å®ä¸€æœæœç„¶æœ‰å–äº®æœºå¡çš„ï¼Œ16 å…ƒçš„ä»·æ ¼ä¹Ÿå°±ä¸ç”¨çº ç»“å€¼ä¸å€¼äº†ï¼Œèƒ½äº®å°±è¡Œã€‚ä¸ºäº†èƒ½çœ‹åˆ°è§†é¢‘è¾“å‡ºæˆ‘è¿˜ä¹°äº†ä¸€ä¸ªäºŒåå¤šçš„ HDMI é‡‡é›†å¡ä»¥ä»£æ›¿æ˜¾ç¤ºå™¨ï¼Œäº‹å®è¯æ˜äºŒåå—çš„ç”»è´¨æœç„¶ä¸è¡Œã€‚
ç”µæºä¸æ•¢ä¹°äºŒæ‰‹çš„ï¼Œæ€•å‡ºé—®é¢˜ã€‚500W çš„ç”µæºç›¸å¯¹äºç›®å‰çš„æ•´æœºåŠŸè€—æ˜æ˜¾æ˜¯è¿‡å‰©çš„ï¼Œä½†è¿™ä¹Ÿä¸ºä»¥åçš„å‡çº§ä¿ç•™äº†ä½™é‡ã€‚
æœ€åæ˜¯æœºç®±ï¼Œç»¼åˆä»¥ä¸Šè¦æ±‚ï¼Œæœºç®±åº”è¯¥æ˜¯ä½“ç§¯å°ã€è½»ä¾¿ã€ä¾¿å®œçš„å¤šç›˜ä½ ITX æœºç®±ï¼Œåœ¨æ·˜å®ä¸Šç¿»äº†ä¸€å¤§åœˆåªçœ‹åˆ°è¿™ä¸€æ¬¾åŒæ—¶æ»¡è¶³è¿™å‡ ç‚¹çš„ã€‚åˆ«çš„å‹å·ï¼Œä¾‹å¦‚èœ—ç‰›æ˜Ÿé™…ã€å¾¡å¤«åº§ã€å¤©ç®­åº§ç­‰éƒ½å¤ªè´µäº†æˆ–è€…æ•£çƒ­å®¹é‡å¤ªå°ã€‚ä¸¤ç™¾å¤šçš„æœºç®±æˆ‘è§‰å¾—è¿˜æ˜¯è´µäº†ç‚¹ï¼Œå¯æ˜¯ä¹Ÿæ²¡æ‰¾åˆ°æ›´å¥½çš„é€‰æ‹©ã€‚&lt;/p>
&lt;p>å…³äºå¯å‡çº§æ€§ï¼Œè¿™å¥—é…ç½®ä¸­ï¼ŒCPU å¯ä»¥å‡çº§ä¸º 24686 åˆ†çš„ E5-2699 v4ï¼ˆåœ¨ä»·æ ¼é™ä¸‹æ¥ä¹‹åï¼‰ï¼Œè¿˜æœ‰ä¸‰ä¸ªä½ç½®å¯ä»¥åŠ å†…å­˜æ¡ï¼Œæ˜¾å¡å¯ä»¥å‡çº§ï¼Œæœºç®±å’Œç”µæºä»¥åä¹Ÿèƒ½ç”¨äºè£…æ¸¸æˆç”µè„‘ã€‚&lt;/p>
&lt;h2 id="å®è·µ">å®è·µ
&lt;/h2>&lt;h3 id="è£…æœºè¿‡ç¨‹">è£…æœºè¿‡ç¨‹
&lt;/h3>&lt;p>è£…æœºè¿‡ç¨‹ä¸­é‡åˆ°çš„é—®é¢˜æœ‰å››ï¼š&lt;/p>
&lt;ol>
&lt;li>CPU æ•£çƒ­å™¨çš„èºä¸æ˜¯å¼¯çš„ï¼ˆå¯èƒ½æ˜¯åˆ¶é€ é—®é¢˜ï¼‰ï¼Œè¦ç”¨é’³å­æ‰³ç›´äº†æ‰èƒ½å®‰è£…ï¼›&lt;/li>
&lt;li>æœºç®±è‡ªå¸¦çš„ç¡¬ç›˜ç¬¼å’Œä¸»æ¿ç”µæºæ’æ§½æœ‰ 2mm å·¦å³çš„ overlapï¼Œè£…å®Œä¹‹åç¡¬ç›˜ç¬¼æœ‰ä¸€ç‚¹ç‚¹å˜å½¢ã€‚å¾—ç›Šäºç¡¬ç›˜æ¶çš„å‡éœ‡æœºæ„ï¼Œè¿™ä¸ªå˜å½¢äº§ç”Ÿçš„å½±å“ä¸å¤§ï¼›&lt;/li>
&lt;li>ä¸»æ¿ä¸‹éƒ¨çš„æ’æ§½å’Œæœºç®±é£æ‰‡æœ‰å†²çªï¼Œå‰é¢æ¿ USB-3 çš„çº¿æ’ä¸è¿›å»ï¼Œä½†å¯¹äº NAS è€Œè¨€è¿™æ ¹çº¿ä¸æ’é—®é¢˜ä¹Ÿä¸å¤§ï¼›&lt;/li>
&lt;li>åå—é‡‘ç‰Œçš„è¿™æ¬¾ä¸»æ¿çš„ä¸»æ¿é£æ‰‡æ’æ§½åªæœ‰ 3 é’ˆï¼Œä¸æ”¯æŒ PWMï¼Œç›´æ¥æ’ MVP120 çš„è¯æ»¡è½¬é€Ÿå™ªéŸ³éå¸¸å¤§ã€‚æˆ‘æœ€åç”¨ä¸€æ‹–ä¸‰çš„çº¿æŠŠæ‰€æœ‰é£æ‰‡éƒ½æ¥åˆ°äº†æ”¯æŒ PWM çš„ CPU é£æ‰‡æ’æ§½ä¸Šï¼Œè¿™æ ·å°±å®‰é™äº†å¾ˆå¤šï¼ˆä¹‹ååˆè¿›BIOS è°ƒæ•´äº†ä¸€ä¸‹æ¸©åº¦-è½¬é€Ÿæ›²çº¿ï¼‰ã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="æ“ä½œç³»ç»Ÿ">æ“ä½œç³»ç»Ÿ
&lt;/h3>&lt;p>å› ä¸ºæˆ‘æœ€ç†Ÿæ‚‰çš„ Linux å‘è¡Œç‰ˆæ˜¯ Ubuntuï¼Œæ‰€ä»¥æˆ‘å®‰è£…äº† Ubuntu 22.04.2 LTSï¼ˆæœåŠ¡å™¨ç‰ˆï¼‰ã€‚&lt;/p>
&lt;p>ç³»ç»Ÿç›˜åˆ†åŒºå¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">Mountpoint Start End Sectors Size Type
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/boot/efi 2048 2203647 2201600 1G EFI System
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/ 2203648 107061247 104857600 50G Linux filesystem
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/home 107061248 211918847 104857600 50G Linux filesystem
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">/srv 211918848 958271487 746352640 355.9G Linux filesystem
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">swap 958271488 1000214527 41943040 20G Linux swap
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="æµ‹è¯•">æµ‹è¯•
&lt;/h3>&lt;p>æ•´æœºå¾…æœºæ—¶ CPU æ ¸å¿ƒå¹³å‡æ¸©åº¦ä¸º 30Â°Cï¼Œæ»¡è½½æ—¶ä¸º 55Â°Cï¼Œè¯´æ˜æ•£çƒ­è¿˜æ˜¯æœ‰å¾ˆå¤§çš„ä½™é‡çš„ã€‚æœåŠ¡æ­£å¸¸è¿è¡Œæ—¶æ’åº§ä¸Šæµ‹é‡åˆ°çš„åŠŸç‡åœ¨ 68W å·¦å³ï¼ŒCPUæ»¡è½½æ—¶çº¦ 140Wã€‚&lt;/p>
&lt;p>ä½¿ç”¨ sysbench çš„æµ‹è¯•ç»“æœå¦‚ä¸‹ï¼Œå’Œæˆ‘ç°å½¹çš„æ¸¸æˆæœ¬ç›¸æ¯”æˆ‘è§‰å¾—è¿™ä¸ªæˆç»©è¿˜ç®—å¯ä»¥æ¥å—ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">sysbench 1.0.20 (using system LuaJIT 2.1.0-beta3)
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Running the test with following options:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Number of threads: 28
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Initializing random number generator from current time
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Prime numbers limit: 10000
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Initializing worker threads...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Threads started!
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">CPU speed:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> events per second: 17251.86
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">General statistics:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> total time: 600.0017s
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> total number of events: 10351174
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Latency (ms):
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> min: 1.22
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> avg: 1.62
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> max: 82.58
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 95th percentile: 1.64
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> sum: 16797418.36
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Threads fairness:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> events (avg/stddev): 369684.7857/436.76
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> execution time (avg/stddev): 599.9078/0.00
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="è½¯ä»¶éƒ¨åˆ†">è½¯ä»¶éƒ¨åˆ†
&lt;/h2>&lt;h3 id="docker">Docker
&lt;/h3>&lt;p>æœ€å…ˆå®‰è£…çš„æ˜¯ Dockerï¼Œå› ä¸ºæœ‰äº† Docker ä¹‹ååˆ«çš„åº”ç”¨éƒ½å¯ä»¥ä½¿ç”¨ Docker é•œåƒå®‰è£…å’Œç®¡ç†ã€‚&lt;/p>
&lt;p>åœ¨ Ubuntu ä¸Šå®‰è£…Dockeråªéœ€ä½¿ç”¨å®˜æ–¹æä¾›çš„å®‰è£…è„šæœ¬&lt;sup>&lt;a id='ref-cite1-1' href='#cite1'>[1]&lt;/a>&lt;/sup>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ curl -fsSL https://get.docker.com -o get-docker.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo sh get-docker.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="ä¿®æ”¹dockeræ•°æ®ä½ç½®">ä¿®æ”¹Dockeræ•°æ®ä½ç½®
&lt;/h4>&lt;p>Docker çš„æ•°æ®é»˜è®¤å‚¨å­˜åœ¨ &lt;code>/var/lib/docker&lt;/code> å†…ï¼Œæˆ‘æƒ³å°†å…¶ç§»åˆ° &lt;code>/srv&lt;/code> æ–‡ä»¶ç³»ç»Ÿå†…ï¼Œæ“ä½œå¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>å…³é—­&lt;code>docker&lt;/code>æœåŠ¡ï¼š&lt;code>systemctl stop docker&lt;/code>&lt;/li>
&lt;li>ç§»åŠ¨æ–‡ä»¶ï¼š&lt;code>sudo mv /var/lib/docker /srv/&lt;/code>&lt;/li>
&lt;li>åˆ›å»ºç¬¦å·é“¾æ¥ï¼ˆä»¥é˜²ä¸‡ä¸€ï¼‰ï¼š&lt;code>sudo ln -s /srv/docker /var/lib/docker&lt;/code>&lt;/li>
&lt;li>ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œåœ¨&lt;code>/etc/docker/daemon.json&lt;/code>å†…æ·»åŠ é…ç½®ï¼š&lt;code>{&amp;quot;data-root&amp;quot;: &amp;quot;/srv/docker&amp;quot;}&lt;/code>&lt;/li>
&lt;li>å¯åŠ¨&lt;code>docker&lt;/code>æœåŠ¡ï¼š&lt;code>systemctl start docker&lt;/code>&lt;/li>
&lt;/ol>
&lt;h4 id="ä½¿ç”¨dockerå›½å†…é•œåƒæº">ä½¿ç”¨Dockerå›½å†…é•œåƒæº
&lt;/h4>&lt;p>é˜¿é‡Œäº‘æä¾›äº†å…è´¹çš„Dockeré•œåƒæºçš„åŠ é€ŸæœåŠ¡ã€‚ä¸ºäº†ä½¿ç”¨è¯¥æœåŠ¡ï¼Œéœ€è¦åœ¨ &lt;a class="link" href="https://aliyun.com" target="_blank" rel="noopener"
>https://aliyun.com&lt;/a> ç™»å½•é˜¿é‡Œäº‘å¸å·ï¼Œç„¶ååœ¨ &lt;strong>æ§åˆ¶å° &amp;gt; å®¹å™¨é•œåƒæœåŠ¡ &amp;gt; é•œåƒå·¥å…· &amp;gt; é•œåƒåŠ é€Ÿå™¨&lt;/strong> å¤„å¯ä»¥è·å–åŠ é€Ÿå™¨çš„åœ°å€åŠä¿®æ”¹é•œåƒæºçš„æ–¹æ³•ã€‚&lt;/p>
&lt;p>æ­¤å¤–ä¹Ÿæœ‰ä¸€äº›å¼€æ”¾çš„é•œåƒæºï¼Œåœ¨&lt;code>/etc/docker/daemon.json&lt;/code>å†…æ·»åŠ å¦‚ä¸‹å±æ€§ &lt;sup>&lt;a id='ref-cite2-1' href='#cite2'>[2]&lt;/a>&lt;/sup>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="line">&lt;span class="cl">&lt;span class="p">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="nt">&amp;#34;registry-mirrors&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;https://hub-mirror.c.163.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;https://ustc-edu-cn.mirror.aliyuncs.com&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;https://ghcr.io&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;https://mirror.baidubce.com&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¿®æ”¹åä½¿ç”¨ &lt;code>systemctl restart docker&lt;/code> é‡å¯dockeræœåŠ¡å³å¯ã€‚&lt;/p>
&lt;h4 id="æ‰‹åŠ¨ä¸‹è½½é•œåƒ">æ‰‹åŠ¨ä¸‹è½½é•œåƒ
&lt;/h4>&lt;p>å¦‚æœæ›¿æ¢äº†é•œåƒæºä¹‹åä¹Ÿæ‹‰ä¸åŠ¨é•œåƒçš„è¯ï¼Œå¯ä»¥è¯•è¯• &lt;a class="link" href="https://github.com/moby/moby" target="_blank" rel="noopener"
>Moby Project&lt;/a> æä¾›çš„é•œåƒä¸‹è½½è„šæœ¬ä¸‹è½½é•œåƒï¼š&lt;a class="link" href="https://github.com/moby/moby/blob/master/contrib/download-frozen-image-v2.sh" target="_blank" rel="noopener"
>link&lt;/a>&lt;/p>
&lt;p>ä½¿ç”¨ä¾‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ wget https://raw.githubusercontent.com/moby/moby/master/contrib/download-frozen-image-v2.sh
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ bash ./download-frozen-image-v2.sh ./alpine-linux alpine:latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Downloading &lt;span class="s1">&amp;#39;library/alpine:latest@latest&amp;#39;&lt;/span> &lt;span class="o">(&lt;/span>&lt;span class="m">1&lt;/span> layers&lt;span class="o">)&lt;/span>...
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">-#O&lt;span class="o">=&lt;/span>-# &lt;span class="c1"># #&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1">############################################## 100.0%&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Download of images into &lt;span class="s1">&amp;#39;./alpine-linux&amp;#39;&lt;/span> complete.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Use something like the following to load the result into a Docker daemon:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> tar -cC &lt;span class="s1">&amp;#39;./alpine-linux&amp;#39;&lt;/span> . &lt;span class="p">|&lt;/span> docker load
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ—¶é•œåƒå°±å·²ç»ä¿å­˜åˆ°&lt;code>./alpine-linux&lt;/code>å†…äº†ï¼Œç„¶åä½¿ç”¨&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ tar -cC &lt;span class="s1">&amp;#39;./alpine-linux&amp;#39;&lt;/span> . &lt;span class="p">|&lt;/span> docker load
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">......
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Loaded image: alpine:latest
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å³å¯è®© docker å¯¼å…¥é•œåƒã€‚&lt;/p>
&lt;h3 id="samba">samba
&lt;/h3>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ sudo apt install samba
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å®‰è£…åä½¿ç”¨&lt;code>smbpasswd -a &amp;lt;username&amp;gt;&lt;/code>ä¸ºç”¨æˆ·æ·»åŠ  samba çš„è®¿é—®å¯†ç ï¼Œå…¶ä¸­&lt;code>&amp;lt;username&amp;gt;&lt;/code>å¿…é¡»ä¸ºå·²ç»åœ¨ Linux å†…æ³¨å†Œçš„ç”¨æˆ·ã€‚&lt;/p>
&lt;p>é…ç½®æ–‡ä»¶ä¸º&lt;code>/etc/samba/smb.conf&lt;/code>ï¼Œé…ç½®é¡¹å¯å‚è€ƒ&lt;a class="link" href="https://www.samba.org/samba/docs/current/man-html/smb.conf.5.html" target="_blank" rel="noopener"
>å®˜æ–¹æ–‡æ¡£&lt;/a>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">[&amp;lt;share name&amp;gt;]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">path = /path/to/folder
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">read only = no
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">browsable = yes
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">guest ok = no
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">valid users = &amp;lt;users&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="jellyfin">jellyfin
&lt;/h3>&lt;p>jellyfin æ˜¯æ•°å­—åª’ä½“ç®¡ç†ä¸ä¸²æµè½¯ä»¶ï¼Œå®ƒæ”¯æŒæµè§ˆå™¨ã€Androidã€iOSã€Android TV ç­‰è®¸å¤šå®¢æˆ·ç«¯ï¼Œå¯ä»¥åœ¨è¿™äº›å®¢æˆ·ç«¯ä¸Šä¾¿æ·åœ°è§‚çœ‹æœåŠ¡ç«¯å­˜å‚¨çš„å†…å®¹ï¼Œè¿™ä¹Ÿæ˜¯æˆ‘æ”’è¿™å° NAS çš„ä¸»è¦ç›®çš„ã€‚E5-2660 v4 çš„æ€§èƒ½è¶³ä»¥æ”¯æŒ jellyfin æµç•…ç¼–è§£ç è¶…é«˜æ¸…èµ„æºï¼ˆè½¯è§£ï¼Œä¸è¿‡ç›®å‰çœ‹æ¥ä¹Ÿæ²¡æœ‰ä¸“é—¨ä¸ºè¿™ä¸ªä¹° GPU çš„å¿…è¦äº†ï¼‰ã€‚&lt;/p>
&lt;p>å¯ä»¥ä½¿ç”¨&lt;a class="link" href="https://hub.docker.com/r/jellyfin/jellyfin" target="_blank" rel="noopener"
>å®˜æ–¹çš„ docker é•œåƒ&lt;/a>æˆ–è€…&lt;a class="link" href="https://hub.docker.com/r/linuxserver/jellyfin" target="_blank" rel="noopener"
>linuxserver.io åˆ¶ä½œçš„é•œåƒ&lt;/a>æ¥å®‰è£… jellyfinã€‚&lt;/p>
&lt;p>ä¸ºäº†ä¾¿äºæˆ‘ç®¡ç†å’Œé…ç½®ï¼Œæ‰€æœ‰çš„ Docker å®¹å™¨éƒ½å°†ä½¿ç”¨ docker compose å¯åŠ¨ã€‚è¿™æ˜¯ jellyfin çš„&lt;code>docker-compose.yaml&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;2.1&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">jellyfin&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">lscr.io/linuxserver/jellyfin:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jellyfin&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">PUID=1000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">PGID=1000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">TZ=Asia/Shanghai&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./config:/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/path/to/media:/data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">8096&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">8096&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">8920&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">8920&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#optional&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">7359&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">7359&lt;/span>&lt;span class="l">/udp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#optional&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">1900&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">1900&lt;/span>&lt;span class="l">/udp&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#optional&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">global&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">limits&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cpus&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;20&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">memory&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">8G&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="qbittorrent">qbittorrent
&lt;/h3>&lt;p>qbittorrent æ˜¯ç”¨äº bt ä¸‹è½½çš„è½¯ä»¶ã€‚linuxserver.io ä¹Ÿæ‰“åŒ…äº† qbittorrent çš„é•œåƒï¼Œä½¿ç”¨è¿™ä¸ªé•œåƒè¿è¡Œå³å¯ã€‚æˆ‘çš„&lt;code>docker-compose.yaml&lt;/code>å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">qbittorrent&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">lscr.io/linuxserver/qbittorrent:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">qbittorrent&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">PUID=1000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">PGID=1000&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">TZ=Asia/Shanghai&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">WEBUI_PORT=4823&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./config:/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./torrents:/torrents&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./cache:/cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">/path/to/downloads:/downloads&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">4823&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">4823&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># WebUI&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">6881&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">6881&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ç›‘å¬ç«¯å£&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">6881&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">6881&lt;/span>&lt;span class="l">/udp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">14560-14580&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">14560-14580&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># ä¼ å‡ºç«¯å£&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">14560-14580&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">14560-14580&lt;/span>&lt;span class="l">/udp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">unless-stopped&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">global&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">limits&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cpus&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;2.0&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">memory&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">1G&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="frpc">frpc
&lt;/h3>&lt;p>å†…ç½‘ç©¿é€å·¥å…·çš„å®¢æˆ·ç«¯ï¼Œæˆ‘ç”¨çš„æ˜¯&lt;a class="link" href="https://hub.docker.com/r/snowdreamtech/frpc" target="_blank" rel="noopener"
>ä¸‹è½½é‡æœ€é«˜çš„é•œåƒ&lt;/a>ã€‚&lt;/p>
&lt;h3 id="coredns">coredns
&lt;/h3>&lt;p>DNS æœåŠ¡å™¨ï¼Œå› ä¸ºå­¦æ ¡çš„ DNS ä»¥å‰å´©è¿‡ï¼Œæ‰€ä»¥è£…ä¸€ä¸ªå¤‡ç”¨ã€‚&lt;a class="link" href="https://hub.docker.com/r/coredns/coredns" target="_blank" rel="noopener"
>å®˜æ–¹é•œåƒ&lt;/a>å³å¯ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">coredns&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">coredns/coredns:latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">coredns&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./config:/config&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;-conf&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;/config/Corefile&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">0.0.0.0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">53&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">53&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">0.0.0.0&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">53&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">53&lt;/span>&lt;span class="l">/udp&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mode&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">global&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">resources&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">limits&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">cpus&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;0.5&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">memory&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">100M&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>53 ç«¯å£å¯èƒ½å’Œ ubuntu çš„ systemd-resolved æœåŠ¡å†²çªï¼Œåœ¨å¯åŠ¨å®¹å™¨å‰éœ€è¦å…ˆå…³é—­è¿™ä¸ªæœåŠ¡ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ sudo systemctl disable systemd-resolved
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">$ sudo systemctl stop systemd-resolved
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>coredns ç»“åˆ nginx/Apache è½¬å‘ä¸ä¸€äº›è·¯ç”±å™¨çš„è®¾ç½®å°±å¯ä»¥å®ç°å†…ç½‘åŸŸåï¼ˆä¸ç”¨è®°ç«¯å£å·äº†ï¼‰ï¼Œä¾‹å¦‚ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">### Corefile:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">......
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">server.local {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> hosts {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> 192.168.0.xx jellyfin.server.local
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> log
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> errors
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> prometheus
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">### nginx config:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">server {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> listen 80;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> server_name jellyfin.server.local;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> location / {
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> proxy_pass http://127.0.0.1:8096;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> }
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·åœ¨å±€åŸŸç½‘ç›´æ¥è®¿é—® &lt;code>http://jellyfin.server.local&lt;/code> å°±å¯ä»¥è¿›å…¥ jellyfin çš„ç•Œé¢äº†ã€‚&lt;/p>
&lt;p>&lt;em>æ³¨ï¼šå…³é—­ systemd-resolved æœåŠ¡ä¹‹ååœ¨ä½¿ç”¨ KVM æ—¶å¯èƒ½ä¼šé‡åˆ°ä¸€äº›é—®é¢˜ã€‚&lt;/em>&lt;/p>
&lt;h3 id="grafana--prometheus">Grafana &amp;amp; Prometheus
&lt;/h3>&lt;p>&lt;a class="link" href="https://grafana.com/" target="_blank" rel="noopener"
>Grafana&lt;/a> å’Œ &lt;a class="link" href="https://prometheus.io/" target="_blank" rel="noopener"
>Prometheus&lt;/a> è¿™ä¸¤ä¸ªå¼€æºè½¯ä»¶ç»„åˆåœ¨ä¸€èµ·å¯ä»¥ç”¨æ¥ç›‘æ§æœåŠ¡å™¨çŠ¶æ€ï¼ˆä¸è¿‡åœ¨è‡ªç”¨çš„ NAS ä¸Šæè¿™ä¸ªå¯èƒ½æ„ä¹‰ä¸å¤§ï¼‰ã€‚ä¹‹å‰æ²¡äº†è§£è¿‡è¿™äº›è½¯ä»¶ï¼Œå› æ­¤è¿™éƒ¨åˆ†å®Œå…¨æ˜¯æŒ‰ç…§&lt;a class="link" href="https://geekflare.com/prometheus-grafana-setup-for-linux/" target="_blank" rel="noopener"
>æ•™ç¨‹&lt;/a>å®‰è£…çš„ï¼Œå…¶ä¸­ Grafana ä¸æ¶‰åŠæ•°æ®æ”¶é›†ï¼Œå¯ä»¥åœ¨ Docker å®¹å™¨ä¸­è¿è¡Œã€‚&lt;/p>
&lt;p>é™¤äº†è¿™ä¸¤ä¸ªè½¯ä»¶ï¼Œæˆ‘è¿˜å®‰è£…äº† &lt;a class="link" href="https://github.com/prometheus/node_exporter" target="_blank" rel="noopener"
>node exporter&lt;/a> å’Œ &lt;a class="link" href="https://github.com/google/cadvisor" target="_blank" rel="noopener"
>cadvisor&lt;/a>ï¼Œåˆ†åˆ«æ”¶é›†æœåŠ¡å™¨ç³»ç»Ÿä¸ Docker å®¹å™¨çš„ç»Ÿè®¡ä¿¡æ¯ã€‚&lt;/p>
&lt;p>è£…å¥½ä¹‹åï¼Œæˆ‘ä»¥ node exporter ä¸ºåŸºç¡€æ”¹å‡ºäº†è¿™æ ·çš„ dashboardï¼š
&lt;img src="https://files.furffisite.link/blogimg/20230623223905-8a11623bf1549c06e503742374b7f39c-d92f1.png"
loading="lazy"
>&lt;/p>
&lt;h3 id="æ•°æ®åº“">æ•°æ®åº“
&lt;/h3>&lt;p>æœ‰ä¸€äº›æœåŠ¡ï¼ˆä¾‹å¦‚ &lt;a class="link" href="https://github.com/go-gitea/gitea" target="_blank" rel="noopener"
>gitea&lt;/a> å’Œè‡ªå·±å†™çš„çˆ¬è™«ï¼‰çš„æ•°æ®æ˜¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ï¼Œæˆ‘æ¯”è¾ƒå–œæ¬¢å°†è¿™äº›æ•°æ®æ”¾åœ¨åŒä¸€ä¸ªæ•°æ®åº“æœåŠ¡ç«¯å†…ï¼ˆè€Œéç»™æ¯ä¸ªæœ‰éœ€è¦çš„åº”ç”¨éƒ½è¿è¡Œä¸€ä¸ªæ•°æ®åº“ï¼‰ï¼Œä»¥ä¾¿äºæ•°æ®çš„ç®¡ç†ï¼ŒåŒæ—¶å‡å°‘ç³»ç»Ÿå ç”¨ã€‚&lt;/p>
&lt;p>å…³äºå…³ç³»å‹æ•°æ®åº“ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ &lt;a class="link" href="https://mariadb.org/" target="_blank" rel="noopener"
>mariadb&lt;/a>ï¼ˆMySQLçš„ä¸€ä¸ªè¡ç”Ÿç‰ˆæœ¬ï¼‰ã€‚å…³äºé•œåƒçš„ç‰ˆæœ¬ï¼Œå»ºè®®ä½¿ç”¨ä¸€ä¸ªå›ºå®šçš„ç‰ˆæœ¬å·ï¼ˆè€Œé latestï¼‰ï¼Œå› ä¸ºåœ¨ä¸åŒç‰ˆæœ¬çš„ mariadb ä¹‹é—´è¿ç§»æ•°æ®è¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ã€‚&lt;/p>
&lt;p>å…³äºæ•°æ®åº“çš„ç®¡ç†ç«¯ï¼Œæˆ‘ä»¥å‰å¸¸ç”¨çš„æ˜¯ &lt;a class="link" href="https://www.phpmyadmin.net/" target="_blank" rel="noopener"
>phpmyadmin&lt;/a>ï¼Œè¿™æ¬¡æƒ³è¯•è¯•åˆ«çš„ï¼Œæ‰€ä»¥ä½¿ç”¨äº† &lt;a class="link" href="https://hub.docker.com/_/mariadb" target="_blank" rel="noopener"
>å®˜æ–¹dockeré•œåƒé¡µ&lt;/a> é‡Œæåˆ°çš„ &lt;a class="link" href="https://hub.docker.com/_/adminer" target="_blank" rel="noopener"
>adminer&lt;/a>ã€‚å…¶åŠŸèƒ½è™½ä¸å¦‚ phpmyadmin ä¸°å¯Œï¼Œç•Œé¢ä¹Ÿä¸å¦‚å®ƒç¾è§‚ï¼Œä½†æ˜¯æˆ‘å¹³æ—¶ä¼šç”¨åˆ°çš„åŸºç¡€æ“ä½œï¼ˆå»ºè¡¨ã€æŸ¥çœ‹æ•°æ®ã€SQL æŸ¥è¯¢ã€å¯¼å‡ºæ•°æ®ï¼‰å®ƒéƒ½æœ‰ï¼Œç¼ºå°‘çš„åŠŸèƒ½å¯ä»¥ç›´æ¥ç”¨ SQL è¯­å¥å‡‘å˜›~&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">db&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mariadb:10.11.4&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mariadb&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">MARIADB_ROOT_PASSWORD&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">...&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./mariadb:/var/lib/mysql&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">3306&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">3306&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">adminer&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">adminer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">adminer&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">restart&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">always&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="m">8080&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="m">8080&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¦‚æœæœåŠ¡éœ€è¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ docker è¿è¡Œéå…³ç³»å‹æ•°æ®åº“ &lt;a class="link" href="https://www.mongodb.com/" target="_blank" rel="noopener"
>MongoDB&lt;/a> å’Œ &lt;a class="link" href="https://redis.io/" target="_blank" rel="noopener"
>redis&lt;/a>ã€‚&lt;/p>
&lt;h3 id="minecraft-æœåŠ¡å™¨-papermc">Minecraft æœåŠ¡å™¨ ï¼ˆpapermcï¼‰
&lt;/h3>&lt;p>é€‰äº† docker hub é‡Œæœç´¢æ’åé å‰çš„ &lt;a class="link" href="https://hub.docker.com/r/marctv/minecraft-papermc-server" target="_blank" rel="noopener"
>marctv/minecraft-papermc-server&lt;/a>ã€‚&lt;/p>
&lt;p>ç”¨äº†ä¹‹åæ‰å‘ç°ï¼Œ&lt;a class="link" href="https://papermc.io/" target="_blank" rel="noopener"
>papermc&lt;/a> æ˜¯ &lt;a class="link" href="https://www.spigotmc.org/" target="_blank" rel="noopener"
>SpigotMC&lt;/a> çš„åˆ†æ”¯ï¼Œæ—¨åœ¨æä¾›åŸç”Ÿ Minecraft çš„ä½“éªŒã€‚ä¹Ÿå°±æ˜¯è¯´å®ƒä¸æ”¯æŒä»¥å‰æˆ‘åœ¨ç© Minecraft æ—¶è€³ç†Ÿèƒ½è¯¦çš„é‚£äº› Forge ç‰ˆ modï¼Œåªæ”¯æŒæœåŠ¡å™¨ç«¯çš„ bukkit æ’ä»¶ï¼ˆpluginï¼‰ã€‚å¥½å¤„æ˜¯ç›¸æ¯”ä¸ Forge æœåŠ¡å™¨å ç”¨æ›´å°ï¼Œå¹¶ä¸”ä¸æŒ‘å®¢æˆ·ç«¯ï¼Œåªè¦å®¢æˆ·ç«¯ Minecraft ç‰ˆæœ¬å’ŒæœåŠ¡å™¨ä¸€è‡´å°±èƒ½è¿ä¸Šã€‚
é…ç½®å¥½ä¹‹åï¼Œä½¿ç”¨ frpc è½¬å‘ 25565 ç«¯å£åˆ°å…¬ç½‘ï¼Œå°±å¯ä»¥æ„‰å¿«åœ°å’Œæœ‹å‹ä»¬ä¸€èµ·ç©å•¦ã€‚&lt;/p>
&lt;h4 id="åå°ç®¡ç†">åå°ç®¡ç†
&lt;/h4>&lt;p>åœ¨ docker-compose.yaml ä¸­å¯¹åº”çš„ service é…ç½®é‡ŒåŠ ä¸Š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">stdin_open&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">tty&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">container_name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mcserver&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ç„¶å&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ docker compose up -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¹‹åä¾¿å¯ä»¥é€šè¿‡&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ docker attach mcserver
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿›å…¥æœåŠ¡å™¨åå°ï¼Œä½¿ç”¨æŒ‡ä»¤ç®¡ç†æœåŠ¡å™¨ã€‚&lt;/p>
&lt;h4 id="é…ç½®">é…ç½®
&lt;/h4>&lt;p>papermc ç›¸æ¯”äºåŸç‰ˆæœåŠ¡ç«¯ä¿®å¤äº†æ´»å¡ç›¸å…³çš„ä¸€äº›â€œç‰¹æ€§â€ï¼Œä¾‹å¦‚ä½¿ç”¨æ´»å¡å¤åˆ¶ç‰©å“ç­‰ï¼Œå¹¶åœ¨é…ç½®æ–‡ä»¶ä¸­é»˜è®¤é™åˆ¶è¿™äº›è¡Œä¸ºï¼Œå¯¼è‡´åˆ·åœ°æ¯¯æœº/ç ´åŸºå²©ç­‰åŸç‰ˆå¯è¡Œçš„æ“ä½œåœ¨ papermc æœåŠ¡ç«¯å†…ä¸å¯ç”¨ã€‚å½“ç„¶è¿™æ ·å¯¹äºæœä¸»è€Œè¨€ç¡®å®å¯ä»¥é˜²æ­¢ç©å®¶åšå‡ºè¶Šç•Œçš„è¡Œä¸ºï¼Œä½†æ˜¯å¯¹äºæˆ‘è¿™ç§åªæœ‰å‡ ä¸ªæœ‹å‹åœ¨ä¸€èµ·ç©çš„æœåŠ¡å™¨ï¼Œå°±ä¸éœ€è¦é™åˆ¶è¿™äº›äº†ã€‚å…³é—­é™åˆ¶çš„æ–¹å¼å¾ˆç®€å•ï¼Œä¿®æ”¹æ•°æ®ç›®å½•ä¸‹çš„&lt;code>paper.yml&lt;/code>ï¼Œå°†&lt;code>allow-headless-pistons&lt;/code>ã€&lt;code>allow-permanent-block-break-exploits&lt;/code>å’Œ&lt;code>allow-piston-duplication&lt;/code>ä¸‰é¡¹è®¾ç½®ä¸º&lt;code>true&lt;/code>å³å¯ã€‚&lt;/p>
&lt;h4 id="å®‰è£…æ’ä»¶">å®‰è£…æ’ä»¶
&lt;/h4>&lt;p>Papermc æ”¯æŒçš„æ’ä»¶å¯ä»¥åœ¨ &lt;a class="link" href="https://hangar.papermc.io/" target="_blank" rel="noopener"
>Hanger&lt;/a>ã€&lt;a class="link" href="https://dev.bukkit.org/bukkit-plugins" target="_blank" rel="noopener"
>bukkit&lt;/a>æˆ–&lt;a class="link" href="https://www.spigotmc.org/resources/" target="_blank" rel="noopener"
>SpigotMC&lt;/a>ä¸‹è½½ã€‚ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„ jar æ–‡ä»¶æ”¾åˆ° /data/plugins æ–‡ä»¶å¤¹ä¸‹ï¼ˆæˆ–è€…ç›´æ¥ä½¿ç”¨ wget/curl ä¸‹è½½ï¼‰ï¼Œç„¶åé‡å¯æœåŠ¡å™¨ï¼Œåœ¨å¯åŠ¨æ—¶å¦‚æœæ–°å¢çš„æ’ä»¶æ²¡æœ‰æŠ¥é”™è¯¯ä¿¡æ¯ï¼Œé‚£å¤§æ¦‚ç‡æ˜¯æ²¡é—®é¢˜çš„ã€‚&lt;/p>
&lt;p>ç›®å‰åŠ äº†è¿™äº›æ’ä»¶ï¼š&lt;/p>
&lt;ul>
&lt;li>Minepacksï¼šèƒŒåŒ…æ’ä»¶ï¼›&lt;/li>
&lt;li>TreeFellerï¼šè¿é”ç æ ‘ï¼›&lt;/li>
&lt;li>worldeditï¼šåˆ›ä¸–ç¥æ’ä»¶ï¼›&lt;/li>
&lt;li>worldguard&lt;/li>
&lt;li>EssentialsXï¼šæ­£å¦‚å…¶åï¼Œæä¾›ä¸€äº›æœåŠ¡å™¨çš„å¿…å¤‡åŠŸèƒ½ï¼›&lt;/li>
&lt;li>StackableItemsï¼šå¢åŠ ç‰©å“å †å ä¸Šé™ï¼›&lt;/li>
&lt;li>Multiverse-Coreï¼šå¤šä¸–ç•ŒåŸºç¡€æ’ä»¶ã€‚
&lt;ul>
&lt;li>Multiverse-signportalsï¼šä½¿ç”¨å‘Šç¤ºç‰Œåœ¨å¤šä¸–ç•Œé—´ä¼ é€ï¼›&lt;/li>
&lt;li>OpenTerrainGeneratorï¼šåˆ›å»ºä¸åŒç±»å‹ä¸–ç•Œçš„åŸºç¡€æ’ä»¶ä¹‹ä¸€ã€‚
&lt;ul>
&lt;li>Skylands&lt;/li>
&lt;li>FarFromHome&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>ViaVersionï¼šæ”¾å®½å®¢æˆ·ç«¯ç‰ˆæœ¬é™åˆ¶ï¼›&lt;/li>
&lt;li>LaggRemoverï¼šå‡å°‘æœåŠ¡å™¨å¡é¡¿ï¼›&lt;/li>
&lt;li>BlueMap: åœ°å›¾æ’ä»¶ï¼Œæä¾›äº†ç¾è§‚çš„åœ¨çº¿3Dåœ°å›¾ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://github.com/Cubxity/UnifiedMetrics" target="_blank" rel="noopener"
>UnifiedMetrics&lt;/a>ï¼šæ•°æ®æ”¶é›†æ’ä»¶ï¼Œæ”¯æŒå‰è¿°çš„ Prometheusã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="å‚è€ƒèµ„æ–™">å‚è€ƒèµ„æ–™
&lt;/h2>&lt;style>
.bibliography { display: table; font-size: medium; line-height: normal; }
.bib-item { display: table-row; }
.bib-item > :first-child { display: table-cell; padding-right: .5em; font-weight: bold; text-align: right; }
.bib-item > :last-child { display: table-cell; padding-bottom: .5ex; }
&lt;/style>
&lt;div class="bibliography">&lt;div id="cite1" class="bib-item">
&lt;span>[1]&lt;/span>
&lt;span>Install Docker Engine on Ubuntu - Docker Docs | &lt;a class="link" href="https://docs.docker.com/engine/install/ubuntu/#install-using-the-convenience-script" target="_blank" rel="noopener"
>https://docs.docker.com/engine/install/ubuntu/#install-using-the-convenience-script&lt;/a>&lt;a href="#ref-cite1-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;div id="cite2" class="bib-item">
&lt;span>[2]&lt;/span>
&lt;span>Docker æ¢æº - è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº | &lt;a class="link" href="https://cloud.tencent.com/developer/article/1769231" target="_blank" rel="noopener"
>https://cloud.tencent.com/developer/article/1769231&lt;/a>&lt;a href="#ref-cite2-1">â¤¶&lt;/a>&lt;/span>
&lt;/div>&lt;/div></description></item><item><title>ã€RLå­¦ä¹ ç¬”è®°ã€‘Qå­¦ä¹ ç®—æ³•</title><link>https://blog.furffisite.link/p/q-learning/</link><pubDate>Thu, 18 May 2023 15:05:05 +0800</pubDate><guid>https://blog.furffisite.link/p/q-learning/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20230518191643-b6c8849bfb006d40abef7203bb5e15a0-18b9a.jpg" alt="Featured image of post ã€RLå­¦ä¹ ç¬”è®°ã€‘Qå­¦ä¹ ç®—æ³•" />&lt;h2 id="ç®—æ³•">ç®—æ³•
&lt;/h2>&lt;p>Q å­¦ä¹ ç®—æ³•ï¼ˆQ-Learning Algorithmï¼‰çš„æ€è·¯æ¯”è¾ƒç®€å•ï¼šä½¿ç”¨ Q å‡½æ•°è®°å½•&lt;strong>æ¯ä¸€ä¸ªçŠ¶æ€ä¸‹æ¯ä¸€ä¸ªåŠ¨ä½œï¼ˆactionï¼‰çš„æœŸæœ›æœ€å¤§æ€»å›æŠ¥ï¼ˆrewardï¼‰&lt;/strong>ï¼Œå³ Q å€¼ã€‚åœ¨æ¨ç†æ—¶è´ªå¿ƒåœ°é€‰æ‹©å½“å‰çŠ¶æ€ Q å€¼æœ€å¤§çš„åŠ¨ä½œï¼Œä»è€Œè¾¾åˆ°æœ€å¤§åŒ–æœŸæœ›æ€»å›æŠ¥çš„ç›®çš„ã€‚å½“é—®é¢˜çš„çŠ¶æ€ä¸åŠ¨ä½œå‡ä¸ºç¦»æ•£æ—¶ï¼ŒQ å‡½æ•°å¯ä»¥ä½¿ç”¨è¡¨æ ¼è®°å½•ï¼Œè¿™ä¸ªè¡¨æ ¼ä¹Ÿç§°ä¸º Q è¡¨æ ¼ï¼ˆQ-Tableï¼‰ã€‚&lt;/p>
&lt;p>è®¾ï¼š&lt;/p>
&lt;ul>
&lt;li>é—®é¢˜çš„çŠ¶æ€ç©ºé—´ä¸º $S = {1,&lt;del>2,&lt;/del>\ldots, m}$ï¼›&lt;/li>
&lt;li>é—®é¢˜çš„åŠ¨ä½œç©ºé—´ä¸º $A = {1,&lt;del>2,&lt;/del>\ldots, n}$ï¼›&lt;/li>
&lt;li>æ¢ç´¢é˜ˆå€¼ä¸º $\epsilon\in [0,1]$ï¼ˆæ¨ç†æ—¶ $\epsilon = 0$ï¼‰ï¼›&lt;/li>
&lt;li>å­¦ä¹ ç‡ $\eta\in [0,1]$ï¼›&lt;/li>
&lt;li>å›æŠ¥è¡°å‡ç‡ $\gamma\in [0,1]$ã€‚&lt;/li>
&lt;/ul>
&lt;p>åˆ™ Q å­¦ä¹ ç®—æ³•çš„æµç¨‹å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>åˆå§‹åŒ– Q è¡¨æ ¼ä¸ºé›¶çŸ©é˜µ $Q=O_{m\times n}$ï¼›&lt;/li>
&lt;li>è®¾åˆå§‹æ—¶é—´ $t = 0$ï¼ŒçŠ¶æ€ä¸º $s_t = s_0$ï¼›&lt;/li>
&lt;li>é€‰æ‹©åŠ¨ä½œ $a_t$ï¼šå–éšæœºæ•° $r\in[0,1]$ï¼Œè‹¥ $r&amp;lt;\epsilon$ï¼Œåˆ™å½“å‰ä¸ºæ¢ç´¢é˜¶æ®µï¼Œä» $A$ éšæœºé€‰å–ä¸€ä¸ªåŠ¨ä½œï¼›å¦åˆ™ $a_t = \argmax_{j\in A} Q_{s_t, j}$ï¼›&lt;/li>
&lt;li>ä¸ç¯å¢ƒäº¤äº’ï¼Œæ‰§è¡ŒåŠ¨ä½œ $a_t$ï¼Œå¹¶è·å¾—çŠ¶æ€ $s_{t+1}$ã€å›æŠ¥ $r_t$ï¼›&lt;/li>
&lt;li>æŒ‰ç…§ &lt;a class="link" href="https://en.wikipedia.org/wiki/Bellman_equation" target="_blank" rel="noopener"
>Bellman æ–¹ç¨‹&lt;/a> æ›´æ–°Qè¡¨æ ¼ï¼š
$$Q_{s_t, a_t} \leftarrow (1-\eta) Q_{s_t, a_t} + \eta(\gamma\max_{j\in A} Q_{s_{t+1},j} + r_t),$$
å…¶ä¸­ $\max Q_{s_{t+1},j}$ ä¸º è½¬ç§»åçš„çŠ¶æ€ $s_{t+1}$ ä¸‹æœ€å¤§çš„Qå€¼ï¼ŒåŠ ä¸Š $r_t$ï¼Œç»„æˆè½¬ç§»å‰çŠ¶æ€ $s_t$ ä¸‹ $a_t$ æ“ä½œçš„Qå€¼ã€‚å°†å…¶ä¸åŸæ¥çš„ $Q_{s_t, a_t}$ åŠ æƒå¹³å‡å°±å¾—åˆ°äº†æ›´æ–°åçš„Qå€¼ã€‚&lt;/li>
&lt;li>æ—¶é—´ $t\leftarrow t+1$ï¼Œå›åˆ°ç¬¬ 3 æ­¥ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="å®ç°">å®ç°
&lt;/h2>&lt;h3 id="frozen-lake">Frozen Lake
&lt;/h3>&lt;p>ä»¥ &lt;a class="link" href="https://gymnasium.farama.org/" target="_blank" rel="noopener"
>Gym&lt;/a> çš„ &lt;a class="link" href="https://gymnasium.farama.org/environments/toy_text/frozen_lake/" target="_blank" rel="noopener"
>Frozen Lake&lt;/a> ç¯å¢ƒä¸ºä¾‹ï¼Œå…¶çŠ¶æ€ç©ºé—´ä¸åŠ¨ä½œç©ºé—´éƒ½æ˜¯ç¦»æ•£çš„ï¼Œå› æ­¤é€‚åˆä½¿ç”¨ Q è¡¨æ ¼ã€‚è¿™ä¸ªç¯å¢ƒå…±æœ‰ $4^2=16$ ç§çŠ¶æ€ï¼Œ4 ç§åŠ¨ä½œï¼Œåˆ†åˆ«å¯¹åº”ä¸Šä¸‹å·¦å³å››ä¸ªç§»åŠ¨æ–¹å‘ã€‚ç¯å¢ƒä¸­&lt;code>slippery&lt;/code>å¼•å…¥çš„ä¸ç¡®å®šæ€§å¤ªå¤§ï¼ˆæ¯æ¬¡è¡ŒåŠ¨åªæœ‰$1/3$çš„æ¦‚ç‡èƒ½çœŸæ­£å‰å¾€æŒ‡å®šçš„æ–¹å‘ï¼‰ï¼Œå› æ­¤è¿™é‡Œåˆ›å»ºç¯å¢ƒæ—¶&lt;code>is_slippery&lt;/code>ä¸€é¡¹è®¾ä¸º&lt;code>False&lt;/code>ã€‚&lt;/p>
&lt;p>å®ç°å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">gymnasium&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">gym&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">random&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">random&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">env&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">gym&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">make&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;FrozenLake-v1&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">map_name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;4x4&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">is_slippery&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">n_actions&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n_states&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">action_space&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">observation_space&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">n&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">lr&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">gamma&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.6&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">total&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1000&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Q_table&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zeros&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="n">n_states&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n_actions&lt;/span>&lt;span class="p">))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reset&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">total&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># é€‰æ‹©åŠ¨ä½œ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">epsilon&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">t&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="n">total&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">random&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="n">epsilon&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># æ¢ç´¢&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">action&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">action_space&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sample&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">action&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Q_table&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">argmax&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">org_state&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">state&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">reward&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">terminated&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">truncated&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">step&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">action&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">state&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">n_states&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># æŠµè¾¾ç»ˆç‚¹ï¼Œè·å¾—å¥–åŠ±&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">20&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">elif&lt;/span> &lt;span class="n">terminated&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># æ‰è¿›æ´é‡Œï¼Œç»™äºˆæƒ©ç½š&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># è®©agentå°½å¿«æŠµè¾¾ç»ˆç‚¹&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">reward&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># æ›´æ–°Qå€¼&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">Q_table&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">org_state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">action&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">((&lt;/span>&lt;span class="mi">1&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">lr&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">Q_table&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">org_state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">action&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">+&lt;/span> &lt;span class="n">lr&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">reward&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">gamma&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">Q_table&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">state&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">()))&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">if&lt;/span> &lt;span class="n">terminated&lt;/span> &lt;span class="ow">or&lt;/span> &lt;span class="n">truncated&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">state&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">info&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">env&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reset&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åŸç¯å¢ƒæä¾›çš„å›æŠ¥å‡½æ•°æ‰€å«çš„ä¿¡æ¯è¾ƒå°‘ï¼ˆä»…åœ¨æŠµè¾¾ç»ˆç‚¹æ—¶ä¸º 1ï¼Œå…¶ä½™æƒ…å†µå‡ä¸º 0ï¼‰ï¼Œä¸åˆ©äºç®—æ³•çš„æ”¶æ•›ï¼Œå› æ­¤æˆ‘åœ¨å®ç°ä¸­é‡æ–°è®¾è®¡äº†å›æŠ¥å‡½æ•°ã€‚
æ­¤å¤–ï¼Œè®­ç»ƒæ—¶é‡‡ç”¨çº¿æ€§è¡°å‡çš„æ¢ç´¢é˜ˆå€¼ $\epsilon$ ï¼Œå³è®­ç»ƒåˆæœŸå€¾å‘äºæ¢ç´¢ï¼ˆexplorationï¼‰ï¼ŒåæœŸå€¾å‘äºå¼€å‘ï¼ˆexploitationï¼‰ã€‚&lt;/p>
&lt;p>è®­ç»ƒæ—¶æ¯è½®çš„ t ä¸è¯¥è½®è·å¾—çš„æ€» reward çš„æŠ˜çº¿å›¾å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/20230518182030-919e874eac177ca3e790e7ee6f3046de-a01ac.png"
loading="lazy"
>&lt;/p>
&lt;p>æ¨ç†æ—¶ç®—æ³•é€‰æ‹©çš„è·¯çº¿å¦‚ä¸‹å›¾ï¼Œç¡®å®æ˜¯æœ€ä¼˜è·¯çº¿ä¹‹ä¸€ã€‚&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/20230518182047-803e364c89da138e7326b34667db82f2-057ca.gif"
loading="lazy"
>&lt;/p>
&lt;p>é™¤äº† Frozen Lakeï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿå¯ä»¥ç”¨æ¥æ±‚è§£ Gym æä¾›çš„ &lt;a class="link" href="https://gymnasium.farama.org/environments/toy_text/cliff_walking/" target="_blank" rel="noopener"
>Cliff Walking&lt;/a>ã€&lt;a class="link" href="https://gymnasium.farama.org/environments/toy_text/taxi/" target="_blank" rel="noopener"
>Taxi&lt;/a> ä¸ &lt;a class="link" href="https://gymnasium.farama.org/environments/toy_text/blackjack/" target="_blank" rel="noopener"
>Blackjack&lt;/a>ã€‚ä½†æ˜¯ï¼Œéšç€é—®é¢˜è§„æ¨¡çš„å¢å¤§ï¼Œè®­ç»ƒæ­¥æ•°ä¹Ÿéœ€è¦ç›¸åº”åœ°å¢åŠ ã€‚&lt;/p>
&lt;h3 id="cliff-walking">Cliff Walking
&lt;/h3>&lt;p>è¿™ä¸ªç¯å¢ƒæœ‰ 48 ç§çŠ¶æ€å’Œ 4 ç§åŠ¨ä½œï¼Œå› æ­¤ Q è¡¨æ ¼å†…å…±æœ‰192é¡¹ã€‚ä»¥ä¸‹æ˜¯è®­ç»ƒäº† 10,000 æ­¥çš„ç»“æœï¼ˆå¹³å‡æ¯é¡¹ 52 æ­¥ï¼‰ï¼š&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/20230518183755-c54395a25e87cd173c7c9b80b5e60d30-35491.gif"
loading="lazy"
>&lt;/p>
&lt;h3 id="taxi">Taxi
&lt;/h3>&lt;p>è¿™ä¸ªç¯å¢ƒæœ‰ 500 ç§çŠ¶æ€å’Œ 6 ç§åŠ¨ä½œï¼Œå¯¹åº” Q è¡¨æ ¼çš„ 3000 é¡¹ã€‚ä»¥ä¸‹æ˜¯è®­ç»ƒäº† 200,000 æ­¥çš„ç»“æœï¼ˆå¹³å‡æ¯é¡¹ 67 æ­¥ï¼‰ï¼š&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/20230518185029-6e6e54510ded0b9180a5d99c54ee3756-689cf.gif"
loading="lazy"
>
&lt;img src="https://files.furffisite.link/blogimg/20230518214938-1806f73fe873209df4641d6007f123e8-43ce4.png"
loading="lazy"
>&lt;/p>
&lt;h3 id="blackjack">Blackjack
&lt;/h3>&lt;p>Blackjack æœ‰ $32\times 11\times 2=704$ ç§çŠ¶æ€å’Œ $2$ ç§åŠ¨ä½œï¼Œåœ¨å¤„ç†æ—¶éœ€è¦å°†ç¦»æ•£çš„çŠ¶æ€å‘é‡æ˜ å°„åˆ°éè´Ÿæ•´æ•°åŸŸå†…ã€‚
è¿™ä¸ªæ¸¸æˆçš„çŠ¶æ€è½¬ç§»å­˜åœ¨ä¸ç¡®å®šæ€§ï¼Œå³ä½¿æ˜¯å……åˆ†è®­ç»ƒï¼ˆ$5\times 10^6$ æ­¥ï¼‰çš„Qè¡¨æ ¼ä¹Ÿåªèƒ½å°†èƒœç‡ä»å®Œå…¨éšæœºæ—¶çš„ 28.2% æå‡åˆ° 39.3%ã€‚&lt;/p>
&lt;h2 id="åˆ†æ">åˆ†æ
&lt;/h2>&lt;h3 id="ä¼˜ç‚¹">ä¼˜ç‚¹
&lt;/h3>&lt;ul>
&lt;li>ç®—æ³•ç®€å•ï¼Œæ˜“äºç†è§£å’Œå®ç°ã€‚&lt;/li>
&lt;/ul>
&lt;h3 id="å±€é™æ€§">å±€é™æ€§
&lt;/h3>&lt;ul>
&lt;li>åŸºäº Q è¡¨æ ¼çš„ Q å­¦ä¹ ç®—æ³•åªèƒ½å¤„ç†è¾“å…¥è¾“å‡ºéƒ½æ˜¯ç¦»æ•£çš„é—®é¢˜ï¼›&lt;/li>
&lt;li>åŸºäº Q è¡¨æ ¼çš„ Q å­¦ä¹ ç®—æ³•ä¸èƒ½è·¨å®ä¾‹å­¦ä¹ ï¼Œå³åœ¨é‡åˆ°æ–°çš„é—®é¢˜å®ä¾‹æ—¶ï¼Œéœ€è¦ä» 0 å¼€å§‹é‡æ–°æ¢ç´¢ï¼›&lt;/li>
&lt;li>åŸºäº Q è¡¨æ ¼çš„ Q å­¦ä¹ ç®—æ³•éš¾ä»¥å¤„ç†è®­ç»ƒè¿‡ç¨‹ä¸­æ²¡æœ‰è§è¿‡çš„çŠ¶æ€ï¼›&lt;/li>
&lt;li>å½“çŠ¶æ€ç©ºé—´æˆ–åŠ¨ä½œç©ºé—´å¾ˆå¤§æ—¶ï¼ŒQ è¡¨æ ¼çš„è§„æ¨¡ä¹Ÿä¼šå¾ˆå¤§ï¼Œä»è€Œéœ€è¦æ›´é•¿çš„å­¦ä¹ æ—¶é—´ã€‚&lt;/li>
&lt;/ul>
&lt;p>ä¸Šè¿°é—®é¢˜å¯ä»¥é€šè¿‡å¼•å…¥ç¥ç»ç½‘ç»œç¼“è§£ï¼Œå³æ·±åº¦ Q å­¦ä¹ ç®—æ³•ï¼ˆDeep Q-Learning Algorithmï¼‰ã€‚&lt;/p></description></item><item><title>è§£å†³ Linux ç³»ç»Ÿæ·±è‰²æ¨¡å¼ä¸‹çš„ Zotero æ˜¾ç¤ºé—®é¢˜</title><link>https://blog.furffisite.link/p/linux-darkmode-zotero-gui-issue/</link><pubDate>Sat, 13 May 2023 13:12:27 +0800</pubDate><guid>https://blog.furffisite.link/p/linux-darkmode-zotero-gui-issue/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20240527150719-58fa3bf91a709e8e208c96720f0aeca2-547a4.jpg" alt="Featured image of post è§£å†³ Linux ç³»ç»Ÿæ·±è‰²æ¨¡å¼ä¸‹çš„ Zotero æ˜¾ç¤ºé—®é¢˜" />&lt;p>å› ä¸º Linux ç«¯çš„ Zoteroï¼ˆ&lt;a class="link" href="https://aur.archlinux.org/packages/zotero-bin" target="_blank" rel="noopener"
>AUR&lt;/a>ï¼‰ä¸­æœ‰ä¸€éƒ¨åˆ†å…ƒç´ çš„æ ·å¼æ˜¯ç”± GTK æ§åˆ¶çš„ï¼Œå› æ­¤å½“ç³»ç»Ÿçš„ GTK ä¸»é¢˜ä¸ºæ·±è‰²ä¸»é¢˜æ—¶ï¼ŒZotero çš„ç•Œé¢ä¼šå‘ˆç°ä¸ºè¿™ä¸ªæ ·å­ï¼š
&lt;img src="https://files.furffisite.link/blogimg/2023-05-13_13-32-08.png"
loading="lazy"
>&lt;/p>
&lt;p>è¿™ä¸æ˜¯å¾ˆå¥½çœ‹ï¼Œå¹¶ä¸”éƒ¨åˆ†åŒºåŸŸå†…æ–‡å­—å’ŒèƒŒæ™¯è‰²çš„å¯¹æ¯”åº¦å¾ˆä½ï¼Œå¯¼è‡´æ–‡å­—éš¾ä»¥é˜…è¯»ã€‚&lt;/p>
&lt;p>æ ¹æ®&lt;a class="link" href="https://forums.zotero.org/discussion/98693/theme-issue-some-parts-of-zoteros-gui-on-linux-are-controlled-by-gtk" target="_blank" rel="noopener"
>è¿™ä¸ªå¸–å­&lt;/a>ï¼Œè§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡ç¯å¢ƒå˜é‡åœ¨ç¨‹åºå¯åŠ¨æ—¶æŒ‡å®šå…¶ä½¿ç”¨çš„ GTK ä¸»é¢˜ï¼Œä¹Ÿå°±æ˜¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ &lt;span class="nv">GTK_THEME&lt;/span>&lt;span class="o">=&lt;/span>Pop-light zotero
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>åæ˜ åˆ° Desktop æ–‡ä»¶ä¸Šï¼ˆé€šå¸¸ä½äº&lt;code>/usr/share/applications/&lt;/code>å’Œ&lt;code>~/.local/share/applications/&lt;/code>ï¼‰ï¼Œå°±æ˜¯åœ¨å¯åŠ¨æŒ‡ä»¤ï¼ˆExec é¡¹ï¼‰å‰åŠ å…¥&lt;code>env GTK_THEME=Pop-light&lt;/code>ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ini" data-lang="ini">&lt;span class="line">&lt;span class="cl">&lt;span class="k">[Desktop Entry]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">Application&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">Zotero&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">Exec&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">env GTK_THEME=Pop-light /usr/bin/zotero -url %U&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="na">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·æ“ä½œåï¼Œé€šè¿‡åº”ç”¨å¯åŠ¨å™¨æ‰“å¼€çš„ Zotero å°±ä¸ä¼šæœ‰é—®é¢˜äº†ã€‚&lt;/p></description></item><item><title>åœ¨Pythonä¸­å¯¼å…¥å½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ¨¡å—</title><link>https://blog.furffisite.link/p/python-import-directory-modules/</link><pubDate>Thu, 11 May 2023 12:22:54 +0800</pubDate><guid>https://blog.furffisite.link/p/python-import-directory-modules/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20230511163144-c5d0b19ce502665b1891ef8c78c5b839-32aa3.jpg" alt="Featured image of post åœ¨Pythonä¸­å¯¼å…¥å½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰æ¨¡å—" />&lt;h2 id="é—®é¢˜èƒŒæ™¯">é—®é¢˜èƒŒæ™¯
&lt;/h2>&lt;p>åœ¨ä½¿ç”¨ Python çš„ Flask æ¡†æ¶å¼€å‘ Web åº”ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸ªåŸºæœ¬çš„æœåŠ¡ç«¯ç¨‹åºç»“æ„å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">flask&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Flask&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Flask&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="vm">__name__&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@app.route&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/handler1&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">handler1&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@app.route&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/handler2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">handler2&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@app.route&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/handler3&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">handler3&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å¯ä»¥æŒ‰ç…§è¿™ç§æ¨¡å¼æ— é™æ·»åŠ å¤„ç†è§†å›¾ï¼ˆhandlerï¼‰ï¼Œä½†æ˜¯éšç€é¡¹ç›®å¢å¤§ï¼Œè¿™ç§å°†æ‰€æœ‰ handler éƒ½æ”¾åœ¨ä¸€ä¸ª py æ–‡ä»¶é‡Œçš„æ¨¡å¼æ˜¾ç„¶æ˜¯ä¸åˆé€‚çš„ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨ &lt;a class="link" href="https://dormousehole.readthedocs.io/en/latest/tutorial/views.html" target="_blank" rel="noopener"
>blueprint&lt;/a> å°†æ¯ä¸ª handlerï¼ˆæˆ–ä¸€ç»„ handlerï¼‰æ”¾åœ¨äº’ç›¸ç‹¬ç«‹çš„æ–‡ä»¶é‡Œã€‚&lt;/p>
&lt;p>é¡¹ç›®ç»“æ„å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">.
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â”œâ”€â”€ app.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">â””â”€â”€ services
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ __init__.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ login.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> â”œâ”€â”€ register.py
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> ...
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»£ç å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34; === app.py === &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">flask&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Flask&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">services&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">blueprint&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">app&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Flask&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="vm">__name__&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">app&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">register_blueprint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">blueprint&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34; === services/__init__.py === &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">flask&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Blueprint&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">blueprint&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Blueprint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;api&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="vm">__name__&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¸ºäº†åœ¨ç¨‹åºå¯åŠ¨è¿‡ç¨‹ä¸­èƒ½è¿è¡Œä¸¤ä¸ª handler æ–‡ä»¶ï¼Œéœ€è¦åœ¨è¿™é‡Œ import å®ƒä»¬&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">.&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">login&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">.&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">register&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34; === services/login.py === &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">.&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">blueprint&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@blueprint.route&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;/login&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">handle_login&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å¤„ç†ç™»å½•é€»è¾‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;&amp;#34;&amp;#34; === services/register.py === &amp;#34;&amp;#34;&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">.&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">blueprint&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nd">@blueprint.route&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;/register&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">methods&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;POST&amp;#34;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">def&lt;/span> &lt;span class="nf">handle_register&lt;/span>&lt;span class="p">():&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="c1"># å¤„ç†æ³¨å†Œé€»è¾‘&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="o">...&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ ·åšå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š&lt;/p>
&lt;ol>
&lt;li>æ¯æ¬¡æ–°å¢ä¸€ä¸ªæ–‡ä»¶éƒ½éœ€è¦åœ¨&lt;code>__init__.py&lt;/code>ä¸­æ·»åŠ ç›¸åº”çš„ import è¯­å¥ï¼Œè¾ƒä¸ºéº»çƒ¦ï¼›&lt;/li>
&lt;li>&lt;a class="link" href="https://www.python.org/dev/peps/pep-0008/#imports" target="_blank" rel="noopener"
>PEP-8&lt;/a> ä¸­è¦æ±‚å°† import è¯­å¥æ”¾åœ¨æ–‡ä»¶çš„é¡¶éƒ¨ï¼Œ&lt;code>__init__.py&lt;/code>æ˜¾ç„¶ä¸ç¬¦åˆï¼ˆä½†å¿…é¡»å¦‚æ­¤ï¼‰ï¼Œå› è€Œé™æ€æ£€æŸ¥å™¨æœ‰å¯èƒ½åœ¨æ­¤å¤„æŠ¥é”™ï¼ˆ&lt;a class="link" href="https://www.flake8rules.com/rules/E402.html" target="_blank" rel="noopener"
>E402&lt;/a>ï¼‰ã€‚&lt;/li>
&lt;/ol>
&lt;p>äºæ˜¯å°±è‡ªç„¶è€Œç„¶åœ°æƒ³åˆ°äº†ï¼š&lt;strong>å¦‚ä½•åœ¨æ¨¡å—åˆå§‹åŒ–æ—¶è‡ªåŠ¨å¯¼å…¥å½“å‰è·¯å¾„ä¸‹çš„æ‰€æœ‰å­æ¨¡å—å‘¢ï¼Ÿ&lt;/strong>&lt;/p>
&lt;h2 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•
&lt;/h2>&lt;p>å°†&lt;code>services/__init__.py&lt;/code>æ”¹ä¸ºè¿™æ ·ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">pkgutil&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">importlib&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">flask&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Blueprint&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">blueprint&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Blueprint&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;api&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="vm">__name__&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">for&lt;/span> &lt;span class="n">spec&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">pkgutil&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">iter_modules&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">path&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">__path__&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">prefix&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">importlib&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">import_module&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">spec&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="vm">__name__&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åŸç†æ¢ç©¶">åŸç†æ¢ç©¶
&lt;/h2>&lt;p>å¯ä»¥é€šè¿‡ pdb æˆ– &lt;code>print&lt;/code> è·å¾—è¿™æ®µç¨‹åºæ‰€æ¶‰åŠå˜é‡çš„å€¼ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="vm">__name__&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;services&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">__path__&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;/tmp/test/services&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">spec&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ModuleInfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">module_finder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">FileFinder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/tmp/test/services&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;login&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ispkg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">spec&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">ModuleInfo&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">module_finder&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">FileFinder&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;/tmp/test/services&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">name&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;register&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ispkg&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>å…¶ä¸­&lt;code>__name__&lt;/code>ä¸ºå½“å‰åŒ…çš„åå­—ï¼Œ&lt;code>__path__&lt;/code>ä¸ºæ–‡ä»¶æ‰€åœ¨æ–‡ä»¶å¤¹çš„è·¯å¾„ã€‚
pkgutilæ¨¡å—çš„&lt;a class="link" href="https://docs.python.org/3/library/pkgutil.html#pkgutil.iter_modules" target="_blank" rel="noopener"
>iter_modules&lt;/a>å‡½æ•°ä¼šæ‰¾åˆ°æä¾›çš„pathä¸‹çš„æ‰€æœ‰å­æ¨¡å—ï¼Œåœ¨è¿™é‡Œå°±æ˜¯&lt;code>login&lt;/code>ä¸&lt;code>register&lt;/code>ï¼Œå¹¶è¿”å›å®ƒä»¬çš„ &lt;a class="link" href="https://docs.python.org/3/library/pkgutil.html#pkgutil.ModuleInfo" target="_blank" rel="noopener"
>ModuleInfo&lt;/a>ã€‚&lt;/p>
&lt;p>åœ¨ for å¾ªç¯å†…æå– ModuleInfo çš„ nameï¼Œå¾—åˆ°æ¨¡å—çš„åå­—ï¼ŒåŠ ä¸Šå‰ç¼€&lt;code>.&lt;/code>ï¼Œå³å½“å‰ç›®å½•ä¸‹çš„å¯¹åº”å­æ¨¡å—ã€‚
æœ€åä½¿ç”¨ importlib çš„ &lt;a class="link" href="https://docs.python.org/3/library/importlib.html#importlib.import_module" target="_blank" rel="noopener"
>import_module&lt;/a> å‡½æ•°å¯¼å…¥å­æ¨¡å—ï¼ˆå³è¿è¡Œå­æ¨¡å—çš„ä»£ç ï¼Œå°† handler æ³¨å†Œåˆ° router ä¸Šï¼‰ã€‚è¿™æ ·æ— è®ºå¢åŠ å¤šå°‘ handler æ–‡ä»¶ï¼Œ&lt;code>__init__.py&lt;/code> éƒ½å¯ä»¥æ‰¾åˆ°å¹¶åŠ è½½å®ƒä»¬ã€‚&lt;/p></description></item><item><title>ä½¿ç”¨starshipå®šåˆ¶ç»ˆç«¯æç¤ºç¬¦</title><link>https://blog.furffisite.link/p/use-starship/</link><pubDate>Fri, 06 Jan 2023 16:24:31 +0800</pubDate><guid>https://blog.furffisite.link/p/use-starship/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20230109230402-9ec5accbc75f863015a4dca68f9f9870-cc3be.jpg" alt="Featured image of post ä½¿ç”¨starshipå®šåˆ¶ç»ˆç«¯æç¤ºç¬¦" />&lt;p>&lt;a class="link" href="https://starship.rs/" target="_blank" rel="noopener"
>starship&lt;/a>&lt;a class="link" href="https://github.com/starship/starship" target="_blank" rel="noopener">
&lt;span style="display:inline-block; vertical-align:top; height:2em;">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
&lt;path stroke="none" d="M0 0h24v24H0z" fill="none"/>
&lt;path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
&lt;/svg>
&lt;/span>&lt;/a>
æ˜¯ä½¿ç”¨ Rust ç¼–å†™çš„è½»é‡ä¸”è¿…é€Ÿçš„ç»ˆç«¯æç¤ºç¬¦ç¨‹åºï¼Œå…¶åŠŸèƒ½å’Œä½œç”¨ä¸ &lt;a class="link" href="https://ohmyz.sh/" target="_blank" rel="noopener"
>Oh My Zsh&lt;/a>&lt;a class="link" href="https://github.com/ohmyzsh/ohmyzsh" target="_blank" rel="noopener">
&lt;span style="display:inline-block; vertical-align:top; height:2em;">&lt;svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
&lt;path stroke="none" d="M0 0h24v24H0z" fill="none"/>
&lt;path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5" />
&lt;/svg>
&lt;/span>&lt;/a>
ç›¸ä¼¼ï¼Œä½†æ˜¯ç›¸æ¯”äº Oh My Zshï¼Œstarship å…·æœ‰ä»¥ä¸‹ä¼˜ç‚¹ï¼š&lt;/p>
&lt;ol>
&lt;li>starship æ˜¯è·¨å¹³å°è·¨ç»ˆç«¯çš„ï¼Œå…¶æ”¯æŒ Bashã€Zshã€Fish ç­‰åå‡ ç§ç»ˆç«¯ï¼Œç”šè‡³åŒ…æ‹¬ Windows çš„ PowerShell ä¸ cmdï¼›&lt;/li>
&lt;li>ä½¿ç”¨ç¼–è¯‘å‹è¯­è¨€ Rust ç¼–å†™çš„ starship åœ¨è¿è¡Œé€Ÿåº¦ä¸Šä¼˜äºåŸºäº shell script çš„ Oh My Zshï¼›&lt;/li>
&lt;li>starship çš„è‡ªå®šä¹‰é…ç½®æ–¹æ³•æ¯” Oh My Zsh ç®€å•ã€‚&lt;/li>
&lt;/ol>
&lt;p>å…ˆä¸Šå›¾ï¼Œä»¥ä¸‹æ˜¯æˆ‘æ‰€ä¹ æƒ¯çš„é…ç½®çš„æ•ˆæœå›¾ã€‚é™¤å½“å‰ç”¨æˆ·ã€hostname å’Œå½“å‰å·¥ä½œè·¯å¾„å¤–ï¼Œstarship è¿˜æ˜¾ç¤ºäº† git çŠ¶æ€ã€ç›¸å…³è½¯ä»¶çš„ç‰ˆæœ¬ã€è¿›ç¨‹çš„è¿”å›ç ã€è¿è¡Œæ—¶é—´ã€å·²ç”¨å†…å­˜/è™šæ‹Ÿå†…å­˜å’Œå½“å‰æ—¶é—´ç­‰ä¿¡æ¯ã€‚starfish æ˜¯é€šè¿‡å½“å‰å·¥ä½œç›®å½•ä¸‹çš„æ–‡ä»¶ååˆ¤æ–­åº”å½“å±•ç¤ºå“ªäº›æ¨¡ç»„çš„ï¼Œæ‰€ä»¥å½“æˆ‘åˆ›å»ºæ–‡ä»¶ä¹‹åæç¤ºç¬¦ä¸Šä¹Ÿå°±å¤šå‡ºäº†ç›¸å…³è½¯ä»¶çš„ä¿¡æ¯ã€‚&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/20230106203308-193e5d500a6dd22eab5f893f5cd189f9-2ce2a.png"
loading="lazy"
>&lt;/p>
&lt;p>ä¸‹æ–‡å°†ç®€è¿° starship çš„å®‰è£…æ–¹æ³•ï¼Œå¹¶ç»™å‡ºæˆ‘çš„é…ç½®æ–‡ä»¶ã€‚&lt;/p>
&lt;h2 id="å®‰è£…">å®‰è£…
&lt;/h2>&lt;p>æœ¬æ–‡ä»…é€‚ç”¨äºåœ¨ Linux ä¸‹çš„ bash å’Œ zsh ç»ˆç«¯å®‰è£… starshipï¼Œåœ¨å…¶å®ƒç»ˆç«¯çš„å®‰è£…æ–¹æ³•è¯·å‚è§ &lt;a class="link" href="https://starship.rs/zh-CN/guide/#%F0%9F%9A%80-%E5%AE%89%E8%A3%85" target="_blank" rel="noopener"
>starship çš„å®˜æ–¹æ–‡æ¡£&lt;/a>ã€‚&lt;/p>
&lt;p>é¦–å…ˆä½¿ç”¨å®˜æ–¹è„šæœ¬åœ¨ Linux ç³»ç»Ÿå†…å®‰è£… starship ç¨‹åºï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ curl -sS https://starship.rs/install.sh &lt;span class="p">|&lt;/span> sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ—¶å¦‚æœåœ¨ç»ˆç«¯è¾“å…¥&lt;code>starship -V&lt;/code>èƒ½çœ‹åˆ° starship çš„ç‰ˆæœ¬ä¿¡æ¯ï¼Œå°±è¯´æ˜ç¨‹åºå®‰è£…æˆåŠŸäº†ã€‚&lt;/p>
&lt;p>ç„¶åéœ€è¦é…ç½®ç»ˆç«¯ç¨‹åºï¼Œä½¿å…¶èƒ½ä½¿ç”¨ starship ä½œä¸ºæç¤ºç¬¦ã€‚åœ¨&lt;code>~/.bashrc&lt;/code>ï¼ˆbash ç»ˆç«¯ï¼‰æˆ–&lt;code>~/.zshrc&lt;/code>ï¼ˆzsh ç»ˆç«¯ï¼‰å†…åŠ å…¥è¿™ä¸€è¡Œå³å¯ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nb">eval&lt;/span> &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>starship init bash&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="é…ç½®">é…ç½®
&lt;/h2>&lt;p>starshipçš„é…ç½®æ–‡ä»¶æ˜¯&lt;code>~/.config/starship.toml&lt;/code>ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡è®¾ç½®ç¯å¢ƒå˜é‡&lt;code>STARSHIP_CONFIG&lt;/code>æ”¹å˜æ­¤æ–‡ä»¶çš„ä½ç½®ã€‚åœ¨ç»ˆç«¯è¾“å…¥&lt;code>starship config&lt;/code>å¯ä»¥ç›´æ¥æ‰“å¼€è¯¥æ–‡ä»¶ã€‚&lt;/p>
&lt;p>ç”±åç¼€åå¯çŸ¥ï¼Œstarship çš„é…ç½®æ–‡ä»¶ä¸º TOML æ–‡ä»¶ï¼Œéµå®ˆ TOML è¯­æ³•ï¼Œå…³äº TOML è¯­æ³•æœ¬æ–‡å°±ä¸èµ˜è¿°äº†ï¼Œè‹¥éœ€è¦äº†è§£è¯¦æƒ…è¯·ç§»æ­¥ &lt;a class="link" href="https://toml.io/cn/" target="_blank" rel="noopener"
>TOML å®˜ç½‘&lt;/a>ã€‚&lt;/p>
&lt;p>starship æ˜¯åˆ†æ¨¡å—çš„ç»“æ„ï¼Œstarship ç”Ÿæˆçš„æç¤ºç¬¦ä¸­çš„æ¯ä¸€ä¸ªéƒ¨åˆ†éƒ½å¯¹åº” starship çš„ä¸€ä¸ªæ¨¡å—ï¼Œä½ å¯ä»¥ä½¿ç”¨&lt;code>starship explain&lt;/code>æŒ‡ä»¤æŸ¥çœ‹å„æ¨¡å—çš„è¯´æ˜åŠå…¶è¿è¡Œæ—¶é—´ï¼Œä¾‹å¦‚ä»¥æˆ‘å½“å‰çš„é…ç½®è¾“å…¥è¯¥å‘½ä»¤åæ•ˆæœå¦‚ä¸‹ï¼š&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/20230106221937-dc59edf0c7890819bbebff31fdf566e2-1269a.png"
loading="lazy"
>&lt;/p>
&lt;p>å…³äºå¦‚ä½•è‡ªå®šä¹‰é…ç½®ï¼Œstarship çš„å®˜æ–¹æ–‡æ¡£å·²ç»å†™çš„å¾ˆå®Œå–„äº†ï¼Œå‚è§ &lt;a class="link" href="https://starship.rs/zh-CN/config/" target="_blank" rel="noopener"
>https://starship.rs/zh-CN/config/&lt;/a>ã€‚&lt;/p>
&lt;p>starship åœ¨å®˜æ–¹æ–‡æ¡£é‡Œå·²ç»ç»™å‡ºäº†&lt;a class="link" href="https://starship.rs/presets/" target="_blank" rel="noopener"
>ä¸€äº›é¢„è®¾&lt;/a>ï¼Œä½ å¯ä»¥ä»¥ä½ å–œæ¬¢çš„é¢„è®¾ä¸ºåŸºç¡€è¿›è¡Œå®šåˆ¶ï¼Œä¾‹å¦‚æˆ‘çš„é…ç½®å°±æ˜¯åœ¨ Bracketed Segments å’Œ Nerd Font Symbols é¢„è®¾ä¹‹ä¸ŠæŒ‰ç…§è‡ªå·±çš„ä¹ æƒ¯æ‰€åšçš„æ›´æ”¹ã€‚æˆ‘çš„&lt;code>starship.toml&lt;/code>å¦‚ä¸‹ï¼š&lt;/p>
&lt;p>å¦å¤–ï¼Œä½¿ç”¨ Nerd Font Symbols éœ€è¦ Nerd Fontï¼Œè¯·å‰å¾€ &lt;a class="link" href="https://www.nerdfonts.com/font-downloads" target="_blank" rel="noopener"
>https://www.nerdfonts.com/font-downloads&lt;/a> ä¸‹è½½ä½ ä¹ æƒ¯çš„å­—ä½“å¯¹åº”çš„å›¾æ ‡å­—ä½“ï¼Œå¹¶åœ¨è™šæ‹Ÿç»ˆç«¯ä¸­å°†å…¶è®¾ä¸ºé»˜è®¤å­—ä½“ã€‚&lt;/p>
&lt;script src="https://gist.github.com/Furffico/f63e63cc192d77ca3c6bb5347f0a1d63.js">&lt;/script>
&lt;h2 id="ç›¸å…³é—®é¢˜">ç›¸å…³é—®é¢˜
&lt;/h2>&lt;p>åœ¨ä½¿ç”¨ Anaconda ç®¡ç† Python çš„è™šæ‹Ÿç¯å¢ƒæ—¶ï¼ŒAnaconda ä¼šè‡ªåŠ¨åœ¨æç¤ºç¬¦å‰åŠ ä¸Šå½“å‰è™šæ‹Ÿç¯å¢ƒçš„åç§°ï¼Œå¦‚&lt;code>(base)&lt;/code>ï¼Œè¿™ä¸ starship å†²çªäº†ï¼ˆä¸” starship çš„ conda æ¨¡å—æä¾›äº†ç›¸åŒçš„åŠŸèƒ½ï¼‰ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨å¦‚ä¸‹æŒ‡ä»¤ç¦ç”¨ Anaconda çš„è¿™ä¸ªåŠŸèƒ½ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">$ conda config --set changeps1 False
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description></item><item><title>åˆ©ç”¨é€æ˜åº¦é€šé“åˆ¶ä½œ QQ å†…è¡¨é‡Œä¸ä¸€çš„å›¾ç‰‡</title><link>https://blog.furffisite.link/p/qq-duplicity-image/</link><pubDate>Tue, 03 Jan 2023 23:51:54 +0800</pubDate><guid>https://blog.furffisite.link/p/qq-duplicity-image/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20230104022542-b692e6e89157626a929575a0b97e5583-3e819.jpg" alt="Featured image of post åˆ©ç”¨é€æ˜åº¦é€šé“åˆ¶ä½œ QQ å†…è¡¨é‡Œä¸ä¸€çš„å›¾ç‰‡" />&lt;style>
.special-bg{ background-color: #fff }
:root[data-scheme="dark"] img.special-bg{ background-color: #000 }
div#gallery { text-align: center; width: 100%; }
div#gallery img{ width:32%; }
&lt;/style>
&lt;p>ä»Šå¤©åœ¨ QQ çœ‹åˆ°ä¸€å¼ å›¾ï¼Œè¿™å¼ å›¾åœ¨é¢„è§ˆä¸‹çœ‹åˆ°çš„å’ŒæŸ¥çœ‹å›¾ç‰‡æ—¶çœ‹åˆ°çš„å†…å®¹ä¸ä¸€æ ·ã€‚è™½ç„¶ä¸æ˜¯ç¬¬ä¸€æ¬¡è§è¿™ç§å›¾äº†ï¼Œä½†æ˜¯ä»Šå¤©åœ¨æ‘¸é±¼çš„æ—¶å€™æ— äº‹å¯åšï¼Œå°±ç ”ç©¶äº†ä¸€ä¸‹å®ƒçš„åŸç†ã€‚&lt;/p>
&lt;p>è¿™å¼ å›¾æ˜¯è¿™æ ·çš„ï¼šå·¦å›¾ä¸ºå®ƒåœ¨èŠå¤©ç•Œé¢çš„æ ·å­ï¼Œå…¸å‹çš„åƒæ¡ƒåœºæ™¯ï¼Œç‚¹å¼€å¤§å›¾ä¹‹åçœ‹åˆ°çš„å´æ˜¯å³å›¾çš„æ ·å­ï¼ˆç¬‘ï¼‰ã€‚
ä¸­é—´çš„å›¾ç‰‡ä¸ºåµŒå…¥çš„åŸå›¾ï¼Œå¦‚æœæ‚¨å¼€å¯äº†æš—è‰²æ¨¡å¼ï¼ˆæ¡Œé¢ç«¯å¯ä»¥åœ¨é¡µé¢å·¦ä¸‹è§’åˆ‡æ¢ï¼‰ï¼Œæ‚¨çœ‹åˆ°ä¸­å›¾çš„åº”è¯¥å’Œå³å›¾ä¸€æ ·ï¼Œåä¹‹åˆ™å’Œå·¦å›¾ä¸€æ ·ã€‚
åŸå›¾å¯ä»¥åœ¨&lt;a class="link" href="https://files.furffisite.link/blogimg/20230104004027-f02f6c487a9b47035c62d6dc44708f5f-23d76.png" target="_blank" rel="noopener"
>è¿™é‡Œ&lt;/a>è·å–ã€‚&lt;/p>
&lt;img class="special-bg" src="https://files.furffisite.link/blogimg/20230104004803-e708ee71f6c9a2ed72525e41a5a50f83-c8ae2.png" loading="lazy" />
&lt;h2 id="åŸç†">åŸç†
&lt;/h2>&lt;p>è¿™ç§å›¾çš„åŸç†å¹¶ä¸éš¾çŒœï¼Œè‚¯å®šåˆ©ç”¨äº† png å›¾ç‰‡çš„é€æ˜åº¦é€šé“ï¼Œä½¿å…¶åœ¨ä¸åŒèƒŒæ™¯è‰²ä¸‹èƒ½å‘ˆç°å‡ºä¸åŒçš„æ•ˆæœã€‚ä¸‹é¢æ±‚è§£ä¸€ä¸‹å®ƒæ˜¯æ€ä¹ˆåˆ¶ä½œå‡ºæ¥çš„ï¼š
ï¼ˆå› ä¸ºè¿™é‡Œåªæ¶‰åŠå›¾åƒçš„åƒç´ å˜æ¢ï¼Œä¸ºç®€åŒ–è¡¨ç¤ºï¼Œä»¥ä¸‹çš„æ¯ä¸ªå˜é‡éƒ½è¡¨ç¤ºå•ä¸ªåƒç´ å•ä¸ªé€šé“çš„å€¼ï¼Œä¸”å®šä¹‰åŸŸä¸º$[0,1]$.ï¼‰&lt;/p>
&lt;p>è®¾åœ¨èŠå¤©ç•Œé¢çœ‹åˆ°çš„å›¾åƒï¼ˆè¡¨å›¾ï¼‰ç°åº¦ä¸º$c$ï¼Œç‚¹å¼€å¤§å›¾åçœ‹åˆ°çš„å›¾åƒï¼ˆé‡Œå›¾ï¼‰ä¸º$h$ï¼Œå¾…æ±‚é‡ä¸ºç”Ÿæˆçš„å›¾åƒçš„ç°åº¦$g$ä¸é€æ˜åº¦$a$ã€‚&lt;/p>
&lt;p>åœ¨èŠå¤©ç•Œé¢çš„å›¾åƒæ˜¯ç›®æ ‡å›¾åƒå’Œç™½è‰²èƒŒæ™¯çš„æ··åˆï¼Œä¹Ÿå°±æ˜¯$$(1-a) + g\cdot a = c.$$
ç‚¹å¼€å¤§å›¾åæ˜¯ç›®æ ‡å›¾åƒå’Œé»‘è‰²èƒŒæ™¯çš„æ··åˆï¼Œå³$$0+g\cdot a = h.$$&lt;/p>
&lt;p>è§£å‡ºæ¥å°±æ˜¯$$a=1+h-c,~g=h/a.$$&lt;/p>
&lt;p>åˆå› ä¸ºè§£éœ€è¦æ»¡è¶³$a,g\in(0,1]$ï¼Œæ‰€ä»¥$c$å’Œ$h$éœ€è¦æ»¡è¶³ä¸ç­‰å¼$$h\le c&amp;lt;1+h$$
å³ä¾§å½“ä¸”ä»…å½“$c=1,~h=0$æ—¶ä¸æˆç«‹ã€‚&lt;/p>
&lt;h2 id="å®ç°">å®ç°
&lt;/h2>&lt;p>è¿™ä¸ªç¨‹åºå®ç°èµ·æ¥æ²¡æœ‰ä»€ä¹ˆéš¾åº¦ï¼Œpython ä»£ç å¦‚ä¸‹ï¼ˆéœ€è¦ Pillow ä¸ numpyï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä¸ºäº†æ»¡è¶³ä¸Šé¢çš„ä¸ç­‰å¼ï¼Œåœ¨ç¨‹åºä¸­éœ€è¦é‡æ–°åˆ†é…ä¸¤å¼ åŸå›¾çš„ç°åº¦çš„èŒƒå›´ã€‚&lt;/p>
&lt;!-- &lt;script src="https://gist.github.com/Furffico/c17003dabdcd382ebd22672415fdc8ae.js">&lt;/script>
-->
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="kn">from&lt;/span> &lt;span class="nn">PIL&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Image&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è¯»å–å›¾ç‰‡+è½¬ç°åº¦&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cover&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Image&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;./cover.png&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">convert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;L&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">hidden&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Image&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">open&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;./hidden.png&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">convert&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;L&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">assert&lt;/span> &lt;span class="n">cover&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="n">hidden&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">size&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cover&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">asarray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">cover&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">hidden&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">asarray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hidden&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># æŒ‰ç…§çº¦æŸæ¡ä»¶è°ƒæ•´åƒç´ èŒƒå›´&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cover_min&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">cover_max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cover&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">cover&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">hidden_min&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">hidden_max&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">hidden&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">hidden&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cover_max&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">cover_min&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">hd&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">hidden_max&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">hidden_min&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">divide_portion&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">hd&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">hd&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">cd&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">cover_f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">cover&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cover_min&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">cd&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">divide_portion&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">divide_portion&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">hidden_f&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">hidden&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">hidden_min&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mf">1.0&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">hd&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">divide_portion&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># è®¡ç®—&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">alpha&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">cover_f&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="n">hidden_f&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">gray&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">hidden_f&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">alpha&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">alpha&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">alpha&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">astype&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">uint8&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">gray&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="n">gray&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">astype&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">uint8&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">stack&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">gray&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">gray&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">gray&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">alpha&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">axis&lt;/span>&lt;span class="o">=-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># ä¿å­˜ç»“æœ&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">img&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Image&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">fromarray&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">result&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">img&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">save&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;./output.png&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>è¿™æ˜¯éšæ‰‹æŠ“çš„ä¸¤å¼ é»‘ç™½è¡¨æƒ…åŒ…åšå‡ºæ¥çš„æ•ˆæœï¼Œé¡ºåºå’Œä¸Šé¢çš„å±•ç¤ºä¸€æ ·ï¼Œæ‚¨å¯ä»¥é€šè¿‡åˆ‡æ¢æš—è‰²æ¨¡å¼æŸ¥çœ‹æ•ˆæœï¼š&lt;/p>
&lt;div id="gallery">
&lt;img src="https://files.furffisite.link/blogimg/20230104021055-4335bfe7d53a6c36ecf385e6dd745720-42087.png" />
&lt;img class="special-bg" src="https://files.furffisite.link/blogimg/20230104021105-ac757580dd8f0556361deaff45f67cdb-9ae31.png" />
&lt;img src="https://files.furffisite.link/blogimg/20230104021111-465e5a2c48fa8b8aa79af65f297f2a38-342fa.png" />
&lt;/div>
&lt;p>æ³¨ï¼šåœ¨ QQ å‘é€æ­¤ç±»å›¾ç‰‡æ—¶ï¼Œä¸€å®šè¦é€‰æ‹©å‘é€åŸå›¾ï¼Œå¦åˆ™ QQ å¯èƒ½ä¼šåœ¨å‹ç¼©è¿‡ç¨‹ä¸­å»æ‰é€æ˜åº¦é€šé“ï¼Œå¯¼è‡´å…¶å¤±æ•ˆã€‚&lt;/p></description></item><item><title>å¦‚ä½•å°†LaTeXå†…è¶…å‡ºæ–‡æœ¬å®½åº¦çš„æµ®åŠ¨ä½“å±…ä¸­</title><link>https://blog.furffisite.link/p/latex-widefloat-centering/</link><pubDate>Sat, 24 Dec 2022 12:38:21 +0800</pubDate><guid>https://blog.furffisite.link/p/latex-widefloat-centering/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/20230511163659-9e52e93f3d72fae5e3a97613e49e921f-97fa4.jpg" alt="Featured image of post å¦‚ä½•å°†LaTeXå†…è¶…å‡ºæ–‡æœ¬å®½åº¦çš„æµ®åŠ¨ä½“å±…ä¸­" />&lt;p>å¦‚ä½•åœ¨$\LaTeX$ä¸­å°†è¶…å‡ºæ–‡æœ¬å®½åº¦çš„æµ®åŠ¨ä½“ï¼ˆè¡¨æ ¼/å›¾ç‰‡ï¼‰å±…ä¸­ï¼Ÿè¿™ä¸ªé—®é¢˜æˆ‘æ›¾å¤šæ¬¡é‡åˆ°è¿‡ï¼Œä½†æ˜¯æ²¡æœ‰ä¸€æ¬¡è®°å¾—æ€ä¹ˆè§£å†³ï¼Œæ¯æ¬¡éƒ½éœ€è¦è°·æ­Œã€‚ä»Šå¤©ä¹Ÿç¢°åˆ°äº†è¿™ä¸ªæƒ…å†µï¼Œå› æ­¤å°†è§£å†³æ–¹æ¡ˆè®°å½•å¤‡å¿˜ã€‚&lt;/p>
&lt;p>æˆ‘çœ‹åˆ°çš„æœ€ä¼˜é›…çš„è§£å†³æ–¹æ¡ˆå‡ºè‡ª $\TeX$ çš„ &lt;a class="link" href="https://tex.stackexchange.com/" target="_blank" rel="noopener"
>StackExchange&lt;/a> ä¸­çš„&lt;a class="link" href="https://tex.stackexchange.com/a/430904" target="_blank" rel="noopener"
>è¿™ç¯‡å›ç­”&lt;/a>ã€‚åªè¦åœ¨æµ®åŠ¨ä½“å†…å‡å°‘å·¦å³è¾¹è·å³å¯ï¼Œä¹Ÿå°±æ˜¯ä¸‹åˆ—ç¤ºä¾‹çš„ç¬¬ 3-4 è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-latex" data-lang="latex">&lt;span class="line">&lt;span class="cl">&lt;span class="k">\begin&lt;/span>&lt;span class="nb">{&lt;/span>figure&lt;span class="nb">}&lt;/span>[t]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">\centering&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">\addtolength&lt;/span>&lt;span class="nb">{&lt;/span>&lt;span class="k">\leftskip&lt;/span>&lt;span class="nb">}{&lt;/span>-2cm&lt;span class="nb">}&lt;/span> &lt;span class="c">% increase (absolute) value if needed
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c">&lt;/span> &lt;span class="k">\addtolength&lt;/span>&lt;span class="nb">{&lt;/span>&lt;span class="k">\rightskip&lt;/span>&lt;span class="nb">}{&lt;/span>-2cm&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">\includegraphics&lt;/span>&lt;span class="na">[width=1.2\textwidth]&lt;/span>&lt;span class="nb">{&lt;/span>image&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="k">\caption&lt;/span>&lt;span class="nb">{&lt;/span>example&lt;span class="nb">}&lt;/span>&lt;span class="k">\label&lt;/span>&lt;span class="nb">{&lt;/span>fig:example&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">\end&lt;/span>&lt;span class="nb">{&lt;/span>figure&lt;span class="nb">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>æ•ˆæœå¦‚ä¸‹å›¾ï¼š&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/202212312230698.png?x-oss-process=style/common"
loading="lazy"
alt="æ•ˆæœå›¾"
>&lt;/p></description></item><item><title>ä½¿ç”¨é˜¿é‡Œäº‘ OSS å­˜å‚¨æœåŠ¡ + CloudFlare é…ç½®å›¾åºŠ</title><link>https://blog.furffisite.link/p/imagebed-oss-conf/</link><pubDate>Tue, 20 Dec 2022 01:48:09 +0800</pubDate><guid>https://blog.furffisite.link/p/imagebed-oss-conf/</guid><description>&lt;img src="https://files.furffisite.link/blogimg/202212251307965.jpg" alt="Featured image of post ä½¿ç”¨é˜¿é‡Œäº‘ OSS å­˜å‚¨æœåŠ¡ + CloudFlare é…ç½®å›¾åºŠ" />&lt;h2 id="å‰è¨€">å‰è¨€
&lt;/h2>&lt;p>ä»Šå¤©æƒ³ç»™æˆ‘è¿™ä¸ªåšå®¢åŠ ä¸€å¼ å›¾ç‰‡ï¼Œä½†æ˜¯æŠŠå›¾ç‰‡æ–‡ä»¶å’Œåšå®¢çš„æ–‡ç« æ”¾åœ¨ä¸€èµ·ï¼Œå†…å®¹ç®¡ç†æ¯”è¾ƒéº»çƒ¦ï¼Œå¹¶ä¸”ä¼šå¢å¤§ git ä»“åº“çš„ä½“ç§¯ã€‚å› æ­¤æˆ‘å°±æƒ³åˆ°äº†ä½¿ç”¨å›¾åºŠåˆ†æµåšå®¢ä¸­çš„å›¾ç‰‡ã€‚&lt;/p>
&lt;p>åœ¨ç½‘ä¸Šæœç´¢äº†ä¸€äº›å›¾åºŠæœåŠ¡ï¼Œå‘ç°å›½å†…å…è´¹çš„å›¾åºŠæœåŠ¡è¦ä¹ˆè®¿é—®æ…¢ï¼ˆå› ä¸ºæºæœåŠ¡å™¨åœ¨æµ·å¤–ï¼‰ï¼Œè¦ä¹ˆä¸ç¨³å®šï¼ˆå­˜åœ¨å…³ç«™/è¢«å¢™æˆ–è€…è½¬ä¸ºä»˜è´¹çš„å¯èƒ½ï¼‰ï¼Œè€Œå›½å¤–è‘—åçš„å›¾åºŠ imgur åœ¨å›½å†…ä¹Ÿå¤„äºåŠå¢™çš„çŠ¶æ€ã€‚äºæ˜¯å°±æƒ³åˆ°äº†ä½¿ç”¨äº‘è®¡ç®—å‚å•†æä¾›çš„ OSS å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼Œè™½ç„¶æ”¶è´¹ä½†æ˜¯å¯¹äºæˆ‘è¿™ç§æœ‰è®¡åˆ’é•¿æ—¶é—´è¿è¥ä¸‹å»çš„åšå®¢è€Œè¨€ï¼Œå›¾åºŠçš„å¯é æ€§æ˜¯æœ€é‡è¦çš„ã€‚æˆ‘å¯ä¸æƒ³å› ä¸ºå›¾ç«™æŒ‚æ‰å¯¼è‡´æˆ‘åœ¨æœªæ¥çš„æŸä¸€å¤©è¦é‡æ–°æ‰¾åˆ°å†ä¸Šä¼ è¿™äº›å›¾ç‰‡ã€‚&lt;/p>
&lt;p>åœ¨çœ‹äº†é˜¿é‡Œäº‘ã€è…¾è®¯äº‘å’Œåä¸ºäº‘ä¸‰å®¶ä¹‹åæˆ‘é€‰æ‹©äº†é˜¿é‡Œäº‘ï¼Œå› ä¸ºé˜¿é‡Œäº‘æœ‰æ¯æœˆ 5GB å­˜å‚¨å’Œå¤–ç½‘æµé‡çš„çš„å…è´¹é¢åº¦ï¼Œè¯·æ±‚è´¹ç”¨ä¹Ÿå°±æ¯ä¸‡æ¬¡ä¸€æ¯›é’±ï¼Œå¯¹äºæˆ‘è¿™ç§åˆšå¼€çš„å°ç«™è€Œè¨€ï¼Œå­˜å‚¨ã€æµé‡å’Œè¯·æ±‚éƒ½ä¸ä¼šå¾ˆå¤§ï¼ˆå¦‚æœè¢«æ”»å‡»é‚£å°±æ˜¯å¦ä¸€å›äº‹äº†ï¼Œè¿˜æœ›æ‚¨æ‰‹ä¸‹ç•™æƒ…ï¼‰ã€‚å…³äºé˜¿é‡Œäº‘çš„å®šä»·è¯¦æƒ…å¯ä»¥æŸ¥çœ‹é˜¿é‡Œäº‘çš„&lt;a class="link" href="https://www.aliyun.com/price/product#/oss/detail/ossbag" target="_blank" rel="noopener"
>ä»·æ ¼è®¡ç®—å™¨&lt;/a>ã€‚&lt;/p>
&lt;p>ç„¶åæˆ‘å°±æŒ‰ç…§&lt;a class="link" href="https://www.antmoe.com/posts/3f5daa8e/" target="_blank" rel="noopener"
>è¿™ç¯‡åšæ–‡&lt;/a>çš„æ­¥éª¤æ­å»ºäº†å›¾åºŠï¼Œé€”ä¸­é‡åˆ°äº†åŸæ–‡æ²¡æœ‰æåŠçš„è®¸å¤šé—®é¢˜ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€ä¸‹å®Œæ•´çš„æ­¥éª¤ã€æˆ‘é‡åˆ°çš„é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆã€‚&lt;/p>
&lt;h2 id="ä¸»è¦æ“ä½œæµç¨‹">ä¸»è¦æ“ä½œæµç¨‹
&lt;/h2>&lt;ol>
&lt;li>
&lt;p>&lt;strong>åˆ›å»ºBucket&lt;/strong>ï¼šå¼€é€š OSS å¹¶åˆ›å»º Bucketã€‚åˆ›å»º Bucket æ—¶é€‰æ‹©æµ·å¤–çš„åœ°åŸŸï¼ˆå¦‚æœåœ¨åˆ«çš„åœ°åŸŸæ²¡æœ‰æœåŠ¡å™¨çš„è¯ï¼Œå»ºè®®ä½¿ç”¨é¦™æ¸¯ï¼‰ï¼Œå­˜å‚¨ç±»å‹é€‰æ‹©æ ‡å‡†å­˜å‚¨å³å¯ï¼Œ&lt;b style="color:red">è¯»å†™æƒé™ä¸€å®šè¦é€‰æ‹©ç§æœ‰&lt;/b>ï¼Œå…¶ä½™çš„é™„åŠ æœåŠ¡æŒ‰éœ€å¯ç”¨ï¼ˆæœ‰çš„å¾—åŠ é’±ï¼‰ã€‚åˆ›å»ºå®Œæˆåå¯ä»¥å‘ Bucket ä¸­ä¸Šä¼ ä¸€å¼ å›¾ç‰‡ä½œä¸ºæµ‹è¯•å›¾ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>é…ç½®è®¿é—®æƒé™&lt;/strong>ï¼šè¿›å…¥&lt;strong>æƒé™æ§åˆ¶ -&amp;gt; Bucket æˆæƒç­–ç•¥&lt;/strong>é¢æ¿ï¼Œæ·»åŠ æˆæƒï¼Œé…ç½®å¦‚ä¸‹å›¾ã€‚&lt;/p>
&lt;p>&lt;img src="https://files.furffisite.link/blogimg/202212312338802.png"
loading="lazy"
>&lt;/p>
&lt;p>IP å­—æ®µå¡«å†™çš„æ˜¯ CloudFlare çš„èŠ‚ç‚¹ IPï¼Œåˆ—è¡¨å¦‚ä¸‹ï¼ˆæ¥è‡ª&lt;a class="link" href="https://zhuanlan.zhihu.com/p/143219668" target="_blank" rel="noopener"
>çŸ¥ä¹ä¸“æ &lt;/a>ï¼‰ï¼š&lt;/p>
&lt;pre>&lt;code> 173.245.48.0/20,103.21.244.0/22,103.22.200.0/22,103.31.4.0/22,
141.101.64.0/18,108.162.192.0/18,190.93.240.0/20,188.114.96.0/20,
197.234.240.0/22,198.41.128.0/17,162.158.0.0/15,104.16.0.0/12,
172.64.0.0/13,131.0.72.0/22,103.21.244.0/22,103.22.200.0/22,
103.31.4.0/22,104.16.0.0/12,108.162.192.0/18,131.0.72.0/22,
141.101.64.0/18,162.158.0.0/15,172.64.0.0/13,173.245.48.0/20,
188.114.96.0/20,190.93.240.0/20,197.234.240.0/22,198.41.128.0/17
&lt;/code>&lt;/pre>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>é…ç½® CDN&lt;/strong>ï¼šåœ¨ CloudFlare çš„ DNS ç®¡ç†é¢æ¿æ·»åŠ  CNAME è®°å½•ï¼Œç›®æ ‡è®¾ä¸º Bucket çš„åŸŸåï¼ˆå¯ä»¥åœ¨ Bucket çš„&lt;strong>æ¦‚è§ˆ&lt;/strong>ç•Œé¢æ‰¾åˆ°ï¼‰ï¼Œä»£ç†çŠ¶æ€è®¾ä¸ºå·²ä»£ç†ï¼Œå¦åˆ™ CDN ä¸èµ·ä½œç”¨ã€‚
&lt;img src="https://files.furffisite.link/blogimg/202212312309953.png"
loading="lazy"
>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ç»‘å®šåŸŸå&lt;/strong>ï¼šåœ¨é˜¿é‡Œäº‘çš„ &lt;strong>Bucket é…ç½® -&amp;gt; åŸŸåç®¡ç†&lt;/strong>ç•Œé¢ç»‘å®šä½ åˆšè®¾ç½®çš„åŸŸåï¼Œè¿™æ—¶é˜¿é‡Œäº‘éœ€è¦éªŒè¯åŸŸåçš„æ‰€æœ‰æƒï¼ŒæŒ‰ç…§å…¶æ‰€è¯´çš„åœ¨ CloudFlare çš„ DNS ç®¡ç†å¤„æ·»åŠ æŒ‡å®š TXT è®°å½•å³å¯ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>åˆ›å»ºå¹¶æ·»åŠ è¯ä¹¦&lt;/strong>ï¼šåœ¨ CloudFlare çš„é…ç½®é¢æ¿çš„ &lt;strong>SSL/TLS -&amp;gt; æºæœåŠ¡å™¨&lt;/strong>å¤„ï¼Œé€‰æ‹©åˆ›å»ºè¯ä¹¦ã€‚åˆ›å»ºä¹‹åä¼šå‘Šè¯‰ä½ æºè¯ä¹¦ä¸ç§é’¥ï¼Œè¿™ä¸ªç•Œé¢æš‚æ—¶ä¸è¦åŠ¨ã€‚æ‰“å¼€åˆšæ‰åœ¨é˜¿é‡Œäº‘æ§åˆ¶å°ç»‘å®šè¯ä¹¦çš„ç•Œé¢ï¼Œé€‰æ‹©&lt;strong>è¯ä¹¦æ‰˜ç®¡&lt;/strong>ï¼Œå¹¶&lt;strong>ä¸Šä¼  SSL è¯ä¹¦&lt;/strong>ï¼Œè¿™æ—¶ä¼šæ‰“å¼€&lt;strong>SSL è¯ä¹¦&lt;/strong>çš„ç•Œé¢ï¼Œé€‰æ‹©&lt;strong>ä¸Šä¼ è¯ä¹¦&lt;/strong>ï¼Œå¹¶å°† CloudFlare ç»™å‡ºçš„æºè¯ä¹¦å’Œå¯†é’¥å¤åˆ¶åˆ°ä¸Šä¼ è¯ä¹¦çš„å¯¹åº”å­—æ®µå¤„ï¼ˆè¯ä¹¦åå­—éšä¾¿è®¾ï¼‰ï¼Œç„¶åç¡®å®šã€‚è¿™æ—¶åˆ‡æ¢å›&lt;strong>ä¸Šä¼  SSL è¯ä¹¦&lt;/strong>ï¼Œåº”è¯¥å°±èƒ½åœ¨è¯ä¹¦åç§°å¤„çœ‹åˆ°åˆšåˆšè®¾ç½®çš„è¯ä¹¦åå­—äº†ï¼ˆçœ‹ä¸åˆ°çš„è¯é‡å¼€ä¸€ä¸‹è¿™ä¸ªç•Œé¢è¯•è¯•ï¼‰ï¼Œé€‰ä¸­ï¼Œç„¶åç‚¹ä¸‹æ–¹çš„ä¸Šä¼ å³å¯ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>è¿™æ—¶å°±å·²ç»å¯ä»¥é€šè¿‡ä½ è®¾ç½®çš„åŸŸåè®¿é—®åˆšæ‰ä¸Šä¼ çš„æµ‹è¯•å›¾ç‰‡äº†ã€‚å‡å¦‚æµ‹è¯•å›¾ç‰‡&lt;code>filename.jpg&lt;/code>å­˜å‚¨åœ¨ OSS çš„&lt;code>folder&lt;/code>æ–‡ä»¶å¤¹ä¸‹ï¼Œä½ è®¾ç½®çš„åŸŸåä¸º&lt;code>image.example.org&lt;/code>ï¼Œåˆ™è®¿é—®è·¯å¾„ä¸º&lt;code>https://image.example.org/folder/filename.jpg&lt;/code>ã€‚&lt;/p>
&lt;h2 id="å®‰å…¨æ€§é…ç½®">å®‰å…¨æ€§é…ç½®
&lt;/h2>&lt;ol>
&lt;li>&lt;strong>è·¨åŸŸè®¾ç½®&lt;/strong>ï¼šåœ¨é˜¿é‡Œäº‘ OSS çš„&lt;strong>æ•°æ®å®‰å…¨ -&amp;gt; è·¨åŸŸè®¾ç½®&lt;/strong>ä¸­åˆ›å»ºè·¨åŸŸè§„åˆ™ï¼Œæ¥æºè®¾ç½®ä¸ºä½ çš„ç½‘ç«™çš„åœ°å€ã€‚ä¸ºäº†èƒ½è®©ç½‘ç«™åœ¨æœ¬åœ°æµ‹è¯•æ—¶ä¹Ÿèƒ½æ­£å¸¸å±•ç¤ºå›¾ç‰‡ï¼Œå»ºè®®åŒæ—¶æ·»åŠ &lt;code>localhost:*&lt;/code>ä¸&lt;code>127.0.0.1:*&lt;/code>ã€‚&lt;/li>
&lt;li>&lt;strong>é˜²ç›—é“¾è®¾ç½®&lt;/strong>ï¼šå’Œè·¨åŸŸè®¾ç½®ç±»ä¼¼ã€‚ä¸åŒä¹‹å¤„åœ¨äº Referer æ˜¯åŒ…å«è¯·æ±‚åè®®çš„ï¼Œæ‰€ä»¥ç±»ä¼¼äº&lt;code>example.org&lt;/code>æˆ–&lt;code>localhost:*&lt;/code>ç­‰ä¸åŒ…æ‹¬åè®®çš„é…ç½®æ˜¯æ— æ•ˆçš„ï¼Œéœ€è¦æ”¹ä¸º&lt;code>https://example.com&lt;/code>æˆ–&lt;code>*://localhost:*&lt;/code>ï¼›éœ€è¦æ³¨æ„çš„æ˜¯&lt;code>*.example.org&lt;/code>è™½ç„¶æ˜¯æœ‰æ•ˆçš„ï¼Œä½†æ˜¯æ²¡æœ‰æŒ‡å®š https åè®®ï¼Œå®‰å…¨èµ·è§æœ€å¥½æ”¹ä¸º&lt;code>https://*.example.org&lt;/code>ã€‚&lt;/li>
&lt;/ol>
&lt;h2 id="picgo-é…ç½®">PicGo é…ç½®
&lt;/h2>&lt;p>&lt;a class="link" href="https://molunerfinn.com/PicGo/" target="_blank" rel="noopener"
>PicGo&lt;/a> æ˜¯ä¸€æ¬¾å¿«é€Ÿä¸Šä¼ å›¾ç‰‡åˆ°å›¾åºŠï¼Œå¹¶è‡ªåŠ¨å¤åˆ¶å›¾ç‰‡URLåˆ°å‰ªè´´æ¿çš„å·¥å…·ï¼Œä½ å¯ä»¥åœ¨ &lt;a class="link" href="https://github.com/Molunerfinn/PicGo/releases/" target="_blank" rel="noopener"
>Github çš„ release é¡µ&lt;/a>è·å–è¯¥ç¨‹åºã€‚&lt;/p>
&lt;ol>
&lt;li>
&lt;p>&lt;strong>æƒé™è®¾ç½®&lt;/strong>ï¼šåœ¨é˜¿é‡Œäº‘çš„&lt;strong>æƒé™æ§åˆ¶ -&amp;gt; Bucket æˆæƒç­–ç•¥&lt;/strong>é¢æ¿æ–°å¢æˆæƒï¼Œé…ç½®å¦‚ä¸‹ï¼š
&lt;img src="https://files.furffisite.link/blogimg/202301010016963.png"
loading="lazy"
>&lt;/p>
&lt;p>å¦‚æœå½“å‰æ²¡æœ‰RAMå­å¸å·ï¼Œè¯·ç‚¹å‡»&lt;strong>å³ä¸Šè§’å¤´åƒ -&amp;gt; è®¿é—®æ§åˆ¶&lt;/strong>ï¼Œç„¶ååœ¨å·¦ä¾§çš„&lt;strong>èº«ä»½ç®¡ç† -&amp;gt; ç”¨æˆ·&lt;/strong>å¤„åˆ›å»ºä¸€ä¸ªå­å¸å·ã€‚åˆ›å»ºå®Œæˆååœ¨å­å¸å·çš„è¯¦æƒ…é¡µ&lt;strong>åˆ›å»º AccessKey&lt;/strong>ï¼Œå¾—åˆ° AccessKey çš„ KeyID ä¸KeySecretï¼Œä¿ç•™å¤‡ç”¨ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;strong>ä¸Šä¼ é…ç½®&lt;/strong>ï¼šæ‰“å¼€ PicGo ä¸»ç•Œé¢ï¼Œåœ¨&lt;strong>å›¾åºŠè®¾ç½® -&amp;gt; é˜¿é‡Œäº‘ OSS&lt;/strong> å†…å¡«å†™å¯¹åº”çš„è¡¨å•é¡¹ã€‚â€œKeyIDâ€ ä¸ â€œKeySecretâ€ å³åˆšæ‰è·å–çš„å­å¸å· AccessKey çš„ KeyID ä¸ KeySecretï¼Œâ€œè®¾å®š Bucketâ€ä¸º Bucket çš„åç§°ï¼Œâ€œå­˜å‚¨åŒºåŸŸâ€ä¸º Bucket æ‰€åœ¨åŒºåŸŸï¼ˆä¸ Bucket åŸŸåå†…çš„å€¼ç»Ÿä¸€ï¼Œä¾‹å¦‚&lt;code>oss-cn-hongkong&lt;/code>ï¼‰ï¼Œè‡ªå®šä¹‰åŸŸåå¡«å†™ä½ è®¾ç½®çš„åŸŸåï¼Œå…¶ä½™ä¸¤é¡¹æŒ‰éœ€å¡«å†™å³å¯ã€‚é…ç½®å®Œæˆåç‚¹å‡»ç¡®å®šå¹¶è®¾ä¸ºé»˜è®¤å›¾åºŠã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>æ³¨ï¼šå¦‚æœä½ ä½¿ç”¨çš„æ¡Œé¢ç¯å¢ƒæ˜¯ KDE Plasmaï¼Œå¯èƒ½éœ€è¦åœ¨ PicGo è®¾ç½®å†…æ‰“å¼€â€œä½¿ç”¨å†…ç½®å‰ªè´´æ¿ä¸Šä¼ â€ä¸€é¡¹ï¼Œå¦åˆ™æ— æ³•æ­£å¸¸ä»å‰ªè´´æ¿ç›´æ¥ä¸Šä¼ å›¾ç‰‡ã€‚æˆ‘ä½¿ç”¨çš„ Linux å‘è¡Œç‰ˆæ˜¯ KDE Neonï¼Œå…¶å®ƒå‘è¡Œç‰ˆ/æ¡Œé¢ç¯å¢ƒ/æ“ä½œç³»ç»Ÿå°šæœªæµ‹è¯•ã€‚&lt;/p></description></item></channel></rss>